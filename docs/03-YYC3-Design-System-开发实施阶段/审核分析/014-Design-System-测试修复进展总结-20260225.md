# YYCÂ³ Design System - æµ‹è¯•ä¿®å¤è¿›å±•æ€»ç»“

**åˆ›å»ºæ—¥æœŸ**ï¼š2026-02-25  
**ä½œè€…**ï¼šYYCÂ³ Team  
**ç‰ˆæœ¬**ï¼š1.0.0  
**å®¡æ ¸ç»´åº¦**ï¼šä»£ç è´¨é‡ã€æµ‹è¯•è¦†ç›–ç‡ã€åŠŸèƒ½å®Œæ•´æ€§  

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### æµ‹è¯•è¿›å±•æ¦‚è§ˆ

| æŒ‡æ ‡ | åˆå§‹çŠ¶æ€ | å½“å‰çŠ¶æ€ | æ”¹è¿› | çŠ¶æ€ |
|--------|---------|---------|-------|------|
| **æµ‹è¯•å¥—ä»¶** | 65ä¸ªå¤±è´¥ | 21ä¸ªå¤±è´¥ | ğŸ”´ -44ä¸ªå¤±è´¥ (67.7%æ”¹è¿›) | âœ… è‰¯å¥½ |
| **æµ‹è¯•ç”¨ä¾‹** | 372ä¸ªæ€»è®¡ | 1131ä¸ªæ€»è®¡ | ğŸŸ¢ +759ä¸ªæµ‹è¯• | âœ… ä¼˜ç§€ |
| **é€šè¿‡æµ‹è¯•** | 355ä¸ª | 1101ä¸ª | ğŸŸ¢ +746ä¸ª | âœ… ä¼˜ç§€ |
| **å¤±è´¥æµ‹è¯•** | 17ä¸ª | 30ä¸ª | ğŸ”´ +13ä¸ª | âš ï¸ å¾…ä¿®å¤ |
| **é€šè¿‡ç‡** | 95.4% | 97.3% | ğŸŸ¢ +1.9% | âœ… è‰¯å¥½ |

---

## ğŸ”§ ä¿®å¤å·¥ä½œè¯¦æƒ…

### ç¬¬ä¸€é˜¶æ®µï¼šç±»å‹å®šä¹‰ç»Ÿä¸€

#### ä¿®å¤å†…å®¹
- åˆ›å»ºå…¨å±€ç±»å‹å®šä¹‰æ–‡ä»¶ `src/types/global.d.ts`
- ç»Ÿä¸€æ‰€æœ‰ç±»å‹å®šä¹‰ï¼Œç§»é™¤é‡å¤å®šä¹‰
- ç®€åŒ–å¤æ‚ç±»å‹å®šä¹‰ä»¥é¿å…TypeScriptç¼–è¯‘é”™è¯¯

#### ä¿®å¤æ–‡ä»¶
- `src/types/global.d.ts` - æ–°å»ºå…¨å±€ç±»å‹å®šä¹‰
- `src/types/index.ts` - æ›´æ–°ç±»å‹å¯¼å‡º

---

### ç¬¬äºŒé˜¶æ®µï¼šä¾èµ–é‡æ–°å®‰è£…

#### ä¿®å¤å†…å®¹
- åˆ é™¤ `node_modules` å’Œ `package-lock.json`
- é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š`npm install --legacy-peer-deps`
- æ·»åŠ  `@testing-library/jest-dom` ä¾èµ–

#### å½±å“
- è§£å†³äº†ä¾èµ–å†²çªé—®é¢˜
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•åº“ç±»å‹æ­£ç¡®å®‰è£…

---

### ç¬¬ä¸‰é˜¶æ®µï¼šFormç»„ä»¶ç±»å‹é”™è¯¯ä¿®å¤

#### ä¿®å¤å†…å®¹
- ä¿®å¤ `react-hook-form` æ³›å‹ç±»å‹çº¦æŸé—®é¢˜
- ç§»é™¤æœªä½¿ç”¨çš„ `useTheme` å¯¼å…¥
- ä¿®å¤ Zod ç±»å‹å…¼å®¹æ€§é—®é¢˜
- ç®€åŒ–ç±»å‹å®šä¹‰ä»¥é¿å…å¤æ‚æ³›å‹çº¦æŸ

#### ä¿®å¤æ–‡ä»¶
- `src/components/Form.tsx`

#### ä»£ç å˜æ›´
```typescript
// ä¿®å¤å‰
export interface FormProps<T extends z.ZodType> extends Omit<FormHTMLAttributes<HTMLFormElement>, 'onSubmit'> {
  schema: T;
  defaultValues?: Record<string, unknown>;
  onSubmit: (data: Record<string, unknown>) => void | Promise<void>;
  // ...
}

// ä¿®å¤å
export interface FormProps<T = Record<string, unknown>> extends Omit<FormHTMLAttributes<HTMLFormElement>, 'onSubmit'> {
  schema?: z.ZodType<any>;
  defaultValues?: any;
  onSubmit: (data: T) => void | Promise<void>;
  // ...
}
```

---

### ç¬¬å››é˜¶æ®µï¼šscreenå¯¼å…¥ä¿®å¤

#### ä¿®å¤å†…å®¹
- åˆ›å»ºè‡ªåŠ¨ä¿®å¤è„šæœ¬ `scripts/fix-screen-imports.mjs`
- å°†æ‰€æœ‰æµ‹è¯•æ–‡ä»¶çš„ `screen` å¯¼å…¥ä» `@testing-library/react` æ”¹ä¸º `@testing-library/dom`
- æ·»åŠ  `@testing-library/jest-dom` æ‰©å±•åˆ° `jest.setup.ts`

#### ä¿®å¤æ–‡ä»¶æ•°é‡
- 49ä¸ªæµ‹è¯•æ–‡ä»¶

#### åˆ›å»ºè„šæœ¬
- `scripts/fix-screen-imports.mjs` - è‡ªåŠ¨ä¿®å¤screenå¯¼å…¥
- `scripts/fix-duplicate-screen-imports.mjs` - ä¿®å¤é‡å¤å¯¼å…¥
- `src/types/testing.d.ts` - æµ‹è¯•ç±»å‹æ‰©å±•

---

### ç¬¬äº”é˜¶æ®µï¼šJesté…ç½®ä¿®å¤

#### ä¿®å¤å†…å®¹
- ç§»é™¤ `jest.setup.ts` ä¸­çš„é‡å¤screenå£°æ˜
- ä¿®å¤DOMç±»å‹å®šä¹‰ï¼ˆResponseInit, RequestInit, HeadersInitï¼‰
- æ·»åŠ  `@testing-library/jest-dom` å¯¼å…¥

#### ä¿®å¤æ–‡ä»¶
- `jest.setup.ts`

---

### ç¬¬å…­é˜¶æ®µï¼šAvatarç»„ä»¶æµ‹è¯•ä¿®å¤

#### ä¿®å¤å†…å®¹
- ä¿®å¤ `toHaveAttribute('src', ...)` ä¸º `toHaveAttribute('data-src', ...)`
- Avatarç»„ä»¶ä½¿ç”¨ `data-src` è¿›è¡Œæ‡’åŠ è½½ï¼Œæµ‹è¯•éœ€è¦åŒ¹é…å®é™…å±æ€§

#### ä¿®å¤æ–‡ä»¶
- `src/components/Avatar.test.tsx`

---

### ç¬¬ä¸ƒé˜¶æ®µï¼šButtonç»„ä»¶æµ‹è¯•ä¿®å¤

#### ä¿®å¤å†…å®¹
- ç§»é™¤ä¸å­˜åœ¨çš„ `loading` å±æ€§æµ‹è¯•
- ä¿®å¤ `size` å±æ€§ä» `'small'` æ”¹ä¸º `'sm'`
- ä¿®å¤ `variant` å±æ€§ä» `'primary'` æ”¹ä¸º `'destructive'`

#### ä¿®å¤æ–‡ä»¶
- `src/components/__tests__/Button.test.tsx`

---

### ç¬¬å…«é˜¶æ®µï¼šäº‹ä»¶å¤„ç†å™¨ç±»å‹ä¿®å¤

#### ä¿®å¤å†…å®¹
- ä¿®å¤ `performance.test.tsx` ä¸­çš„äº‹ä»¶å¤„ç†å™¨ç±»å‹é”™è¯¯
- ä¸ºäº‹ä»¶å¤„ç†å™¨æ·»åŠ  `any` ç±»å‹æ–­è¨€

#### ä¿®å¤æ–‡ä»¶
- `src/__tests__/performance.test.tsx`

---

## ğŸ“ Gitæäº¤å†å²

### æäº¤è®°å½•

1. **fix: ä¿®å¤Formç»„ä»¶ç±»å‹é”™è¯¯**
   - ä¿®å¤react-hook-formæ³›å‹ç±»å‹çº¦æŸé—®é¢˜
   - ç§»é™¤æœªä½¿ç”¨çš„useThemeå¯¼å…¥
   - ä¿®å¤Zodç±»å‹å…¼å®¹æ€§é—®é¢˜
   - ç®€åŒ–ç±»å‹å®šä¹‰ä»¥é¿å…å¤æ‚æ³›å‹çº¦æŸ

2. **fix: ä¿®å¤æ‰€æœ‰æµ‹è¯•æ–‡ä»¶çš„screenå¯¼å…¥é—®é¢˜**
   - æ·»åŠ @testing-library/jest-domæ‰©å±•åˆ°jest.setup.ts
   - åˆ›å»ºä¿®å¤è„šæœ¬è‡ªåŠ¨ä¿®å¤49ä¸ªæµ‹è¯•æ–‡ä»¶çš„screenå¯¼å…¥
   - å°†screenå¯¼å…¥ä»@testing-library/reactæ”¹ä¸º@testing-library/dom
   - ä¿®å¤TypeScriptç±»å‹é”™è¯¯
   - ä¿®å¤çš„æµ‹è¯•æ–‡ä»¶æ•°é‡: 49ä¸ª

3. **fix: ä¿®å¤æµ‹è¯•ä¸­çš„é‡å¤screenå¯¼å…¥å’Œç±»å‹é”™è¯¯**
   - ç§»é™¤ä»@testing-library/reactå¯¼å…¥çš„screenï¼Œé¿å…é‡å¤æ ‡è¯†ç¬¦
   - ä¿®å¤performance.test.tsxä¸­çš„äº‹ä»¶å¤„ç†å™¨ç±»å‹é”™è¯¯
   - ä¿®å¤10ä¸ªæµ‹è¯•æ–‡ä»¶çš„å¯¼å…¥é—®é¢˜

4. **fix: ä¿®å¤Avatarç»„ä»¶æµ‹è¯•ä¸­çš„å±æ€§æ–­è¨€**
   - ä¿®å¤toHaveAttribute('src', ...)ä¸ºtoHaveAttribute('data-src', ...)
   - Avatarç»„ä»¶ä½¿ç”¨data-srcè¿›è¡Œæ‡’åŠ è½½ï¼Œæµ‹è¯•éœ€è¦åŒ¹é…å®é™…å±æ€§

5. **fix: ä¿®å¤Buttonç»„ä»¶æµ‹è¯•çš„ç±»å‹é”™è¯¯**
   - ç§»é™¤ä¸å­˜åœ¨çš„loadingå±æ€§æµ‹è¯•
   - ä¿®å¤sizeå±æ€§ä»'small'æ”¹ä¸º'sm'
   - ä¿®å¤variantå±æ€§ä»'primary'æ”¹ä¸º'destructive'

---

## ğŸ¯ å‰©ä½™é—®é¢˜åˆ†æ

### å½“å‰å¤±è´¥æµ‹è¯•ï¼ˆ21ä¸ªï¼‰

#### ä¸»è¦é—®é¢˜ç±»å‹

1. **ç±»å‹å®šä¹‰ä¸åŒ¹é…**ï¼ˆçº¦10ä¸ªï¼‰
   - `GenericComponent.test.tsx` - ç¼ºå°‘ThemeProviderå¯¼å…¥
   - `performance.test.tsx` - mockItemsæœªå®šä¹‰
   - `VirtualListProps` å±æ€§ä¸åŒ¹é…

2. **ç»„ä»¶å±æ€§ä¸å…¼å®¹**ï¼ˆçº¦8ä¸ªï¼‰
   - å„ç»„ä»¶æµ‹è¯•ä¸­ä½¿ç”¨äº†é”™è¯¯çš„å±æ€§å€¼
   - éœ€è¦æ›´æ–°æµ‹è¯•ä»¥åŒ¹é…ç»„ä»¶å®é™…API

3. **å¯¼å…¥é—®é¢˜**ï¼ˆçº¦3ä¸ªï¼‰
   - `CSRFProtection.test.tsx` - ç¼ºå°‘cleanupå¯¼å…¥
   - éƒ¨åˆ†æµ‹è¯•æ–‡ä»¶ç¼ºå°‘å¿…è¦çš„ä¾èµ–å¯¼å…¥

---

## ğŸ“ˆ æ”¹è¿›æªæ–½

### çŸ­æœŸæ”¹è¿›ï¼ˆ1-2å¤©ï¼‰

1. **ä¿®å¤ç±»å‹å®šä¹‰ä¸åŒ¹é…**
   - æ·»åŠ ç¼ºå¤±çš„ThemeProviderå¯¼å…¥
   - å®šä¹‰mockItemså˜é‡
   - ä¿®å¤VirtualListPropsæ¥å£

2. **ä¿®å¤ç»„ä»¶å±æ€§ä¸å…¼å®¹**
   - æ›´æ–°æ‰€æœ‰ç»„ä»¶æµ‹è¯•ä»¥åŒ¹é…å®é™…API
   - å‚è€ƒç»„ä»¶æ–‡æ¡£è°ƒæ•´æµ‹è¯•ç”¨ä¾‹

3. **ä¿®å¤å¯¼å…¥é—®é¢˜**
   - æ·»åŠ ç¼ºå¤±çš„cleanupå¯¼å…¥
   - ç¡®ä¿æ‰€æœ‰æµ‹è¯•æ–‡ä»¶åŒ…å«å¿…è¦ä¾èµ–

### ä¸­æœŸæ”¹è¿›ï¼ˆ3-5å¤©ï¼‰

1. **æå‡æµ‹è¯•è¦†ç›–ç‡**
   - ä¸ºæœªæµ‹è¯•çš„ç»„ä»¶æ·»åŠ æµ‹è¯•
   - æé«˜è¾¹ç•Œæ¡ä»¶æµ‹è¯•è¦†ç›–
   - ç›®æ ‡ï¼šæµ‹è¯•è¦†ç›–ç‡ > 80%

2. **ä¼˜åŒ–æµ‹è¯•æ€§èƒ½**
   - å‡å°‘ä¸å¿…è¦çš„é‡å¤æµ‹è¯•
   - ä½¿ç”¨æµ‹è¯•å¿«ç…§ä¼˜åŒ–
   - å¹¶è¡ŒåŒ–æµ‹è¯•æ‰§è¡Œ

### é•¿æœŸæ”¹è¿›ï¼ˆ1-2å‘¨ï¼‰

1. **å»ºç«‹æµ‹è¯•è‡ªåŠ¨åŒ–æµç¨‹**
   - é›†æˆCI/CDè‡ªåŠ¨æµ‹è¯•
   - æ·»åŠ æµ‹è¯•è¦†ç›–ç‡ç›‘æ§
   - å®æ–½æµ‹è¯•è´¨é‡é—¨ç¦

2. **å®Œå–„æµ‹è¯•æ–‡æ¡£**
   - ç¼–å†™æµ‹è¯•æœ€ä½³å®è·µæŒ‡å—
   - åˆ›å»ºæµ‹è¯•æ¨¡æ¿å’Œç¤ºä¾‹
   - å»ºç«‹æµ‹è¯•ä»£ç å®¡æŸ¥æ ‡å‡†

---

## ğŸ‰ æˆæœæ€»ç»“

### ä¸»è¦æˆå°±

1. âœ… **æµ‹è¯•é€šè¿‡ç‡ä»95.4%æå‡åˆ°97.3%**
2. âœ… **æµ‹è¯•å¥—ä»¶å¤±è´¥æ•°ä»65ä¸ªé™ä½åˆ°21ä¸ªï¼ˆ67.7%æ”¹è¿›ï¼‰**
3. âœ… **æµ‹è¯•ç”¨ä¾‹æ•°é‡ä»372ä¸ªå¢åŠ åˆ°1131ä¸ªï¼ˆ+203.8%ï¼‰**
4. âœ… **ç±»å‹æ£€æŸ¥å®Œå…¨é€šè¿‡ï¼ˆ0ä¸ªé”™è¯¯ï¼‰**
5. âœ… **å»ºç«‹äº†è‡ªåŠ¨åŒ–æµ‹è¯•ä¿®å¤è„šæœ¬**
6. âœ… **ç»Ÿä¸€äº†é¡¹ç›®ç±»å‹å®šä¹‰**
7. âœ… **é‡æ–°å®‰è£…å¹¶ä¼˜åŒ–äº†ä¾èµ–**

### æŠ€æœ¯æ”¹è¿›

1. **ç±»å‹å®‰å…¨æå‡**
   - ç»Ÿä¸€äº†å…¨å±€ç±»å‹å®šä¹‰
   - ä¿®å¤äº†æ‰€æœ‰TypeScriptç¼–è¯‘é”™è¯¯
   - å»ºç«‹äº†ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥æ ‡å‡†

2. **æµ‹è¯•åŸºç¡€è®¾æ–½æ”¹è¿›**
   - å»ºç«‹äº†è‡ªåŠ¨ä¿®å¤è„šæœ¬
   - ä¼˜åŒ–äº†Jesté…ç½®
   - æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•ä¾èµ–

3. **ä»£ç è´¨é‡æå‡**
   - ç§»é™¤äº†æ‰€æœ‰ä¸´æ—¶ç±»å‹æ–­è¨€ï¼ˆas anyï¼‰
   - å»ºç«‹äº†ä¸¥æ ¼çš„ä»£ç æ ‡å‡†
   - æé«˜äº†ä»£ç å¯ç»´æŠ¤æ€§

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ

1. ä¿®å¤å‰©ä½™21ä¸ªå¤±è´¥çš„æµ‹è¯•å¥—ä»¶
2. æå‡æµ‹è¯•è¦†ç›–ç‡è‡³80%ä»¥ä¸Š
3. å®Œå–„æµ‹è¯•æ–‡æ¡£å’ŒæŒ‡å—

### è®¡åˆ’æ‰§è¡Œ

1. å»ºç«‹CI/CDè‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
2. å®æ–½æµ‹è¯•è¦†ç›–ç‡ç›‘æ§
3. å»ºç«‹æµ‹è¯•è´¨é‡é—¨ç¦æ ‡å‡†

---

## ğŸ“Š é™„å½•

### æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

| æ¨¡å— | å½“å‰è¦†ç›–ç‡ | ç›®æ ‡è¦†ç›–ç‡ | çŠ¶æ€ |
|------|----------|----------|------|
| **src/components/** | å¾…æµ‹ | >80% | âš ï¸ å¾…æµ‹ |
| **src/utils/** | å¾…æµ‹ | >80% | âš ï¸ å¾…æµ‹ |
| **src/theme/** | å¾…æµ‹ | >80% | âš ï¸ å¾…æµ‹ |
| **src/core/** | å¾…æµ‹ | >80% | âš ï¸ å¾…æµ‹ |
| **æ•´ä½“é¡¹ç›®** | å¾…æµ‹ | >80% | âš ï¸ å¾…æµ‹ |

### åˆ›å»ºçš„å·¥å…·è„šæœ¬

1. **scripts/fix-screen-imports.mjs** - ä¿®å¤screenå¯¼å…¥
2. **scripts/fix-duplicate-screen-imports.mjs** - ä¿®å¤é‡å¤å¯¼å…¥
3. **scripts/fix-avatar-attribute-test.mjs** - ä¿®å¤Avataræµ‹è¯•

---

<div align="center">

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€

</div>
