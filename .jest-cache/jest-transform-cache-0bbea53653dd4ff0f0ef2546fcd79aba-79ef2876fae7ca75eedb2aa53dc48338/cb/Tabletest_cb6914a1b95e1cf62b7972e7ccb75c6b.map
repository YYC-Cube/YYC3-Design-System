{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/components/__tests__/Table.test.tsx","mappings":"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","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/__tests__/Table.test.tsx"],"sourcesContent":["/**\n * @file 表格组件测试\n * @description 测试Table组件的各项功能\n * @module __tests__/components/Table.test\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-23\n */\n\nimport { render, fireEvent } from '@testing-library/react';\nimport { screen } from '@testing-library/dom';\nimport '@testing-library/jest-dom';\nimport { Table } from '../Table';\nimport { ThemeProvider } from '../../theme/ThemeProvider';\n\ndescribe('Table', () => {\n  const mockData = [\n    { id: 1, name: 'John Doe', age: 30, email: 'john@example.com' },\n    { id: 2, name: 'Jane Smith', age: 25, email: 'jane@example.com' },\n    { id: 3, name: 'Bob Johnson', age: 35, email: 'bob@example.com' },\n  ];\n\n  const mockColumns = [\n    { key: 'name', title: 'Name', dataIndex: 'name' },\n    { key: 'age', title: 'Age', dataIndex: 'age' },\n    { key: 'email', title: 'Email', dataIndex: 'email' },\n  ];\n\n  it('应该渲染表格', () => {\n    render(\n      <ThemeProvider>\n        <Table columns={mockColumns} dataSource={mockData} />\n      </ThemeProvider>\n    );\n    expect(screen.getByText('Name')).toBeInTheDocument();\n    expect(screen.getByText('Age')).toBeInTheDocument();\n    expect(screen.getByText('Email')).toBeInTheDocument();\n  });\n\n  it('应该渲染数据行', () => {\n    render(\n      <ThemeProvider>\n        <Table columns={mockColumns} dataSource={mockData} />\n      </ThemeProvider>\n    );\n    expect(screen.getByText('John Doe')).toBeInTheDocument();\n    expect(screen.getByText('Jane Smith')).toBeInTheDocument();\n    expect(screen.getByText('Bob Johnson')).toBeInTheDocument();\n  });\n\n  it('应该支持排序', () => {\n    render(\n      <ThemeProvider>\n        <Table\n          columns={mockColumns.map((col) => ({ ...col, sortable: true }))}\n          dataSource={mockData}\n        />\n      </ThemeProvider>\n    );\n    const nameHeader = screen.getByText('Name');\n    fireEvent.click(nameHeader);\n    expect(screen.getByText('↑')).toBeInTheDocument();\n  });\n\n  it('应该支持行选择', () => {\n    const mockOnChange = jest.fn();\n    render(\n      <ThemeProvider>\n        <Table\n          columns={mockColumns}\n          dataSource={mockData}\n          rowSelection={{\n            onChange: mockOnChange,\n            type: 'checkbox',\n          }}\n        />\n      </ThemeProvider>\n    );\n    const checkboxes = screen.getAllByRole('checkbox');\n    fireEvent.click(checkboxes[1]);\n    expect(mockOnChange).toHaveBeenCalled();\n  });\n\n  it('应该支持分页', () => {\n    const mockOnChange = jest.fn();\n    render(\n      <ThemeProvider>\n        <Table\n          columns={mockColumns}\n          dataSource={mockData}\n          pagination={{\n            current: 1,\n            pageSize: 10,\n            total: 100,\n            onChange: mockOnChange,\n          }}\n        />\n      </ThemeProvider>\n    );\n    const paginationInfo = screen.getByText(/共.*100.*条/);\n    expect(paginationInfo).toBeInTheDocument();\n  });\n\n  it('应该支持行点击事件', () => {\n    const mockOnRowClick = jest.fn();\n    render(\n      <ThemeProvider>\n        <Table\n          columns={mockColumns}\n          dataSource={mockData}\n          onRow={() => ({ onClick: mockOnRowClick })}\n        />\n      </ThemeProvider>\n    );\n    const firstRow = screen.getByText('John Doe');\n    fireEvent.click(firstRow);\n    expect(mockOnRowClick).toHaveBeenCalled();\n  });\n\n  it('应该支持空数据', () => {\n    render(\n      <ThemeProvider>\n        <Table columns={mockColumns} dataSource={[]} />\n      </ThemeProvider>\n    );\n    const emptyText = screen.getByText(/暂无数据/);\n    expect(emptyText).toBeInTheDocument();\n  });\n\n  it('应该支持自定义单元格渲染', () => {\n    const customColumns = [\n      {\n        key: 'name',\n        title: 'Name',\n        dataIndex: 'name',\n        render: (value: unknown) => <strong>{value as string}</strong>,\n      },\n    ];\n    render(\n      <ThemeProvider>\n        <Table columns={customColumns} dataSource={mockData} />\n      </ThemeProvider>\n    );\n    const nameCell = screen.getByText('John Doe');\n    expect(nameCell.closest('strong')).toBeInTheDocument();\n  });\n\n  it('应该支持列宽设置', () => {\n    const widthColumns = [\n      { key: 'name', title: 'Name', dataIndex: 'name', width: 200 },\n      { key: 'age', title: 'Age', dataIndex: 'age', width: 100 },\n    ];\n    render(\n      <ThemeProvider>\n        <Table columns={widthColumns} dataSource={mockData} />\n      </ThemeProvider>\n    );\n    const nameHeader = screen.getByText('Name');\n    expect(nameHeader).toBeInTheDocument();\n  });\n\n  it('应该支持数据加载状态', () => {\n    render(\n      <ThemeProvider>\n        <Table columns={mockColumns} dataSource={mockData} loading />\n      </ThemeProvider>\n    );\n    const loadingIndicator = screen.getByRole('status');\n    expect(loadingIndicator).toBeInTheDocument();\n  });\n});\n"],"version":3}