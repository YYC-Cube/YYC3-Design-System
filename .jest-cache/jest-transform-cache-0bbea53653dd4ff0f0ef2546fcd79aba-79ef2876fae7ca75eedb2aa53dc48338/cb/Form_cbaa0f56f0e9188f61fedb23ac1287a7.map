{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/components/Form.tsx","mappings":";;;;AAAA;;;;;;;;;;GAUG;AAEH,iCAAgF;AAChF,qDAAwE;AAExE,iDAAsD;AActD,MAAM,aAAa,GAAG,CAA+B,EACnD,MAAM,EACN,aAAa,EACb,QAAQ,EACR,QAAQ,EACR,SAAS,GAAG,EAAE,EACd,aAAa,EAAE,UAAU,EACzB,GAAG,KAAK,EACK,EAAE,EAAE;IACjB,MAAM,OAAO,GAAG,IAAA,yBAAO,EAAC;QACtB,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC,IAAA,iBAAW,EAAC,MAAa,CAAC,CAAC,CAAC,CAAC,SAAS;QACzD,aAAa,EAAE,aAAa;KAC7B,CAAC,CAAC;IAEH,MAAM,YAAY,GAAG,IAAA,mBAAW,EAC9B,KAAK,EAAE,IAAO,EAAE,EAAE;QAChB,IAAI,CAAC;YACH,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;QACjD,CAAC;IACH,CAAC,EACD,CAAC,QAAQ,CAAC,CACX,CAAC;IAEF,MAAM,eAAe,GAAG;QACtB,OAAO,EAAE,MAAM;QACf,aAAa,EAAE,QAAiB;QAChC,GAAG,EAAE,MAAM;QACX,KAAK,EAAE,MAAM;KACd,CAAC;IAEF,OAAO,CACL,uBAAC,8BAAY,OAAK,OAAO,YACvB,iCACE,QAAQ,EAAE,OAAO,CAAC,YAAY,CAAC,YAAmB,CAAC,EACnD,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,eAAe,iBACT,UAAU,KACnB,KAAK,YAER,QAAQ,GACJ,GACM,CAChB,CAAC;AACJ,CAAC,CAAC;AAEW,QAAA,IAAI,GAAG,IAAA,YAAI,EAAC,aAAa,CAAC,CAAC;AAEjC,MAAM,YAAY,GAAG,GAAG,EAAE;IAC/B,MAAM,OAAO,GAAG,IAAA,gCAAc,GAAE,CAAC;IACjC,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;IACvE,CAAC;IACD,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC;AANW,QAAA,YAAY,gBAMvB","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/Form.tsx"],"sourcesContent":["/**\n * @file 表单组件\n * @description 基于react-hook-form的表单组件\n * @component Form\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-23\n * @updated 2026-02-25\n * @copyright Copyright (c) 2026 YYC³\n * @license MIT\n */\n\nimport React, { memo, ReactNode, FormHTMLAttributes, useCallback } from 'react';\nimport { useForm, FormProvider, useFormContext } from 'react-hook-form';\nimport type { z } from 'zod';\nimport { zodResolver } from '@hookform/resolvers/zod';\n\nexport interface FormProps<T = Record<string, unknown>> extends Omit<\n  FormHTMLAttributes<HTMLFormElement>,\n  'onSubmit'\n> {\n  schema?: z.ZodType<any>;\n  defaultValues?: any;\n  onSubmit: (data: T) => void | Promise<void>;\n  children: ReactNode;\n  className?: string;\n  'data-testid'?: string;\n}\n\nconst FormComponent = <T = Record<string, unknown>,>({\n  schema,\n  defaultValues,\n  onSubmit,\n  children,\n  className = '',\n  'data-testid': dataTestId,\n  ...props\n}: FormProps<T>) => {\n  const methods = useForm({\n    resolver: schema ? zodResolver(schema as any) : undefined,\n    defaultValues: defaultValues,\n  });\n\n  const handleSubmit = useCallback(\n    async (data: T) => {\n      try {\n        await onSubmit(data);\n      } catch (error) {\n        console.error('Form submission error:', error);\n      }\n    },\n    [onSubmit]\n  );\n\n  const containerStyles = {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '16px',\n    width: '100%',\n  };\n\n  return (\n    <FormProvider {...methods}>\n      <form\n        onSubmit={methods.handleSubmit(handleSubmit as any)}\n        className={className}\n        style={containerStyles}\n        data-testid={dataTestId}\n        {...props}\n      >\n        {children}\n      </form>\n    </FormProvider>\n  );\n};\n\nexport const Form = memo(FormComponent);\n\nexport const useFormField = () => {\n  const context = useFormContext();\n  if (!context) {\n    throw new Error('useFormField must be used within a Form component');\n  }\n  return context;\n};\n"],"version":3}