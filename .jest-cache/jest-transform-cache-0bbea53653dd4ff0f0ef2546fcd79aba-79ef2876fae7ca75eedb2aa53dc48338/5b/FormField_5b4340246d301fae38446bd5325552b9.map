{"version":3,"names":["cov_p0jxzl9tj","actualCoverage","s","react_1","require","react_hook_form_1","ThemeProvider_1","Form_1","FormFieldComponent","name","control","label","labelProps","error","required","description","children","className","b","dataTestId","props","f","tokens","useTheme","formContext","useFormField","containerStyles","display","flexDirection","gap","width","labelStyles","fontSize","fontWeight","color","marginBottom","errorStyles","marginTop","descriptionStyles","currentControl","jsx_runtime_1","jsxs","style","jsx","marginLeft","Controller","render","field","disabled","exports","FormField","memo"],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/FormField.tsx"],"sourcesContent":["/**\n * @file 表单字段组件\n * @description 表单字段包装器，提供标签、错误提示等\n * @component FormField\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-23\n * @updated 2026-02-25\n * @copyright Copyright (c) 2026 YYC³\n * @license MIT\n */\n\nimport { memo, ReactNode, LabelHTMLAttributes } from 'react';\nimport React from 'react';\nimport { Controller, FieldValues, FieldPath, FieldPathValue, Control } from 'react-hook-form';\nimport { useTheme } from '../theme/ThemeProvider';\nimport { useFormField } from './Form';\n\nexport interface FormFieldProps<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> extends Omit<LabelHTMLAttributes<HTMLDivElement>, 'children'> {\n  name: TName;\n  control?: Control<TFieldValues>;\n  label?: string;\n  labelProps?: LabelHTMLAttributes<HTMLLabelElement>;\n  error?: string;\n  required?: boolean;\n  description?: string;\n  children: (field: {\n    name: TName;\n    value: FieldPathValue<TFieldValues, TName>;\n    onChange: (value: FieldPathValue<TFieldValues, TName>) => void;\n    onBlur: () => void;\n    ref: React.Ref<unknown>;\n    disabled?: boolean;\n    [key: string]: unknown;\n  }) => ReactNode;\n  className?: string;\n  'data-testid'?: string;\n}\n\nconst FormFieldComponent = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  name,\n  control,\n  label,\n  labelProps,\n  error,\n  required,\n  description,\n  children,\n  className = '',\n  'data-testid': dataTestId,\n  ...props\n}: FormFieldProps<TFieldValues, TName>) => {\n  const { tokens } = useTheme();\n  const formContext = useFormField();\n\n  const containerStyles = {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '8px',\n    width: '100%',\n  };\n\n  const labelStyles = {\n    fontSize: '14px',\n    fontWeight: 500,\n    color: (tokens['color.text.primary'] as string) || '#333',\n    marginBottom: '4px',\n  };\n\n  const errorStyles = {\n    fontSize: '12px',\n    color: (tokens['color.error'] as string) || '#ff4d4f',\n    marginTop: '4px',\n  };\n\n  const descriptionStyles = {\n    fontSize: '12px',\n    color: (tokens['color.text.secondary'] as string) || '#666',\n    marginTop: '2px',\n  };\n\n  const currentControl = control || (formContext.control as Control<TFieldValues>);\n\n  return (\n    <div className={className} style={containerStyles} data-testid={dataTestId} {...props}>\n      {label && (\n        <label style={labelStyles} {...labelProps}>\n          {label}\n          {required && (\n            <span\n              style={{ color: (tokens['color.error'] as string) || '#ff4d4f', marginLeft: '4px' }}\n            >\n              *\n            </span>\n          )}\n        </label>\n      )}\n      <Controller\n        name={name}\n        control={currentControl}\n        render={({ field }) =>\n          children({\n            ...field,\n            name,\n            disabled: field.disabled,\n          }) as React.ReactElement\n        }\n      />\n      {description && <div style={descriptionStyles}>{description}</div>}\n      {error && <div style={errorStyles}>{error}</div>}\n    </div>\n  );\n};\n\nexport const FormField = memo(FormFieldComponent) as typeof FormFieldComponent;\n"],"mappings":"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","ignoreList":[]}