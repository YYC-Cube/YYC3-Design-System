7c2eaccd0b0bf72de735b902c47c164c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AIUsageAnalyzer = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
/**
 * @file AI 使用模式分析组件
 * @description 提供用户界面来分析设计令牌的使用模式
 * @component AIUsageAnalyzer
 * @author YYC³
 * @version 1.0.0
 * @created 2026-02-18
 */
const react_1 = require("react");
const Card_1 = require("./Card");
const Button_1 = require("./Button");
const Badge_1 = require("./Badge");
const useTheme_1 = require("../theme/useTheme");
const usage_analyzer_1 = require("../ai/usage-analyzer");
const getTokenValue = (tokens, key) => {
    const value = tokens[key];
    return typeof value === 'string' ? value : '#000000';
};
const AIUsageAnalyzer = ({ className = '' }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const [report, setReport] = (0, react_1.useState)(null);
    const [isAnalyzing, setIsAnalyzing] = (0, react_1.useState)(false);
    const [selectedCategory, setSelectedCategory] = (0, react_1.useState)('color');
    (0, react_1.useEffect)(() => {
        Object.entries(tokens).forEach(([name, value]) => {
            usage_analyzer_1.usageAnalyzer.recordUsage(name, String(value), 'tokens.json', 'ThemeProvider');
        });
    }, [tokens]);
    const handleAnalyze = (0, react_1.useCallback)(() => {
        setIsAnalyzing(true);
        const newReport = usage_analyzer_1.usageAnalyzer.analyzeUsage();
        setReport(newReport);
        setIsAnalyzing(false);
    }, []);
    const categories = ['color', 'spacing', 'typography', 'animation'];
    return ((0, jsx_runtime_1.jsxs)(Card_1.Card, { className: className, children: [(0, jsx_runtime_1.jsx)(Card_1.CardHeader, { children: (0, jsx_runtime_1.jsx)(Card_1.CardTitle, { children: "AI \u4F7F\u7528\u6A21\u5F0F\u5206\u6790" }) }), (0, jsx_runtime_1.jsxs)(Card_1.CardContent, { className: "space-y-6", children: [(0, jsx_runtime_1.jsx)(Button_1.Button, { onClick: handleAnalyze, disabled: isAnalyzing, className: "w-full", children: isAnalyzing ? '分析中...' : '开始分析' }), report && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-4 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center p-4 rounded-lg", style: {
                                            background: getTokenValue(tokens, 'color.card'),
                                            border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                        }, children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", style: { color: getTokenValue(tokens, 'color.foreground') }, children: report.summary.totalTokens }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs mt-1", style: { color: getTokenValue(tokens, 'color.muted-foreground') }, children: "\u603B\u4EE4\u724C\u6570" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-4 rounded-lg", style: {
                                            background: getTokenValue(tokens, 'color.card'),
                                            border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                        }, children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", style: { color: '#10b981' }, children: report.summary.usedTokens }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs mt-1", style: { color: getTokenValue(tokens, 'color.muted-foreground') }, children: "\u5DF2\u4F7F\u7528" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-4 rounded-lg", style: {
                                            background: getTokenValue(tokens, 'color.card'),
                                            border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                        }, children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", style: { color: '#ef4444' }, children: report.summary.unusedTokens }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs mt-1", style: { color: getTokenValue(tokens, 'color.muted-foreground') }, children: "\u672A\u4F7F\u7528" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-4 rounded-lg", style: {
                                            background: getTokenValue(tokens, 'color.card'),
                                            border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                        }, children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-2xl font-bold", style: {
                                                    color: report.summary.coverage >= 80
                                                        ? '#10b981'
                                                        : report.summary.coverage >= 60
                                                            ? '#f59e0b'
                                                            : '#ef4444',
                                                }, children: [report.summary.coverage, "%"] }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs mt-1", style: { color: getTokenValue(tokens, 'color.muted-foreground') }, children: "\u4F7F\u7528\u7387" })] })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("div", { className: "flex gap-2 mb-4", children: categories.map((category) => ((0, jsx_runtime_1.jsx)(Badge_1.Badge, { variant: selectedCategory === category ? 'default' : 'outline', style: {
                                                cursor: 'pointer',
                                                background: selectedCategory === category
                                                    ? getTokenValue(tokens, 'color.primary')
                                                    : 'transparent',
                                                color: selectedCategory === category
                                                    ? '#ffffff'
                                                    : getTokenValue(tokens, 'color.foreground'),
                                                borderColor: getTokenValue(tokens, 'color.primary'),
                                            }, onClick: () => setSelectedCategory(category), children: category }, category))) }), report.patterns[selectedCategory] && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u6700\u5E38\u7528\u4EE4\u724C" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: report.patterns[selectedCategory].mostUsed.map((token, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-3 rounded", style: {
                                                                background: getTokenValue(tokens, 'color.card'),
                                                                border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                                            }, children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-sm font-medium", style: { color: getTokenValue(tokens, 'color.foreground') }, children: token.tokenName }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs mt-1", style: { color: getTokenValue(tokens, 'color.muted-foreground') }, children: token.tokenValue })] }), (0, jsx_runtime_1.jsxs)(Badge_1.Badge, { style: {
                                                                        background: getTokenValue(tokens, 'color.primary'),
                                                                        color: '#ffffff',
                                                                    }, children: [token.usageCount, " \u6B21"] })] }, index))) })] }), report.patterns[selectedCategory].trends.increasing.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u4F7F\u7528\u8D8B\u52BF\u4E0A\u5347" }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: report.patterns[selectedCategory].trends.increasing.map((token, index) => ((0, jsx_runtime_1.jsxs)(Badge_1.Badge, { variant: "outline", style: {
                                                                borderColor: '#10b981',
                                                                color: '#10b981',
                                                            }, children: [token, " \u2191"] }, index))) })] })), report.patterns[selectedCategory].trends.decreasing.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u4F7F\u7528\u8D8B\u52BF\u4E0B\u964D" }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: report.patterns[selectedCategory].trends.decreasing.map((token, index) => ((0, jsx_runtime_1.jsxs)(Badge_1.Badge, { variant: "outline", style: {
                                                                borderColor: '#ef4444',
                                                                color: '#ef4444',
                                                            }, children: [token, " \u2193"] }, index))) })] }))] }))] }), report.insights.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u5173\u952E\u6D1E\u5BDF" }), (0, jsx_runtime_1.jsx)("ul", { className: "space-y-2", children: report.insights.map((insight, index) => ((0, jsx_runtime_1.jsxs)("li", { className: "text-sm p-3 rounded", style: {
                                                background: getTokenValue(tokens, 'color.card'),
                                                border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                                color: getTokenValue(tokens, 'color.foreground'),
                                            }, children: ["\uD83D\uDCA1 ", insight] }, index))) })] })), report.recommendations.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-medium mb-2", style: { color: tokens['color.foreground'] }, children: "\u4F18\u5316\u5EFA\u8BAE" }), (0, jsx_runtime_1.jsx)("ul", { className: "space-y-2", children: report.recommendations.map((rec, index) => ((0, jsx_runtime_1.jsxs)("li", { className: "text-sm p-3 rounded", style: {
                                                background: tokens['color.card'],
                                                border: `1px solid ${tokens['color.border']}`,
                                                color: tokens['color.foreground'],
                                            }, children: ["\uD83D\uDCCB ", rec] }, index))) })] }))] }))] })] }));
};
exports.AIUsageAnalyzer = AIUsageAnalyzer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvQUlVc2FnZUFuYWx5emVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7R0FPRztBQUVILGlDQUFnRTtBQUNoRSxpQ0FBa0U7QUFDbEUscUNBQWtDO0FBQ2xDLG1DQUFnQztBQUNoQyxnREFBNkM7QUFDN0MseURBQWtFO0FBTWxFLE1BQU0sYUFBYSxHQUFHLENBQUMsTUFBK0IsRUFBRSxHQUFXLEVBQVUsRUFBRTtJQUM3RSxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUIsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ3ZELENBQUMsQ0FBQztBQUVLLE1BQU0sZUFBZSxHQUFtQyxDQUFDLEVBQUUsU0FBUyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDcEYsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLElBQUEsbUJBQVEsR0FBRSxDQUFDO0lBQzlCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFxQixJQUFJLENBQUMsQ0FBQztJQUMvRCxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUN0RCxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsbUJBQW1CLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQVMsT0FBTyxDQUFDLENBQUM7SUFFMUUsSUFBQSxpQkFBUyxFQUFDLEdBQUcsRUFBRTtRQUNiLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTtZQUMvQyw4QkFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxF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QUFNLENBQUMsa0JBQWtCLENBQVcsRUFBRSx5Q0FHbkQsRUFDTCwrQkFBSSxTQUFTLEVBQUMsV0FBVyxZQUN0QixNQUFNLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQzFDLGdDQUVFLFNBQVMsRUFBQyxxQkFBcUIsRUFDL0IsS0FBSyxFQUFFO2dEQUNMLFVBQVUsRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFXO2dEQUMxQyxNQUFNLEVBQUUsYUFBYSxNQUFNLENBQUMsY0FBYyxDQUFXLEVBQUU7Z0RBQ3ZELEtBQUssRUFBRSxNQUFNLENBQUMsa0JBQWtCLENBQVc7NkNBQzVDLDhCQUVHLEdBQUcsS0FSRixLQUFLLENBU1AsQ0FDTixDQUFDLEdBQ0MsSUFDRCxDQUNQLElBQ0csQ0FDUCxJQUNXLElBQ1QsQ0FDUixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBelNXLFFBQUEsZUFBZSxtQkF5UzFCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW55dS9Eb3dubG9hZHMveXljMy1EZXNpZ24tU3lzdGVtL3NyYy9jb21wb25lbnRzL0FJVXNhZ2VBbmFseXplci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBBSSDkvb/nlKjmqKHlvI/liIbmnpDnu4Tku7ZcbiAqIEBkZXNjcmlwdGlvbiDmj5DkvpvnlKjmiLfnlYzpnaLmnaXliIbmnpDorr7orqHku6TniYznmoTkvb/nlKjmqKHlvI9cbiAqIEBjb21wb25lbnQgQUlVc2FnZUFuYWx5emVyXG4gKiBAYXV0aG9yIFlZQ8KzXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGNyZWF0ZWQgMjAyNi0wMi0xOFxuICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICcuL0NhcmQnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi9CdXR0b24nO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICcuL0JhZGdlJztcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnLi4vdGhlbWUvdXNlVGhlbWUnO1xuaW1wb3J0IHsgdXNhZ2VBbmFseXplciwgVXNhZ2VSZXBvcnQgfSBmcm9tICcuLi9haS91c2FnZS1hbmFseXplcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQUlVc2FnZUFuYWx5emVyUHJvcHMge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IGdldFRva2VuVmFsdWUgPSAodG9rZW5zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwga2V5OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHRva2Vuc1trZXldO1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogJyMwMDAwMDAnO1xufTtcblxuZXhwb3J0IGNvbnN0IEFJVXNhZ2VBbmFseXplcjogUmVhY3QuRkM8QUlVc2FnZUFuYWx5emVyUHJvcHM+ID0gKHsgY2xhc3NOYW1lID0gJycgfSkgPT4ge1xuICBjb25zdCB7IHRva2VucyB9ID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgW3JlcG9ydCwgc2V0UmVwb3J0XSA9IHVzZVN0YXRlPFVzYWdlUmVwb3J0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0FuYWx5emluZywgc2V0SXNBbmFseXppbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRDYXRlZ29yeSwgc2V0U2VsZWN0ZWRDYXRlZ29yeV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdjb2xvcicpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgT2JqZWN0LmVudHJpZXModG9rZW5zKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICB1c2FnZUFuYWx5emVyLnJlY29yZFVzYWdlKG5hbWUsIFN0cmluZyh2YWx1ZSksICd0b2tlbnMuanNvbicsICdUaGVtZVByb3ZpZGVyJyk7XG4gICAgfSk7XG4gIH0sIFt0b2tlbnNdKTtcblxuICBjb25zdCBoYW5kbGVBbmFseXplID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzQW5hbHl6aW5nKHRydWUpO1xuICAgIGNvbnN0IG5ld1JlcG9ydCA9IHVzYWdlQW5hbHl6ZXIuYW5hbHl6ZVVzYWdlKCk7XG4gICAgc2V0UmVwb3J0KG5ld1JlcG9ydCk7XG4gICAgc2V0SXNBbmFseXppbmcoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY2F0ZWdvcmllcyA9IFsnY29sb3InLCAnc3BhY2luZycsICd0eXBvZ3JhcGh5JywgJ2FuaW1hdGlvbiddO1xuXG4gIHJldHVybiAoXG4gICAgPENhcmQgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgIDxDYXJkVGl0bGU+QUkg5L2/55So5qih5byP5YiG5p6QPC9DYXJkVGl0bGU+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlQW5hbHl6ZX0gZGlzYWJsZWQ9e2lzQW5hbHl6aW5nfSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICB7aXNBbmFseXppbmcgPyAn5YiG5p6Q5LitLi4uJyA6ICflvIDlp4vliIbmnpAnfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICB7cmVwb3J0ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy00IGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTQgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuY2FyZCcpLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5ib3JkZXInKX1gLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3JlcG9ydC5zdW1tYXJ5LnRvdGFsVG9rZW5zfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5tdXRlZC1mb3JlZ3JvdW5kJykgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDmgLvku6TniYzmlbBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTQgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuY2FyZCcpLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5ib3JkZXInKX1gLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiIHN0eWxlPXt7IGNvbG9yOiAnIzEwYjk4MScgfX0+XG4gICAgICAgICAgICAgICAgICB7cmVwb3J0LnN1bW1hcnkudXNlZFRva2Vuc31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IubXV0ZWQtZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg5bey5L2/55SoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC00IHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmNhcmQnKSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2dldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuYm9yZGVyJyl9YCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIiBzdHlsZT17eyBjb2xvcjogJyNlZjQ0NDQnIH19PlxuICAgICAgICAgICAgICAgICAge3JlcG9ydC5zdW1tYXJ5LnVudXNlZFRva2Vuc31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IubXV0ZWQtZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg5pyq5L2/55SoXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC00IHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmNhcmQnKSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2dldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuYm9yZGVyJyl9YCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5zdW1tYXJ5LmNvdmVyYWdlID49IDgwXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcjMTBiOTgxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXBvcnQuc3VtbWFyeS5jb3ZlcmFnZSA+PSA2MFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcjZjU5ZTBiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcjZWY0NDQ0JyxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3JlcG9ydC5zdW1tYXJ5LmNvdmVyYWdlfSVcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IubXV0ZWQtZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg5L2/55So546HXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBtYi00XCI+XG4gICAgICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEJhZGdlXG4gICAgICAgICAgICAgICAgICAgIGtleT17Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e3NlbGVjdGVkQ2F0ZWdvcnkgPT09IGNhdGVnb3J5ID8gJ2RlZmF1bHQnIDogJ291dGxpbmUnfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IucHJpbWFyeScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnkgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJyNmZmZmZmYnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5mb3JlZ3JvdW5kJyksXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IucHJpbWFyeScpLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZENhdGVnb3J5KGNhdGVnb3J5KX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge3JlcG9ydC5wYXR0ZXJuc1tzZWxlY3RlZENhdGVnb3J5XSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxoNFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICDmnIDluLjnlKjku6TniYxcbiAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cmVwb3J0LnBhdHRlcm5zW3NlbGVjdGVkQ2F0ZWdvcnldLm1vc3RVc2VkLm1hcCgodG9rZW4sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5jYXJkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5ib3JkZXInKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Rva2VuLnRva2VuTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IubXV0ZWQtZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Rva2VuLnRva2VuVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5wcmltYXJ5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4udXNhZ2VDb3VudH0g5qyhXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAge3JlcG9ydC5wYXR0ZXJuc1tzZWxlY3RlZENhdGVnb3J5XS50cmVuZHMuaW5jcmVhc2luZy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5mb3JlZ3JvdW5kJykgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDkvb/nlKjotovlir/kuIrljYdcbiAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZXBvcnQucGF0dGVybnNbc2VsZWN0ZWRDYXRlZ29yeV0udHJlbmRzLmluY3JlYXNpbmcubWFwKCh0b2tlbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzEwYjk4MScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyMxMGI5ODEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW59IOKGkVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAge3JlcG9ydC5wYXR0ZXJuc1tzZWxlY3RlZENhdGVnb3J5XS50cmVuZHMuZGVjcmVhc2luZy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5mb3JlZ3JvdW5kJykgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDkvb/nlKjotovlir/kuIvpmY1cbiAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZXBvcnQucGF0dGVybnNbc2VsZWN0ZWRDYXRlZ29yeV0udHJlbmRzLmRlY3JlYXNpbmcubWFwKCh0b2tlbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2VmNDQ0NCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlZjQ0NDQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW59IOKGk1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7cmVwb3J0Lmluc2lnaHRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoM1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmZvcmVncm91bmQnKSB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIOWFs+mUrua0nuWvn1xuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAge3JlcG9ydC5pbnNpZ2h0cy5tYXAoKGluc2lnaHQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSBwLTMgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuY2FyZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5ib3JkZXInKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICDwn5KhIHtpbnNpZ2h0fVxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7cmVwb3J0LnJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDNcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogdG9rZW5zWydjb2xvci5mb3JlZ3JvdW5kJ10gYXMgc3RyaW5nIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg5LyY5YyW5bu66K6uXG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICB7cmVwb3J0LnJlY29tbWVuZGF0aW9ucy5tYXAoKHJlYywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIHAtMyByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdG9rZW5zWydjb2xvci5jYXJkJ10gYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7dG9rZW5zWydjb2xvci5ib3JkZXInXSBhcyBzdHJpbmd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0b2tlbnNbJ2NvbG9yLmZvcmVncm91bmQnXSBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIPCfk4sge3JlY31cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgPC9DYXJkPlxuICApO1xufTtcbiJdLCJ2ZXJzaW9uIjozfQ==