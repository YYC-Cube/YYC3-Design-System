{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/components/Select.tsx","mappings":";;;;AAAA,iCAAiF;AACjF,gDAA6C;AAiB7C,MAAM,aAAa,GAAG,CAAC,MAAe,EAAE,GAAW,EAAU,EAAE;IAC7D,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,CAAC;QAC1C,OAAO,SAAS,CAAC;IACnB,CAAC;IACD,MAAM,KAAK,GAAI,MAAkC,CAAC,GAAG,CAAC,CAAC;IACvD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QAC9B,OAAO,KAAK,CAAC;IACf,CAAC;IACD,OAAO,SAAS,CAAC;AACnB,CAAC,CAAC;AAEK,MAAM,MAAM,GAA0B,CAAC,EAC5C,OAAO,EACP,KAAK,EACL,QAAQ,EACR,WAAW,GAAG,WAAW,EACzB,QAAQ,GAAG,KAAK,EAChB,SAAS,GAAG,EAAE,EACd,aAAa,EAAE,UAAU,GAC1B,EAAE,EAAE;IACH,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mBAAQ,GAAE,CAAC;IAC9B,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IAC5C,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IAChE,MAAM,SAAS,GAAG,IAAA,cAAM,EAAiB,IAAI,CAAC,CAAC;IAC/C,MAAM,YAAY,GAAG,KAAK,KAAK,SAAS,CAAC;IACzC,MAAM,YAAY,GAAG,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC;IAE1D,MAAM,cAAc,GAAG,IAAA,eAAO,EAC5B,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,KAAK,KAAK,YAAY,CAAC,EACvD,CAAC,OAAO,EAAE,YAAY,CAAC,CACxB,CAAC;IAEF,MAAM,YAAY,GAAG,IAAA,mBAAW,EAAC,GAAG,EAAE;QACpC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;IACH,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEf,MAAM,YAAY,GAAG,IAAA,mBAAW,EAC9B,CAAC,WAAmB,EAAE,EAAE;QACtB,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAChC,CAAC;QACD,IAAI,QAAQ,EAAE,CAAC;YACb,QAAQ,CAAC,WAAW,CAAC,CAAC;QACxB,CAAC;QACD,SAAS,CAAC,KAAK,CAAC,CAAC;IACnB,CAAC,EACD,CAAC,YAAY,EAAE,QAAQ,CAAC,CACzB,CAAC;IAEF,MAAM,kBAAkB,GAAG,IAAA,mBAAW,EAAC,CAAC,CAAa,EAAE,EAAE;QACvD,IAAI,SAAS,CAAC,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAc,CAAC,EAAE,CAAC;YACvE,SAAS,CAAC,KAAK,CAAC,CAAC;QACnB,CAAC;IACH,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;QAC3D,OAAO,GAAG,EAAE;YACV,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;QAChE,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAEzB,MAAM,WAAW,GAAG,IAAA,eAAO,EACzB,GAAG,EAAE,CAAC,CAAC;QACL,QAAQ,EAAE,UAAU;QACpB,OAAO,EAAE,cAAc;QACvB,QAAQ,EAAE,OAAO;KAClB,CAAC,EACF,EAAE,CACH,CAAC;IAEF,MAAM,YAAY,GAAG,IAAA,eAAO,EAC1B,GAAG,EAAE,CAAC,CAAC;QACL,KAAK,EAAE,MAAM;QACb,OAAO,EAAE,gBAAgB;QACzB,YAAY,EAAE,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC;QAChD,MAAM,EAAE,aAAa,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,kBAAkB,CAAC,EAAE;QACtE,eAAe,EAAG,MAAM,CAAC,kBAAkB,CAAY,IAAI,SAAS;QACpE,KAAK,EAAG,MAAM,CAAC,kBAAkB,CAAY,IAAI,MAAM;QACvD,QAAQ,EAAG,MAAM,CAAC,gBAAgB,CAAY,IAAI,MAAM;QACxD,UAAU,EAAG,MAAM,CAAC,sBAAsB,CAAY,IAAI,WAAW;QACrE,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS;QAC5C,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC3B,OAAO,EAAE,MAAM;QACf,cAAc,EAAE,eAAe;QAC/B,UAAU,EAAE,QAAQ;QACpB,UAAU,EAAE,eAAe;KAC5B,CAAC,EACF,CAAC,MAAM,EAAE,QAAQ,CAAC,CACnB,CAAC;IAEF,MAAM,aAAa,GAAG,IAAA,eAAO,EAC3B,GAAG,EAAE,CAAC,CAAC;QACL,QAAQ,EAAE,UAAU;QACpB,GAAG,EAAE,MAAM;QACX,IAAI,EAAE,CAAC;QACP,KAAK,EAAE,CAAC;QACR,SAAS,EAAE,SAAS;QACpB,eAAe,EAAG,MAAM,CAAC,YAAY,CAAY,IAAI,SAAS;QAC9D,YAAY,EAAE,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC;QAChD,SAAS,EAAE,gCAAgC;QAC3C,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM;QAClC,SAAS,EAAE,OAAO;QAClB,SAAS,EAAE,MAAM;KAClB,CAAC,EACF,CAAC,MAAM,EAAE,MAAM,CAAC,CACjB,CAAC;IAEF,MAAM,WAAW,GAAG,IAAA,eAAO,EACzB,GAAG,EAAE,CAAC,CAAC;QACL,OAAO,EAAE,gBAAgB;QACzB,MAAM,EAAE,SAAS;QACjB,UAAU,EAAE,sBAAsB;QAClC,QAAQ,EAAG,MAAM,CAAC,gBAAgB,CAAY,IAAI,MAAM;QACxD,UAAU,EAAG,MAAM,CAAC,sBAAsB,CAAY,IAAI,WAAW;QACrE,KAAK,EAAG,MAAM,CAAC,kBAAkB,CAAY,IAAI,MAAM;KACxD,CAAC,EACF,CAAC,MAAM,CAAC,CACT,CAAC;IAEF,MAAM,sBAAsB,GAAG,IAAA,mBAAW,EACxC,CAAC,CAAmC,EAAE,EAAE;QACtC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,GAAI,MAAM,CAAC,eAAe,CAAY,IAAI,SAAS,CAAC;QACzF,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAI,MAAM,CAAC,kBAAkB,CAAY,IAAI,MAAM,CAAC;IACjF,CAAC,EACD,CAAC,MAAM,CAAC,CACT,CAAC;IAEF,MAAM,sBAAsB,GAAG,IAAA,mBAAW,EACxC,CAAC,CAAmC,EAAE,EAAE;QACtC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,aAAa,CAAC;QACtD,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAI,MAAM,CAAC,kBAAkB,CAAY,IAAI,MAAM,CAAC;IACjF,CAAC,EACD,CAAC,MAAM,CAAC,CACT,CAAC;IAEF,OAAO,CACL,iCAAK,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,iBAAe,UAAU,aACpF,iCACE,KAAK,EAAE,YAAY,EACnB,OAAO,EAAE,YAAY,EACrB,IAAI,EAAC,UAAU,mBACA,MAAM,mBACP,SAAS,EACvB,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAE3B,2CAAO,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,GAAQ,EAClE,iCAAM,KAAK,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,YAAG,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAQ,IAC9D,EACN,gCAAK,KAAK,EAAE,aAAa,EAAE,IAAI,EAAC,SAAS,YACtC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CACvB,gCAEE,KAAK,EAAE,WAAW,EAClB,OAAO,EAAE,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EACzC,YAAY,EAAE,sBAAsB,EACpC,YAAY,EAAE,sBAAsB,EACpC,IAAI,EAAC,QAAQ,mBACE,YAAY,KAAK,MAAM,CAAC,KAAK,YAE3C,MAAM,CAAC,KAAK,IARR,MAAM,CAAC,KAAK,CASb,CACP,CAAC,GACE,IACF,CACP,CAAC;AACJ,CAAC,CAAC;AA9JW,QAAA,MAAM,UA8JjB;AAEF,kBAAe,cAAM,CAAC","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/Select.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useTheme } from '../theme/useTheme';\n\ninterface SelectOption {\n  value: string;\n  label: string;\n}\n\ninterface SelectProps {\n  options: SelectOption[];\n  value?: string;\n  onChange?: (value: string) => void;\n  placeholder?: string;\n  disabled?: boolean;\n  className?: string;\n  'data-testid'?: string;\n}\n\nconst getTokenValue = (tokens: unknown, key: string): string => {\n  if (!tokens || typeof tokens !== 'object') {\n    return '#000000';\n  }\n  const value = (tokens as Record<string, unknown>)[key];\n  if (typeof value === 'string') {\n    return value;\n  }\n  return '#000000';\n};\n\nexport const Select: React.FC<SelectProps> = ({\n  options,\n  value,\n  onChange,\n  placeholder = 'Select...',\n  disabled = false,\n  className = '',\n  'data-testid': dataTestId,\n}) => {\n  const { tokens } = useTheme();\n  const [isOpen, setIsOpen] = useState(false);\n  const [internalValue, setInternalValue] = useState(value || '');\n  const selectRef = useRef<HTMLDivElement>(null);\n  const isControlled = value !== undefined;\n  const currentValue = isControlled ? value : internalValue;\n\n  const selectedOption = useMemo(\n    () => options.find((opt) => opt.value === currentValue),\n    [options, currentValue]\n  );\n\n  const handleToggle = useCallback(() => {\n    if (!disabled) {\n      setIsOpen((prev) => !prev);\n    }\n  }, [disabled]);\n\n  const handleSelect = useCallback(\n    (optionValue: string) => {\n      if (!isControlled) {\n        setInternalValue(optionValue);\n      }\n      if (onChange) {\n        onChange(optionValue);\n      }\n      setIsOpen(false);\n    },\n    [isControlled, onChange]\n  );\n\n  const handleClickOutside = useCallback((e: MouseEvent) => {\n    if (selectRef.current && !selectRef.current.contains(e.target as Node)) {\n      setIsOpen(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [handleClickOutside]);\n\n  const selectStyle = useMemo<React.CSSProperties>(\n    () => ({\n      position: 'relative',\n      display: 'inline-block',\n      minWidth: '200px',\n    }),\n    []\n  );\n\n  const triggerStyle = useMemo<React.CSSProperties>(\n    () => ({\n      width: '100%',\n      padding: '0.5rem 0.75rem',\n      borderRadius: getTokenValue(tokens.radius, 'md'),\n      border: `1px solid ${getTokenValue(tokens.color, 'muted-foreground')}`,\n      backgroundColor: (tokens['color.background'] as string) || '#fbfbfc',\n      color: (tokens['color.foreground'] as string) || '#000',\n      fontSize: (tokens['font-size.body'] as string) || '1rem',\n      fontFamily: (tokens['typography.font-sans'] as string) || 'system-ui',\n      cursor: disabled ? 'not-allowed' : 'pointer',\n      opacity: disabled ? 0.5 : 1,\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      transition: 'all 0.2s ease',\n    }),\n    [tokens, disabled]\n  );\n\n  const dropdownStyle = useMemo<React.CSSProperties>(\n    () => ({\n      position: 'absolute',\n      top: '100%',\n      left: 0,\n      right: 0,\n      marginTop: '0.25rem',\n      backgroundColor: (tokens['color.card'] as string) || '#f8f9ef',\n      borderRadius: getTokenValue(tokens.radius, 'md'),\n      boxShadow: `0 4px 12px rgba(0, 0, 0, 0.15)`,\n      zIndex: 1000,\n      display: isOpen ? 'block' : 'none',\n      maxHeight: '200px',\n      overflowY: 'auto',\n    }),\n    [tokens, isOpen]\n  );\n\n  const optionStyle = useMemo<React.CSSProperties>(\n    () => ({\n      padding: '0.5rem 0.75rem',\n      cursor: 'pointer',\n      transition: 'background 0.2s ease',\n      fontSize: (tokens['font-size.body'] as string) || '1rem',\n      fontFamily: (tokens['typography.font-sans'] as string) || 'system-ui',\n      color: (tokens['color.foreground'] as string) || '#000',\n    }),\n    [tokens]\n  );\n\n  const handleOptionMouseEnter = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      e.currentTarget.style.backgroundColor = (tokens['color.primary'] as string) || '#d45a5f';\n      e.currentTarget.style.color = (tokens['color.foreground'] as string) || '#fff';\n    },\n    [tokens]\n  );\n\n  const handleOptionMouseLeave = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      e.currentTarget.style.backgroundColor = 'transparent';\n      e.currentTarget.style.color = (tokens['color.foreground'] as string) || '#000';\n    },\n    [tokens]\n  );\n\n  return (\n    <div ref={selectRef} style={selectStyle} className={className} data-testid={dataTestId}>\n      <div\n        style={triggerStyle}\n        onClick={handleToggle}\n        role=\"combobox\"\n        aria-expanded={isOpen}\n        aria-haspopup=\"listbox\"\n        tabIndex={disabled ? -1 : 0}\n      >\n        <span>{selectedOption ? selectedOption.label : placeholder}</span>\n        <span style={{ marginLeft: '0.5rem' }}>{isOpen ? '▲' : '▼'}</span>\n      </div>\n      <div style={dropdownStyle} role=\"listbox\">\n        {options.map((option) => (\n          <div\n            key={option.value}\n            style={optionStyle}\n            onClick={() => handleSelect(option.value)}\n            onMouseEnter={handleOptionMouseEnter}\n            onMouseLeave={handleOptionMouseLeave}\n            role=\"option\"\n            aria-selected={currentValue === option.value}\n          >\n            {option.label}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Select;\n"],"version":3}