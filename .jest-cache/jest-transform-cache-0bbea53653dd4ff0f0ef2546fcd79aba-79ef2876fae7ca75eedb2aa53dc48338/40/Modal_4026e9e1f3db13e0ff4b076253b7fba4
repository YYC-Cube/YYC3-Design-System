73d54d96e1334d354cade7998171b429
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModalFooter = exports.ModalContent = exports.ModalTitle = exports.ModalHeader = exports.Modal = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const useTheme_1 = require("../theme/useTheme");
const Modal = ({ isOpen = false, onClose, children, className = '' }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const modalRef = (0, react_1.useRef)(null);
    (0, react_1.useEffect)(() => {
        const handleEscape = (e) => {
            if (e.key === 'Escape' && onClose) {
                onClose();
            }
        };
        if (isOpen) {
            document.addEventListener('keydown', handleEscape);
            document.body.style.overflow = 'hidden';
        }
        return () => {
            document.removeEventListener('keydown', handleEscape);
            document.body.style.overflow = 'unset';
        };
    }, [isOpen, onClose]);
    const handleBackdropClick = (e) => {
        if (e.target === e.currentTarget && onClose) {
            onClose();
        }
    };
    const backdropStyle = {
        position: 'fixed',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: 'rgba(0, 0, 0, 0.5)',
        display: isOpen ? 'flex' : 'none',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: 1000,
    };
    const modalStyle = {
        backgroundColor: tokens['color.card'] || '#f8f9ef',
        borderRadius: tokens['radius.lg'] || '0.5rem',
        boxShadow: `0 10px 25px rgba(0, 0, 0, 0.2)`,
        maxWidth: '90%',
        maxHeight: '90vh',
        overflow: 'auto',
        position: 'relative',
    };
    const closeButtonStyle = {
        position: 'absolute',
        top: '1rem',
        right: '1rem',
        background: 'none',
        border: 'none',
        fontSize: '1.5rem',
        cursor: 'pointer',
        color: tokens['color.foreground'] || '#000',
        padding: 0,
        lineHeight: 1,
    };
    if (!isOpen)
        return null;
    return ((0, jsx_runtime_1.jsx)("div", { style: backdropStyle, onClick: handleBackdropClick, children: (0, jsx_runtime_1.jsxs)("div", { ref: modalRef, style: modalStyle, className: className, role: "dialog", "aria-modal": "true", children: [onClose && ((0, jsx_runtime_1.jsx)("button", { style: closeButtonStyle, onClick: onClose, "aria-label": "Close modal", children: "\u00D7" })), children] }) }));
};
exports.Modal = Modal;
exports.Modal.displayName = 'Modal';
exports.ModalHeader = (0, react_1.memo)(({ children, className }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const headerStyle = {
        marginBottom: '1rem',
        paddingBottom: '0.75rem',
        borderBottom: `1px solid ${tokens['color.muted-foreground'] || '#ccc'}`,
    };
    return ((0, jsx_runtime_1.jsx)("div", { style: headerStyle, className: className, children: children }));
});
exports.ModalHeader.displayName = 'ModalHeader';
exports.ModalTitle = (0, react_1.memo)(({ children, className }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const titleStyle = {
        fontSize: tokens['font-size.heading-2'] || '1.5rem',
        fontWeight: '600',
        margin: '0',
        color: tokens['color.foreground'] || '#000',
    };
    return ((0, jsx_runtime_1.jsx)("h2", { style: titleStyle, className: className, children: children }));
});
exports.ModalTitle.displayName = 'ModalTitle';
exports.ModalContent = (0, react_1.memo)(({ children, className }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const contentStyle = {
        fontSize: tokens['font-size.body'] || '1rem',
        lineHeight: tokens['line-height.body'] || '1.5',
    };
    return ((0, jsx_runtime_1.jsx)("div", { style: contentStyle, className: className, children: children }));
});
exports.ModalContent.displayName = 'ModalContent';
exports.ModalFooter = (0, react_1.memo)(({ children, className }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const footerStyle = {
        marginTop: '1rem',
        paddingTop: '0.75rem',
        borderTop: `1px solid ${tokens['color.muted-foreground'] || '#ccc'}`,
        display: 'flex',
        justifyContent: 'flex-end',
        gap: '0.5rem',
    };
    return ((0, jsx_runtime_1.jsx)("div", { style: footerStyle, className: className, children: children }));
});
exports.ModalFooter.displayName = 'ModalFooter';
const ModalWithSubcomponents = exports.Modal;
ModalWithSubcomponents.Header = exports.ModalHeader;
ModalWithSubcomponents.Title = exports.ModalTitle;
ModalWithSubcomponents.Content = exports.ModalContent;
ModalWithSubcomponents.Footer = exports.ModalFooter;
exports.default = ModalWithSubcomponents;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvTW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpQ0FBMkQ7QUFDM0QsZ0RBQTZDO0FBU3RDLE1BQU0sS0FBSyxHQUFtQixDQUFDLEVBQUUsTUFBTSxHQUFHLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQzdGLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFBLG1CQUFRLEdBQUUsQ0FBQztJQUM5QixNQUFNLFFBQVEsR0FBRyxJQUFBLGNBQU0sRUFBaUIsSUFBSSxDQUFDLENBQUM7SUFFOUMsSUFBQSxpQkFBUyxFQUFDLEdBQUcsRUFBRTtRQUNiLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBZ0IsRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxRQUFRLElBQUksT0FBTyxFQUFFLENBQUM7Z0JBQ2xDLE9BQU8sRUFBRSxDQUFDO1lBQ1osQ0FBQztRQUNILENBQUMsQ0FBQztRQUVGLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ25ELFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDMUMsQ0FBQztRQUVELE9BQU8sR0FBRyxFQUFFO1lBQ1YsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUN0RCxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3pDLENBQUMsQ0FBQztJQUNKLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRXRCLE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxDQUFtQyxFQUFFLEVBQUU7UUFDbEUsSUFBSSxDQUFDLENB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YyxNQUFNLENBQUMsd0JBQXdCLENBQVksSUFBSSxNQUFNLEVBQUU7UUFDaEYsT0FBTyxFQUFFLE1BQU07UUFDZixjQUFjLEVBQUUsVUFBVTtRQUMxQixHQUFHLEVBQUUsUUFBUTtLQUNkLENBQUM7SUFFRixPQUFPLENBQ0wsZ0NBQUssS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsU0FBUyxZQUMxQyxRQUFRLEdBQ0wsQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUM7QUFFRixtQkFBVyxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUM7QUFFeEMsTUFBTSxzQkFBc0IsR0FBRyxhQUs5QixDQUFDO0FBRUYsc0JBQXNCLENBQUMsTUFBTSxHQUFHLG1CQUFXLENBQUM7QUFDNUMsc0JBQXNCLENBQUMsS0FBSyxHQUFHLGtCQUFVLENBQUM7QUFDMUMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLG9CQUFZLENBQUM7QUFDOUMsc0JBQXNCLENBQUMsTUFBTSxHQUFHLG1CQUFXLENBQUM7QUFFNUMsa0JBQWUsc0JBQXNCLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvTW9kYWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgRkMsIG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJy4uL3RoZW1lL3VzZVRoZW1lJztcblxuaW50ZXJmYWNlIE1vZGFsUHJvcHMge1xuICBpc09wZW4/OiBib29sZWFuO1xuICBvbkNsb3NlPzogKCkgPT4gdm9pZDtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgTW9kYWw6IEZDPE1vZGFsUHJvcHM+ID0gKHsgaXNPcGVuID0gZmFsc2UsIG9uQ2xvc2UsIGNoaWxkcmVuLCBjbGFzc05hbWUgPSAnJyB9KSA9PiB7XG4gIGNvbnN0IHsgdG9rZW5zIH0gPSB1c2VUaGVtZSgpO1xuICBjb25zdCBtb2RhbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVFc2NhcGUgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBvbkNsb3NlKSB7XG4gICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVzY2FwZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICd1bnNldCc7XG4gICAgfTtcbiAgfSwgW2lzT3Blbiwgb25DbG9zZV0pO1xuXG4gIGNvbnN0IGhhbmRsZUJhY2tkcm9wQ2xpY2sgPSAoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCAmJiBvbkNsb3NlKSB7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGJhY2tkcm9wU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgZGlzcGxheTogaXNPcGVuID8gJ2ZsZXgnIDogJ25vbmUnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICB6SW5kZXg6IDEwMDAsXG4gIH07XG5cbiAgY29uc3QgbW9kYWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICh0b2tlbnNbJ2NvbG9yLmNhcmQnXSBhcyBzdHJpbmcpIHx8ICcjZjhmOWVmJyxcbiAgICBib3JkZXJSYWRpdXM6ICh0b2tlbnNbJ3JhZGl1cy5sZyddIGFzIHN0cmluZykgfHwgJzAuNXJlbScsXG4gICAgYm94U2hhZG93OiBgMCAxMHB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjIpYCxcbiAgICBtYXhXaWR0aDogJzkwJScsXG4gICAgbWF4SGVpZ2h0OiAnOTB2aCcsXG4gICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgfTtcblxuICBjb25zdCBjbG9zZUJ1dHRvblN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogJzFyZW0nLFxuICAgIHJpZ2h0OiAnMXJlbScsXG4gICAgYmFja2dyb3VuZDogJ25vbmUnLFxuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIGZvbnRTaXplOiAnMS41cmVtJyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBjb2xvcjogKHRva2Vuc1snY29sb3IuZm9yZWdyb3VuZCddIGFzIHN0cmluZykgfHwgJyMwMDAnLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMSxcbiAgfTtcblxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXtiYWNrZHJvcFN0eWxlfSBvbkNsaWNrPXtoYW5kbGVCYWNrZHJvcENsaWNrfT5cbiAgICAgIDxkaXYgcmVmPXttb2RhbFJlZn0gc3R5bGU9e21vZGFsU3R5bGV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSByb2xlPVwiZGlhbG9nXCIgYXJpYS1tb2RhbD1cInRydWVcIj5cbiAgICAgICAge29uQ2xvc2UgJiYgKFxuICAgICAgICAgIDxidXR0b24gc3R5bGU9e2Nsb3NlQnV0dG9uU3R5bGV9IG9uQ2xpY2s9e29uQ2xvc2V9IGFyaWEtbGFiZWw9XCJDbG9zZSBtb2RhbFwiPlxuICAgICAgICAgICAgw5dcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5Nb2RhbC5kaXNwbGF5TmFtZSA9ICdNb2RhbCc7XG5cbmV4cG9ydCBjb25zdCBNb2RhbEhlYWRlciA9IG1lbW88eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBjbGFzc05hbWU/OiBzdHJpbmcgfT4oXG4gICh7IGNoaWxkcmVuLCBjbGFzc05hbWUgfSkgPT4ge1xuICAgIGNvbnN0IHsgdG9rZW5zIH0gPSB1c2VUaGVtZSgpO1xuXG4gICAgY29uc3QgaGVhZGVyU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICBtYXJnaW5Cb3R0b206ICcxcmVtJyxcbiAgICAgIHBhZGRpbmdCb3R0b206ICcwLjc1cmVtJyxcbiAgICAgIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAkeyh0b2tlbnNbJ2NvbG9yLm11dGVkLWZvcmVncm91bmQnXSBhcyBzdHJpbmcpIHx8ICcjY2NjJ31gLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17aGVhZGVyU3R5bGV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuKTtcblxuTW9kYWxIZWFkZXIuZGlzcGxheU5hbWUgPSAnTW9kYWxIZWFkZXInO1xuXG5leHBvcnQgY29uc3QgTW9kYWxUaXRsZSA9IG1lbW88eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBjbGFzc05hbWU/OiBzdHJpbmcgfT4oXG4gICh7IGNoaWxkcmVuLCBjbGFzc05hbWUgfSkgPT4ge1xuICAgIGNvbnN0IHsgdG9rZW5zIH0gPSB1c2VUaGVtZSgpO1xuXG4gICAgY29uc3QgdGl0bGVTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgIGZvbnRTaXplOiAodG9rZW5zWydmb250LXNpemUuaGVhZGluZy0yJ10gYXMgc3RyaW5nKSB8fCAnMS41cmVtJyxcbiAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgbWFyZ2luOiAnMCcsXG4gICAgICBjb2xvcjogKHRva2Vuc1snY29sb3IuZm9yZWdyb3VuZCddIGFzIHN0cmluZykgfHwgJyMwMDAnLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGgyIHN0eWxlPXt0aXRsZVN0eWxlfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvaDI+XG4gICAgKTtcbiAgfVxuKTtcblxuTW9kYWxUaXRsZS5kaXNwbGF5TmFtZSA9ICdNb2RhbFRpdGxlJztcblxuZXhwb3J0IGNvbnN0IE1vZGFsQ29udGVudCA9IG1lbW88eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBjbGFzc05hbWU/OiBzdHJpbmcgfT4oXG4gICh7IGNoaWxkcmVuLCBjbGFzc05hbWUgfSkgPT4ge1xuICAgIGNvbnN0IHsgdG9rZW5zIH0gPSB1c2VUaGVtZSgpO1xuXG4gICAgY29uc3QgY29udGVudFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgICAgZm9udFNpemU6ICh0b2tlbnNbJ2ZvbnQtc2l6ZS5ib2R5J10gYXMgc3RyaW5nKSB8fCAnMXJlbScsXG4gICAgICBsaW5lSGVpZ2h0OiAodG9rZW5zWydsaW5lLWhlaWdodC5ib2R5J10gYXMgc3RyaW5nKSB8fCAnMS41JyxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e2NvbnRlbnRTdHlsZX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4pO1xuXG5Nb2RhbENvbnRlbnQuZGlzcGxheU5hbWUgPSAnTW9kYWxDb250ZW50JztcblxuZXhwb3J0IGNvbnN0IE1vZGFsRm9vdGVyID0gbWVtbzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7IGNsYXNzTmFtZT86IHN0cmluZyB9PihcbiAgKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSB9KSA9PiB7XG4gICAgY29uc3QgeyB0b2tlbnMgfSA9IHVzZVRoZW1lKCk7XG5cbiAgICBjb25zdCBmb290ZXJTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgIG1hcmdpblRvcDogJzFyZW0nLFxuICAgICAgcGFkZGluZ1RvcDogJzAuNzVyZW0nLFxuICAgICAgYm9yZGVyVG9wOiBgMXB4IHNvbGlkICR7KHRva2Vuc1snY29sb3IubXV0ZWQtZm9yZWdyb3VuZCddIGFzIHN0cmluZykgfHwgJyNjY2MnfWAsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGdhcDogJzAuNXJlbScsXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXtmb290ZXJTdHlsZX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4pO1xuXG5Nb2RhbEZvb3Rlci5kaXNwbGF5TmFtZSA9ICdNb2RhbEZvb3Rlcic7XG5cbmNvbnN0IE1vZGFsV2l0aFN1YmNvbXBvbmVudHMgPSBNb2RhbCBhcyB0eXBlb2YgTW9kYWwgJiB7XG4gIEhlYWRlcjogdHlwZW9mIE1vZGFsSGVhZGVyO1xuICBUaXRsZTogdHlwZW9mIE1vZGFsVGl0bGU7XG4gIENvbnRlbnQ6IHR5cGVvZiBNb2RhbENvbnRlbnQ7XG4gIEZvb3RlcjogdHlwZW9mIE1vZGFsRm9vdGVyO1xufTtcblxuTW9kYWxXaXRoU3ViY29tcG9uZW50cy5IZWFkZXIgPSBNb2RhbEhlYWRlcjtcbk1vZGFsV2l0aFN1YmNvbXBvbmVudHMuVGl0bGUgPSBNb2RhbFRpdGxlO1xuTW9kYWxXaXRoU3ViY29tcG9uZW50cy5Db250ZW50ID0gTW9kYWxDb250ZW50O1xuTW9kYWxXaXRoU3ViY29tcG9uZW50cy5Gb290ZXIgPSBNb2RhbEZvb3RlcjtcblxuZXhwb3J0IGRlZmF1bHQgTW9kYWxXaXRoU3ViY29tcG9uZW50cztcbiJdLCJ2ZXJzaW9uIjozfQ==