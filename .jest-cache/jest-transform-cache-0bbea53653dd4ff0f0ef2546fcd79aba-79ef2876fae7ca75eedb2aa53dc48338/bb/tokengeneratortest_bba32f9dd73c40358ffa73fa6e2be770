f179c71b15c798b94d45ed5b993a9048
"use strict";
/**
 * @file AI Token 生成器测试
 * @description 测试 AI Token 生成器的功能
 * @module __tests__/unit/ai/token-generator.test
 * @author YYC³
 * @version 1.0.0
 * @created 2026-02-18
 */
Object.defineProperty(exports, "__esModule", { value: true });
const token_generator_1 = require("@/ai/token-generator");
describe('AITokenGenerator', () => {
    let generator;
    beforeEach(() => {
        generator = new token_generator_1.AITokenGenerator();
    });
    describe('generateTokens', () => {
        it('应该生成基本的令牌', () => {
            const tokens = generator.generateTokens();
            expect(tokens.colors).toBeDefined();
            expect(tokens.spacing).toBeDefined();
            expect(tokens.typography).toBeDefined();
        });
        it('应该使用自定义基础颜色', () => {
            const tokens = generator.generateTokens({ baseColor: '#3b82f6' });
            expect(tokens.colors.primary).toBeDefined();
            expect(tokens.colors.primary.value.hex).toBe('#3b82f6');
        });
        it('应该支持不同的色彩和谐', () => {
            const complementary = generator.generateTokens({ harmony: 'complementary' });
            const analogous = generator.generateTokens({ harmony: 'analogous' });
            expect(complementary.colors).toBeDefined();
            expect(analogous.colors).toBeDefined();
        });
        it('应该支持自定义间距比例', () => {
            const tokens = generator.generateTokens({ scale: 12 });
            expect(tokens.spacing).toBeDefined();
            expect(tokens.spacing?.xs).toBeDefined();
        });
        it('应该支持生成色相和色调', () => {
            const tokens = generator.generateTokens({
                includeShades: true,
                includeTints: true,
            });
            expect(tokens.colors['primary-100']).toBeDefined();
            expect(tokens.colors['primary-200']).toBeDefined();
        });
    });
    describe('generateColorTokens', () => {
        it('应该生成互补色', () => {
            const colors = generator['generateColorTokens']('#ff0000', 'complementary', false, false);
            expect(colors.primary).toBeDefined();
            expect(colors['color-2']).toBeDefined();
        });
        it('应该生成类似色', () => {
            const colors = generator['generateColorTokens']('#ff0000', 'analogous', false, false);
            expect(colors.primary).toBeDefined();
            expect(colors['color-2']).toBeDefined();
            expect(colors['color-3']).toBeDefined();
        });
        it('应该生成三色', () => {
            const colors = generator['generateColorTokens']('#ff0000', 'triadic', false, false);
            expect(colors.primary).toBeDefined();
            expect(colors['color-2']).toBeDefined();
            expect(colors['color-3']).toBeDefined();
        });
        it('应该生成四色', () => {
            const colors = generator['generateColorTokens']('#ff0000', 'tetradic', false, false);
            expect(colors.primary).toBeDefined();
            expect(colors['color-2']).toBeDefined();
            expect(colors['color-3']).toBeDefined();
            expect(colors['color-4']).toBeDefined();
        });
        it('应该生成单色', () => {
            const colors = generator['generateColorTokens']('#ff0000', 'monochromatic', false, false);
            expect(colors.primary).toBeDefined();
            expect(colors['color-2']).toBeDefined();
        });
    });
    describe('generateSpacingTokens', () => {
        it('应该生成间距令牌', () => {
            const spacing = generator['generateSpacingTokens'](10);
            expect(spacing.xs).toBeDefined();
            expect(spacing.sm).toBeDefined();
            expect(spacing.md).toBeDefined();
            expect(spacing.lg).toBeDefined();
        });
        it('应该支持自定义比例', () => {
            const spacing = generator['generateSpacingTokens'](12);
            const spacing2 = generator['generateSpacingTokens'](10);
            expect(spacing.xs).not.toBe(spacing2.xs);
        });
    });
    describe('generateTypographyTokens', () => {
        it('应该生成排版令牌', () => {
            const typography = generator['generateTypographyTokens']();
            expect(typography.xs).toBeDefined();
            expect(typography.sm).toBeDefined();
            expect(typography.base).toBeDefined();
            expect(typography.lg).toBeDefined();
        });
        it('应该包含正确的字体大小', () => {
            const typography = generator['generateTypographyTokens']();
            expect(typography.xs).toBe('12px');
            expect(typography.base).toBe('16px');
            expect(typography.lg).toBe('20px');
        });
    });
    describe('analyzeColorHarmony', () => {
        it('应该识别单色和谐', () => {
            const harmony = generator.analyzeColorHarmony(['#ff0000']);
            expect(harmony).toBe('monochromatic');
        });
        it('应该识别三色和谐', () => {
            const harmony = generator.analyzeColorHarmony(['#ff0000', '#00ff00']);
            expect(harmony).toBe('triadic');
        });
        it('应该识别单色和谐（多个颜色）', () => {
            const harmony = generator.analyzeColorHarmony(['#ff0000', '#ff3300', '#ff6600']);
            expect(harmony).toBe('monochromatic');
        });
    });
    describe('generateRecommendations', () => {
        it('应该生成推荐', () => {
            const tokens = {
                colors: {
                    primary: { name: 'primary', value: { hex: '#ff0000', oklch: 'oklch(0.5 0.2 0)' } },
                },
            };
            const recommendations = generator.generateRecommendations(tokens);
            expect(Array.isArray(recommendations)).toBe(true);
            expect(recommendations.length).toBeGreaterThan(0);
        });
        it('应该推荐其他色彩和谐', () => {
            const tokens = {
                colors: {
                    primary: { name: 'primary', value: { hex: '#ff0000', oklch: 'oklch(0.5 0.2 0)' } },
                    'color-2': { name: 'color-2', value: { hex: '#ff3300', oklch: 'oklch(0.5 0.2 10)' } },
                },
            };
            const recommendations = generator.generateRecommendations(tokens);
            expect(recommendations.some((r) => r.includes('complementary') || r.includes('analogous'))).toBe(true);
        });
        it('应该推荐间距比例', () => {
            const tokens = {
                spacing: {
                    xs: '4px',
                    sm: '20px',
                },
            };
            const recommendations = generator.generateRecommendations(tokens);
            expect(recommendations.some((r) => r.includes('间距比例'))).toBe(true);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2FpL3Rva2VuLWdlbmVyYXRvci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7OztHQU9HOztBQUVILDBEQUF3RDtBQUV4RCxRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksU0FBMkIsQ0FBQztJQUVoQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsU0FBUyxHQUFHLElBQUksa0NBQWdCLEVBQUUsQ0FBQztJQUNyQyxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7UUFDOUIsRUFBRSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7WUFDbkIsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7WUFDckIsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1lBRWxFLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGFBQWEsRUFBRSxHQUFH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LENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQ3BGLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2YsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUNsQixNQUFNLE1BQU0sR0FBRztnQkFDYixPQUFPLEVBQUU7b0JBQ1AsRUFBRSxFQUFFLEtBQUs7b0JBQ1QsRUFBRSxFQUFFLE1BQU07aUJBQ1g7YUFDRixDQUFDO1lBRUYsTUFBTSxlQUFlLEdBQUcsU0FBUyxDQUFDLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRWxFLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW55dS9Eb3dubG9hZHMveXljMy1EZXNpZ24tU3lzdGVtL3NyYy9haS90b2tlbi1nZW5lcmF0b3IudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIEFJIFRva2VuIOeUn+aIkOWZqOa1i+ivlVxuICogQGRlc2NyaXB0aW9uIOa1i+ivlSBBSSBUb2tlbiDnlJ/miJDlmajnmoTlip/og71cbiAqIEBtb2R1bGUgX190ZXN0c19fL3VuaXQvYWkvdG9rZW4tZ2VuZXJhdG9yLnRlc3RcbiAqIEBhdXRob3IgWVlDwrNcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiBAY3JlYXRlZCAyMDI2LTAyLTE4XG4gKi9cblxuaW1wb3J0IHsgQUlUb2tlbkdlbmVyYXRvciB9IGZyb20gJ0AvYWkvdG9rZW4tZ2VuZXJhdG9yJztcblxuZGVzY3JpYmUoJ0FJVG9rZW5HZW5lcmF0b3InLCAoKSA9PiB7XG4gIGxldCBnZW5lcmF0b3I6IEFJVG9rZW5HZW5lcmF0b3I7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgZ2VuZXJhdG9yID0gbmV3IEFJVG9rZW5HZW5lcmF0b3IoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlVG9rZW5zJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XnlJ/miJDln7rmnKznmoTku6TniYwnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSBnZW5lcmF0b3IuZ2VuZXJhdGVUb2tlbnMoKTtcblxuICAgICAgZXhwZWN0KHRva2Vucy5jb2xvcnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodG9rZW5zLnNwYWNpbmcpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodG9rZW5zLnR5cG9ncmFwaHkpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5L2/55So6Ieq5a6a5LmJ5Z+656GA6aKc6ImyJywgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gZ2VuZXJhdG9yLmdlbmVyYXRlVG9rZW5zKHsgYmFzZUNvbG9yOiAnIzNiODJmNicgfSk7XG5cbiAgICAgIGV4cGVjdCh0b2tlbnMuY29sb3JzLnByaW1hcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodG9rZW5zLmNvbG9ycy5wcmltYXJ5LnZhbHVlLmhleCkudG9CZSgnIzNiODJmNicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaUr+aMgeS4jeWQjOeahOiJsuW9qeWSjOiwkCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBsZW1lbnRhcnkgPSBnZW5lcmF0b3IuZ2VuZXJhdGVUb2tlbnMoeyBoYXJtb255OiAnY29tcGxlbWVudGFyeScgfSk7XG4gICAgICBjb25zdCBhbmFsb2dvdXMgPSBnZW5lcmF0b3IuZ2VuZXJhdGVUb2tlbnMoeyBoYXJtb255OiAnYW5hbG9nb3VzJyB9KTtcblxuICAgICAgZXhwZWN0KGNvbXBsZW1lbnRhcnkuY29sb3JzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGFuYWxvZ291cy5jb2xvcnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5pSv5oyB6Ieq5a6a5LmJ6Ze06Led5q+U5L6LJywgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0gZ2VuZXJhdG9yLmdlbmVyYXRlVG9rZW5zKHsgc2NhbGU6IDEyIH0pO1xuXG4gICAgICBleHBlY3QodG9rZW5zLnNwYWNpbmcpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodG9rZW5zLnNwYWNpbmc/LnhzKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaUr+aMgeeUn+aIkOiJsuebuOWSjOiJsuiwgycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGdlbmVyYXRvci5nZW5lcmF0ZVRva2Vucyh7XG4gICAgICAgIGluY2x1ZGVTaGFkZXM6IHRydWUsXG4gICAgICAgIGluY2x1ZGVUaW50czogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QodG9rZW5zLmNvbG9yc1sncHJpbWFyeS0xMDAnXSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh0b2tlbnMuY29sb3JzWydwcmltYXJ5LTIwMCddKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVDb2xvclRva2VucycsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l55Sf5oiQ5LqS6KGl6ImyJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29sb3JzID0gZ2VuZXJhdG9yWydnZW5lcmF0ZUNvbG9yVG9rZW5zJ10oJyNmZjAwMDAnLCAnY29tcGxlbWVudGFyeScsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgIGV4cGVjdChjb2xvcnMucHJpbWFyeSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb2xvcnNbJ2NvbG9yLTInXSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XnlJ/miJDnsbvkvLzoibInLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBnZW5lcmF0b3JbJ2dlbmVyYXRlQ29sb3JUb2tlbnMnXSgnI2ZmMDAwMCcsICdhbmFsb2dvdXMnLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICBleHBlY3QoY29sb3JzLnByaW1hcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29sb3JzWydjb2xvci0yJ10pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29sb3JzWydjb2xvci0zJ10pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l55Sf5oiQ5LiJ6ImyJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29sb3JzID0gZ2VuZXJhdG9yWydnZW5lcmF0ZUNvbG9yVG9rZW5zJ10oJyNmZjAwMDAnLCAndHJpYWRpYycsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgIGV4cGVjdChjb2xvcnMucHJpbWFyeSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb2xvcnNbJ2NvbG9yLTInXSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb2xvcnNbJ2NvbG9yLTMnXSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XnlJ/miJDlm5voibInLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBnZW5lcmF0b3JbJ2dlbmVyYXRlQ29sb3JUb2tlbnMnXSgnI2ZmMDAwMCcsICd0ZXRyYWRpYycsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgIGV4cGVjdChjb2xvcnMucHJpbWFyeSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb2xvcnNbJ2NvbG9yLTInXSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb2xvcnNbJ2NvbG9yLTMnXSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb2xvcnNbJ2NvbG9yLTQnXSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XnlJ/miJDljZXoibInLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBnZW5lcmF0b3JbJ2dlbmVyYXRlQ29sb3JUb2tlbnMnXSgnI2ZmMDAwMCcsICdtb25vY2hyb21hdGljJywgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgZXhwZWN0KGNvbG9ycy5wcmltYXJ5KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGNvbG9yc1snY29sb3ItMiddKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVTcGFjaW5nVG9rZW5zJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XnlJ/miJDpl7Tot53ku6TniYwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGFjaW5nID0gZ2VuZXJhdG9yWydnZW5lcmF0ZVNwYWNpbmdUb2tlbnMnXSgxMCk7XG5cbiAgICAgIGV4cGVjdChzcGFjaW5nLnhzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHNwYWNpbmcuc20pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3BhY2luZy5tZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzcGFjaW5nLmxnKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaUr+aMgeiHquWumuS5ieavlOS+iycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwYWNpbmcgPSBnZW5lcmF0b3JbJ2dlbmVyYXRlU3BhY2luZ1Rva2VucyddKDEyKTtcbiAgICAgIGNvbnN0IHNwYWNpbmcyID0gZ2VuZXJhdG9yWydnZW5lcmF0ZVNwYWNpbmdUb2tlbnMnXSgxMCk7XG5cbiAgICAgIGV4cGVjdChzcGFjaW5nLnhzKS5ub3QudG9CZShzcGFjaW5nMi54cyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZVR5cG9ncmFwaHlUb2tlbnMnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeeUn+aIkOaOkueJiOS7pOeJjCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cG9ncmFwaHkgPSBnZW5lcmF0b3JbJ2dlbmVyYXRlVHlwb2dyYXBoeVRva2VucyddKCk7XG5cbiAgICAgIGV4cGVjdCh0eXBvZ3JhcGh5LnhzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cG9ncmFwaHkuc20pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodHlwb2dyYXBoeS5iYXNlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cG9ncmFwaHkubGcpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5YyF5ZCr5q2j56Gu55qE5a2X5L2T5aSn5bCPJywgKCkgPT4ge1xuICAgICAgY29uc3QgdHlwb2dyYXBoeSA9IGdlbmVyYXRvclsnZ2VuZXJhdGVUeXBvZ3JhcGh5VG9rZW5zJ10oKTtcblxuICAgICAgZXhwZWN0KHR5cG9ncmFwaHkueHMpLnRvQmUoJzEycHgnKTtcbiAgICAgIGV4cGVjdCh0eXBvZ3JhcGh5LmJhc2UpLnRvQmUoJzE2cHgnKTtcbiAgICAgIGV4cGVjdCh0eXBvZ3JhcGh5LmxnKS50b0JlKCcyMHB4Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhbmFseXplQ29sb3JIYXJtb255JywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xor4bliKvljZXoibLlkozosJAnLCAoKSA9PiB7XG4gICAgICBjb25zdCBoYXJtb255ID0gZ2VuZXJhdG9yLmFuYWx5emVDb2xvckhhcm1vbnkoWycjZmYwMDAwJ10pO1xuXG4gICAgICBleHBlY3QoaGFybW9ueSkudG9CZSgnbW9ub2Nocm9tYXRpYycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeivhuWIq+S4ieiJsuWSjOiwkCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGhhcm1vbnkgPSBnZW5lcmF0b3IuYW5hbHl6ZUNvbG9ySGFybW9ueShbJyNmZjAwMDAnLCAnIzAwZmYwMCddKTtcblxuICAgICAgZXhwZWN0KGhhcm1vbnkpLnRvQmUoJ3RyaWFkaWMnKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6Xor4bliKvljZXoibLlkozosJDvvIjlpJrkuKrpopzoibLvvIknLCAoKSA9PiB7XG4gICAgICBjb25zdCBoYXJtb255ID0gZ2VuZXJhdG9yLmFuYWx5emVDb2xvckhhcm1vbnkoWycjZmYwMDAwJywgJyNmZjMzMDAnLCAnI2ZmNjYwMCddKTtcblxuICAgICAgZXhwZWN0KGhhcm1vbnkpLnRvQmUoJ21vbm9jaHJvbWF0aWMnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlUmVjb21tZW5kYXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XnlJ/miJDmjqjojZAnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbnMgPSB7XG4gICAgICAgIGNvbG9yczoge1xuICAgICAgICAgIHByaW1hcnk6IHsgbmFtZTogJ3ByaW1hcnknLCB2YWx1ZTogeyBoZXg6ICcjZmYwMDAwJywgb2tsY2g6ICdva2xjaCgwLjUgMC4yIDApJyB9IH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBnZW5lcmF0b3IuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModG9rZW5zKTtcblxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVjb21tZW5kYXRpb25zKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5o6o6I2Q5YW25LuW6Imy5b2p5ZKM6LCQJywgKCkgPT4ge1xuICAgICAgY29uc3QgdG9rZW5zID0ge1xuICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICBwcmltYXJ5OiB7IG5hbWU6ICdwcmltYXJ5JywgdmFsdWU6IHsgaGV4OiAnI2ZmMDAwMCcsIG9rbGNoOiAnb2tsY2goMC41IDAuMiAwKScgfSB9LFxuICAgICAgICAgICdjb2xvci0yJzogeyBuYW1lOiAnY29sb3ItMicsIHZhbHVlOiB7IGhleDogJyNmZjMzMDAnLCBva2xjaDogJ29rbGNoKDAuNSAwLjIgMTApJyB9IH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBnZW5lcmF0b3IuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModG9rZW5zKTtcblxuICAgICAgZXhwZWN0KFxuICAgICAgICByZWNvbW1lbmRhdGlvbnMuc29tZSgocikgPT4gci5pbmNsdWRlcygnY29tcGxlbWVudGFyeScpIHx8IHIuaW5jbHVkZXMoJ2FuYWxvZ291cycpKVxuICAgICAgKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaOqOiNkOmXtOi3neavlOS+iycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IHtcbiAgICAgICAgc3BhY2luZzoge1xuICAgICAgICAgIHhzOiAnNHB4JyxcbiAgICAgICAgICBzbTogJzIwcHgnLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdG9yLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKHRva2Vucyk7XG5cbiAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbnMuc29tZSgocikgPT4gci5pbmNsdWRlcygn6Ze06Led5q+U5L6LJykpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9