{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/security/__tests__/CSPProvider.test.tsx","mappings":"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","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/security/__tests__/CSPProvider.test.tsx"],"sourcesContent":["/**\n * @file CSP Provider测试\n * @description 测试CSP Provider功能\n * @module __tests__/security/CSPProvider.test\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-19\n */\n\nimport * as React from 'react';\nimport { render, fireEvent, waitFor, cleanup, act } from '@testing-library/react';\nimport { screen } from '@testing-library/dom';\n\nimport {\n  CSPProvider,\n  useCSP,\n  CSPScript,\n  CSPStyle,\n  CSPImg,\n  createStrictCSPConfig,\n  createModerateCSPConfig,\n  createPermissiveCSPConfig,\n  generateNonce,\n  withCSP,\n} from '../CSPProvider';\n\ndescribe('CSP Provider Module', () => {\n  beforeEach(() => {\n    cleanup();\n  });\n\n  describe('CSPProvider', () => {\n    it('应该提供默认CSP配置', () => {\n      const TestComponent = () => {\n        const { config } = useCSP();\n\n        return (\n          <div data-testid=\"config\">\n            <div data-testid=\"default-src\">{config['default-src']}</div>\n            <div data-testid=\"enabled\">{config.enabled ? 'enabled' : 'disabled'}</div>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('config')).toBeInTheDocument();\n    });\n\n    it('应该支持自定义配置', () => {\n      const customConfig = {\n        'script-src': \"'self'\",\n        'style-src': \"'self' 'unsafe-inline'\",\n      };\n\n      const TestComponent = () => {\n        const { config } = useCSP();\n\n        return (\n          <div data-testid=\"config\">\n            <div data-testid=\"script-src\">{config['script-src']}</div>\n            <div data-testid=\"style-src\">{config['style-src']}</div>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider config={customConfig}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('script-src')).toBeInTheDocument();\n      expect(screen.getByTestId('style-src')).toBeInTheDocument();\n    });\n\n    it('应该支持自定义nonce', () => {\n      const customNonce = 'custom-nonce-123';\n\n      const TestComponent = () => {\n        const { nonce } = useCSP();\n\n        return <div data-testid=\"nonce\">{nonce}</div>;\n      };\n\n      render(\n        <CSPProvider nonce={customNonce}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const nonceDiv = screen.getByTestId('nonce');\n      expect(nonceDiv.textContent).toBe(customNonce);\n    });\n\n    it('应该处理没有nonce的情况', () => {\n      const TestComponent = () => {\n        const { nonce } = useCSP();\n\n        return <div data-testid=\"nonce\">{nonce || 'no nonce'}</div>;\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const nonceDiv = screen.getByTestId('nonce');\n      expect(nonceDiv.textContent).toBe('no nonce');\n    });\n\n    it('应该支持禁用CSP', () => {\n      const TestComponent = () => {\n        const { enabled } = useCSP();\n\n        return <div data-testid=\"enabled\">{enabled ? 'enabled' : 'disabled'}</div>;\n      };\n\n      render(\n        <CSPProvider enabled={false}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const enabledDiv = screen.getByTestId('enabled');\n      expect(enabledDiv.textContent).toBe('disabled');\n    });\n\n    it('应该支持report-only模式', async () => {\n      const onViolation = jest.fn();\n\n      const TestComponent = () => {\n        const { config } = useCSP();\n\n        return <div data-testid=\"config\">{config.reportOnly ? 'report-only' : 'enforce'}</div>;\n      };\n\n      render(\n        <CSPProvider reportOnly={true} onViolation={onViolation}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      await waitFor(() => {\n        expect(screen.getByTestId('config')).toBeInTheDocument();\n      });\n    });\n\n    it('应该合并默认配置和自定义配置', () => {\n      const customConfig = {\n        'script-src': \"'self'\",\n      };\n\n      const TestComponent = () => {\n        const { config } = useCSP();\n\n        return (\n          <div>\n            <div data-testid=\"default-src\">{config['default-src']}</div>\n            <div data-testid=\"script-src\">{config['script-src']}</div>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider config={customConfig}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('default-src')).toHaveTextContent(\"'self'\");\n      expect(screen.getByTestId('script-src')).toHaveTextContent(\"'self'\");\n    });\n\n    it('应该更新配置', async () => {\n      const TestComponent = () => {\n        const { updateConfig, config } = useCSP();\n\n        return (\n          <div>\n            <div data-testid=\"script-src\">{config['script-src']}</div>\n            <button data-testid=\"update\" onClick={() => updateConfig({ 'script-src': \"'self'\" })}>\n              Update\n            </button>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const updateButton = screen.getByTestId('update');\n      await act(async () => {\n        updateButton.click();\n      });\n\n      await waitFor(() => {\n        expect(screen.getByTestId('script-src')).toHaveTextContent(\"'self'\");\n      });\n    });\n\n    it('应该在禁用时不添加meta标签', () => {\n      const metaTagExists = () => {\n        return document.querySelector('meta[http-equiv=\"Content-Security-Policy\"]') !== null;\n      };\n\n      render(\n        <CSPProvider enabled={false}>\n          <div>Test</div>\n        </CSPProvider>\n      );\n\n      expect(metaTagExists()).toBe(false);\n    });\n\n    it('应该在启用时添加meta标签', () => {\n      const metaTagExists = () => {\n        return document.querySelector('meta[http-equiv=\"Content-Security-Policy\"]') !== null;\n      };\n\n      render(\n        <CSPProvider enabled={true}>\n          <div>Test</div>\n        </CSPProvider>\n      );\n\n      expect(metaTagExists()).toBe(true);\n    });\n\n    it('应该在report-only模式下使用正确的meta标签', () => {\n      const metaTagExists = () => {\n        return (\n          document.querySelector('meta[http-equiv=\"Content-Security-Policy-Report-Only\"]') !== null\n        );\n      };\n\n      render(\n        <CSPProvider reportOnly={true}>\n          <div>Test</div>\n        </CSPProvider>\n      );\n\n      expect(metaTagExists()).toBe(true);\n    });\n\n    it('应该清理meta标签在卸载时', () => {\n      const { unmount } = render(\n        <CSPProvider>\n          <div>Test</div>\n        </CSPProvider>\n      );\n\n      const metaTagExists = () => {\n        return document.querySelector('meta[http-equiv=\"Content-Security-Policy\"]') !== null;\n      };\n\n      expect(metaTagExists()).toBe(true);\n\n      unmount();\n\n      expect(metaTagExists()).toBe(false);\n    });\n\n    it('应该处理多个CSPProvider实例', () => {\n      const TestComponent = () => {\n        const { nonce } = useCSP();\n\n        return <div data-testid=\"nonce\">{nonce || 'no-nonce'}</div>;\n      };\n\n      render(\n        <CSPProvider nonce=\"first\">\n          <CSPProvider nonce=\"second\">\n            <TestComponent />\n          </CSPProvider>\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('nonce')).toHaveTextContent('second');\n    });\n  });\n\n  describe('useCSP Hook', () => {\n    it('应该返回CSP相关的状态和方法', () => {\n      const TestComponent = () => {\n        const csp = useCSP();\n\n        expect(csp.config).toBeDefined();\n        expect(csp.enabled).toBeDefined();\n        expect(csp.updateConfig).toBeDefined();\n\n        return (\n          <div>\n            <div data-testid=\"has-update\">\n              {typeof csp.updateConfig === 'function' ? 'has-update' : 'no-update'}\n            </div>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('has-update')).toBeInTheDocument();\n    });\n\n    it('应该支持更新配置', async () => {\n      const TestComponent = () => {\n        const { updateConfig } = useCSP();\n        const [updated, setUpdated] = React.useState(false);\n\n        const handleUpdate = async () => {\n          await updateConfig({ 'script-src': \"'self'\" });\n          setUpdated(true);\n        };\n\n        return (\n          <div>\n            <div data-testid=\"updated\">{updated ? 'updated' : 'not-updated'}</div>\n            <button data-testid=\"update\" onClick={handleUpdate}>\n              Update\n            </button>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const updateButton = screen.getByTestId('update');\n      await act(async () => {\n        updateButton.click();\n      });\n\n      await waitFor(() => {\n        const updatedDiv = screen.getByTestId('updated');\n        expect(updatedDiv.textContent).toBe('updated');\n      });\n    });\n  });\n\n  describe('CSPScript', () => {\n    it('应该在有nonce时添加nonce属性', () => {\n      const customNonce = 'test-nonce-123';\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPScript nonce={customNonce}>console.log(&quot;test&quot;);</CSPScript>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const scriptElement = document.querySelector('script[nonce]');\n      expect(scriptElement).toBeTruthy();\n    });\n\n    it('应该在禁用时正常渲染', () => {\n      const TestComponent = () => {\n        return <CSPScript>console.log(&quot;test&quot;);</CSPScript>;\n      };\n\n      render(\n        <CSPProvider enabled={false}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const scriptElement = document.querySelector('script');\n      expect(scriptElement).toBeTruthy();\n    });\n  });\n\n  describe('CSPStyle', () => {\n    it('应该在有nonce时添加nonce属性', () => {\n      const customNonce = 'test-nonce-456';\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPStyle nonce={customNonce}>{`body { color: red; }`}</CSPStyle>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const styleElement = document.querySelector('style[nonce]');\n      expect(styleElement).toBeTruthy();\n    });\n\n    it('应该在禁用时正常渲染', () => {\n      const TestComponent = () => {\n        return <CSPStyle>{`body { color: red; }`}</CSPStyle>;\n      };\n\n      render(\n        <CSPProvider enabled={false}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const styleElement = document.querySelector('style');\n      expect(styleElement).toBeTruthy();\n    });\n  });\n\n  describe('CSP违规处理', () => {\n    it('应该处理CSP违规报告', () => {\n      const onViolation = jest.fn();\n\n      const TestComponent = () => {\n        const { config } = useCSP();\n\n        return <div data-testid=\"config\">{config.onViolation ? 'has-handler' : 'no-handler'}</div>;\n      };\n\n      render(\n        <CSPProvider onViolation={onViolation}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('config')).toBeInTheDocument();\n    });\n  });\n\n  describe('createStrictCSPConfig', () => {\n    it('应该创建严格的CSP配置', () => {\n      const config = createStrictCSPConfig();\n\n      expect(config['default-src']).toBe(\"'self'\");\n      expect(config['script-src']).toBe(\"'self' 'nonce-{nonce}'\");\n      expect(config['style-src']).toBe(\"'self' 'nonce-{nonce}'\");\n      expect(config['upgrade-insecure-requests']).toBe(true);\n      expect(config['block-all-mixed-content']).toBe(true);\n    });\n  });\n\n  describe('createModerateCSPConfig', () => {\n    it('应该创建适度的CSP配置', () => {\n      const config = createModerateCSPConfig();\n\n      expect(config['default-src']).toBe(\"'self'\");\n      expect(config['script-src']).toBe(\"'self' 'unsafe-inline' 'unsafe-eval' https:\");\n      expect(config['style-src']).toBe(\"'self' 'unsafe-inline' https:\");\n      expect(config['frame-ancestors']).toBe(\"'self'\");\n    });\n  });\n\n  describe('createPermissiveCSPConfig', () => {\n    it('应该创建宽松的CSP配置', () => {\n      const config = createPermissiveCSPConfig();\n\n      expect(config['default-src']).toBe(\"'self'\");\n      expect(config['script-src']).toBe(\"'self' 'unsafe-inline' 'unsafe-eval' https: http:\");\n      expect(config['style-src']).toBe(\"'self' 'unsafe-inline' https: http:\");\n      expect(config['img-src']).toBe(\"'self' data: https: http: blob:\");\n    });\n  });\n\n  describe('generateNonce', () => {\n    it('应该生成随机的nonce', () => {\n      const nonce1 = generateNonce();\n      const nonce2 = generateNonce();\n\n      expect(nonce1).toBeDefined();\n      expect(nonce2).toBeDefined();\n      expect(nonce1).not.toBe(nonce2);\n    });\n\n    it('应该生成字符串类型的nonce', () => {\n      const nonce = generateNonce();\n\n      expect(typeof nonce).toBe('string');\n    });\n  });\n\n  describe('withCSP', () => {\n    it('应该包装组件并添加CSP', () => {\n      const TestComponent = () => <div data-testid=\"test\">Test</div>;\n      const WrappedComponent = withCSP(TestComponent);\n\n      render(<WrappedComponent />);\n      expect(screen.getByTestId('test')).toBeInTheDocument();\n    });\n\n    it('应该支持自定义配置', () => {\n      const TestComponent = () => <div data-testid=\"test\">Test</div>;\n      const customConfig = { 'script-src': \"'self'\" };\n      const WrappedComponent = withCSP(TestComponent, customConfig);\n\n      render(<WrappedComponent />);\n      expect(screen.getByTestId('test')).toBeInTheDocument();\n    });\n\n    it('应该保留组件的displayName', () => {\n      const TestComponent = () => <div>Test</div>;\n      TestComponent.displayName = 'TestComponent';\n      const WrappedComponent = withCSP(TestComponent);\n\n      expect(WrappedComponent.displayName).toBe('withCSP(TestComponent)');\n    });\n  });\n\n  describe('generateCSPMetaTag', () => {\n    it('应该生成基本的CSP标签', () => {\n      const config = {\n        'default-src': \"'self'\",\n        'script-src': \"'self'\",\n      };\n\n      const TestComponent = () => {\n        const { config: cspConfig } = useCSP();\n        return <div data-testid=\"config\">{JSON.stringify(cspConfig)}</div>;\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('config')).toBeInTheDocument();\n    });\n\n    it('应该处理布尔值指令', () => {\n      const config = {\n        'default-src': \"'self'\",\n        'upgrade-insecure-requests': true,\n        'block-all-mixed-content': true,\n      };\n\n      const TestComponent = () => {\n        const { config: cspConfig } = useCSP();\n        return <div data-testid=\"config\">{JSON.stringify(cspConfig)}</div>;\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('config')).toBeInTheDocument();\n    });\n\n    it('应该处理undefined值', () => {\n      const config = {\n        'default-src': \"'self'\",\n        'script-src': undefined,\n      };\n\n      const TestComponent = () => {\n        const { config: cspConfig } = useCSP();\n        return <div data-testid=\"config\">{JSON.stringify(cspConfig)}</div>;\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('config')).toBeInTheDocument();\n    });\n  });\n\n  describe('isURLAllowed', () => {\n    it('应该允许self URL', () => {\n      const config = {\n        'img-src': \"'self'\",\n      };\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPImg src=\"/image.jpg\" data-testid=\"img\" />\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const imgElement = document.querySelector('img');\n      expect(imgElement).toBeTruthy();\n    });\n\n    it('应该允许data URL', () => {\n      const config = {\n        'img-src': \"'self' data:\",\n      };\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPImg src=\"data:image/png;base64,abc123\" data-testid=\"img\" />\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const imgElement = document.querySelector('img');\n      expect(imgElement).toBeTruthy();\n    });\n\n    it('应该允许https URL', () => {\n      const config = {\n        'img-src': \"'self' https:\",\n      };\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPImg src=\"https://example.com/image.jpg\" data-testid=\"img\" />\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const imgElement = document.querySelector('img');\n      expect(imgElement).toBeTruthy();\n    });\n\n    it('应该允许http URL', () => {\n      const config = {\n        'img-src': \"'self' http:\",\n      };\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPImg src=\"http://example.com/image.jpg\" data-testid=\"img\" />\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider config={config}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const imgElement = document.querySelector('img');\n      expect(imgElement).toBeTruthy();\n    });\n  });\n\n  describe('边界情况', () => {\n    it('应该处理空配置', () => {\n      const TestComponent = () => {\n        const { config } = useCSP();\n        return <div data-testid=\"config\">{JSON.stringify(config)}</div>;\n      };\n\n      render(\n        <CSPProvider config={{}}>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('config')).toBeInTheDocument();\n    });\n\n    it('应该处理多次更新配置', async () => {\n      const TestComponent = () => {\n        const { updateConfig, config } = useCSP();\n        const [updateCount, setUpdateCount] = React.useState(0);\n\n        const handleUpdate = async () => {\n          await updateConfig({ 'script-src': \"'self'\" });\n          setUpdateCount((prev) => prev + 1);\n          await updateConfig({ 'style-src': \"'self'\" });\n          setUpdateCount((prev) => prev + 1);\n        };\n\n        return (\n          <div>\n            <div data-testid=\"update-count\">{updateCount}</div>\n            <div data-testid=\"script-src\">{config['script-src']}</div>\n            <button data-testid=\"update\" onClick={handleUpdate}>\n              Update\n            </button>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const updateButton = screen.getByTestId('update');\n      await act(async () => {\n        updateButton.click();\n      });\n\n      await waitFor(() => {\n        const updateCountDiv = screen.getByTestId('update-count');\n        expect(updateCountDiv.textContent).toBe('2');\n      });\n    });\n\n    it('应该处理没有提供children的情况', () => {\n      render(\n        <CSPProvider>\n          <div>Test</div>\n        </CSPProvider>\n      );\n    });\n\n    it('应该处理在CSPProvider外使用useCSP', () => {\n      const TestComponent = () => {\n        try {\n          const csp = useCSP();\n          return <div data-testid=\"csp\">{JSON.stringify(csp)}</div>;\n        } catch (error) {\n          return <div data-testid=\"error\">{(error as Error).message}</div>;\n        }\n      };\n\n      render(<TestComponent />);\n      expect(screen.getByTestId('error')).toBeInTheDocument();\n    });\n  });\n\n  describe('CSPScript 更多测试', () => {\n    it('应该支持自定义属性', () => {\n      const customNonce = 'test-nonce-789';\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPScript nonce={customNonce} data-testid=\"script\">\n              console.log(&quot;test&quot;);\n            </CSPScript>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const scriptElement = document.querySelector('script');\n      expect(scriptElement).toBeTruthy();\n      expect(scriptElement?.getAttribute('nonce')).toBe(customNonce);\n    });\n\n    it('应该处理空children', () => {\n      const customNonce = 'test-nonce-empty';\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPScript nonce={customNonce} data-testid=\"script\" />\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const scriptElement = document.querySelector('script');\n      expect(scriptElement).toBeTruthy();\n    });\n  });\n\n  describe('CSPStyle 更多测试', () => {\n    it('应该支持自定义属性', () => {\n      const customNonce = 'test-nonce-style';\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPStyle nonce={customNonce} data-testid=\"style\">\n              {`body { color: red; }`}\n            </CSPStyle>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const styleElement = document.querySelector('style');\n      expect(styleElement).toBeTruthy();\n      expect(styleElement?.getAttribute('nonce')).toBe(customNonce);\n    });\n\n    it('应该处理空children', () => {\n      const customNonce = 'test-nonce-empty-style';\n\n      const TestComponent = () => {\n        return (\n          <div>\n            <CSPStyle nonce={customNonce} data-testid=\"style\" />\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      const styleElement = document.querySelector('style');\n      expect(styleElement).toBeTruthy();\n    });\n  });\n\n  describe('CSPImg', () => {\n    it('应该在启用CSP时检查图片源', () => {\n      render(\n        <CSPProvider>\n          <CSPImg src=\"/test.jpg\" alt=\"Test\" data-testid=\"test-img\" />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('test-img')).toBeInTheDocument();\n    });\n\n    it('应该在禁用CSP时不检查图片源', () => {\n      render(\n        <CSPProvider enabled={false}>\n          <CSPImg src=\"https://example.com/test.jpg\" alt=\"Test\" data-testid=\"test-img\" />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('test-img')).toBeInTheDocument();\n    });\n\n    it('应该警告不允许的图片源', () => {\n      const consoleWarnSpy = jest.spyOn(console, 'warn').mockImplementation();\n\n      render(\n        <CSPProvider config={{ 'img-src': \"'self'\" }}>\n          <CSPImg src=\"https://example.com/test.jpg\" alt=\"Test\" data-testid=\"test-img\" />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('test-img')).toBeInTheDocument();\n      consoleWarnSpy.mockRestore();\n    });\n\n    it('应该允许self图片源', () => {\n      render(\n        <CSPProvider config={{ 'img-src': \"'self'\" }}>\n          <CSPImg src=\"/test.jpg\" alt=\"Test\" data-testid=\"test-img\" />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('test-img')).toBeInTheDocument();\n    });\n\n    it('应该允许data图片源', () => {\n      render(\n        <CSPProvider config={{ 'img-src': \"'self' data:\" }}>\n          <CSPImg src=\"data:image/png;base64,test\" alt=\"Test\" data-testid=\"test-img\" />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('test-img')).toBeInTheDocument();\n    });\n  });\n\n  describe('useCSP', () => {\n    it('应该在Provider外使用时抛出错误', () => {\n      const TestComponent = () => {\n        try {\n          useCSP();\n          return <div data-testid=\"no-error\">No error</div>;\n        } catch {\n          return <div data-testid=\"error\">Error</div>;\n        }\n      };\n\n      render(<TestComponent />);\n      expect(screen.getByTestId('error')).toBeInTheDocument();\n    });\n\n    it('应该返回正确的context值', () => {\n      const TestComponent = () => {\n        const csp = useCSP();\n\n        return (\n          <div>\n            <div data-testid=\"enabled\">{csp.enabled ? 'enabled' : 'disabled'}</div>\n            <div data-testid=\"has-config\">{csp.config ? 'has-config' : 'no-config'}</div>\n            <div data-testid=\"has-update\">\n              {typeof csp.updateConfig === 'function' ? 'has-update' : 'no-update'}\n            </div>\n          </div>\n        );\n      };\n\n      render(\n        <CSPProvider>\n          <TestComponent />\n        </CSPProvider>\n      );\n\n      expect(screen.getByTestId('enabled')).toHaveTextContent('enabled');\n      expect(screen.getByTestId('has-config')).toHaveTextContent('has-config');\n      expect(screen.getByTestId('has-update')).toHaveTextContent('has-update');\n    });\n  });\n});\n"],"version":3}