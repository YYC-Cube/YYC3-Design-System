{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/components/__tests__/Form.test.tsx","mappings":"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","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/__tests__/Form.test.tsx"],"sourcesContent":["/**\n * @file 表单组件测试\n * @description 测试表单组件的功能\n * @module __tests__/components/Form.test\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-23\n */\n\nimport { render, fireEvent, waitFor } from '@testing-library/react';\nimport { screen } from '@testing-library/dom';\nimport '@testing-library/jest-dom';\nimport { z } from 'zod';\nimport { Form } from '../Form';\nimport { FormField } from '../FormField';\nimport { FormError } from '../FormError';\nimport { Input } from '../Input';\nimport { ThemeProvider } from '../../theme/ThemeProvider';\n\ndescribe('Form', () => {\n  const loginSchema = z.object({\n    username: z.string().min(3, '用户名至少3个字符'),\n    password: z.string().min(6, '密码至少6个字符'),\n  });\n\n  it('应该渲染表单', () => {\n    render(\n      <ThemeProvider>\n        <Form schema={loginSchema} onSubmit={jest.fn()}>\n          <FormField name=\"username\" label=\"用户名\">\n            {(field) => <Input {...field} />}\n          </FormField>\n          <FormField name=\"password\" label=\"密码\">\n            {(field) => <Input {...field} type=\"password\" />}\n          </FormField>\n        </Form>\n      </ThemeProvider>\n    );\n\n    expect(screen.getByLabelText('用户名')).toBeInTheDocument();\n    expect(screen.getByLabelText('密码')).toBeInTheDocument();\n  });\n\n  it('应该验证表单', async () => {\n    const handleSubmit = jest.fn();\n    render(\n      <ThemeProvider>\n        <Form schema={loginSchema} onSubmit={handleSubmit}>\n          <FormField name=\"username\" label=\"用户名\">\n            {(field) => <Input {...field} />}\n          </FormField>\n          <FormField name=\"password\" label=\"密码\">\n            {(field) => <Input {...field} type=\"password\" />}\n          </FormField>\n        </Form>\n      </ThemeProvider>\n    );\n\n    const submitButton = screen.getByRole('button');\n    fireEvent.click(submitButton);\n\n    await waitFor(() => {\n      expect(screen.getByText('用户名至少3个字符')).toBeInTheDocument();\n      expect(screen.getByText('密码至少6个字符')).toBeInTheDocument();\n    });\n  });\n\n  it('应该显示验证错误', () => {\n    render(\n      <ThemeProvider>\n        <FormError message=\"这是一个错误信息\" />\n      </ThemeProvider>\n    );\n\n    expect(screen.getByText('这是一个错误信息')).toBeInTheDocument();\n  });\n\n  it('应该支持默认值', () => {\n    render(\n      <ThemeProvider>\n        <Form schema={loginSchema} defaultValues={{ username: 'testuser' }} onSubmit={jest.fn()}>\n          <FormField name=\"username\" label=\"用户名\">\n            {(field) => <Input {...field} />}\n          </FormField>\n        </Form>\n      </ThemeProvider>\n    );\n\n    const input = screen.getByLabelText('用户名') as HTMLInputElement;\n    expect(input.value).toBe('testuser');\n  });\n\n  it('应该在提交时调用回调', async () => {\n    const handleSubmit = jest.fn();\n    render(\n      <ThemeProvider>\n        <Form schema={loginSchema} onSubmit={handleSubmit}>\n          <FormField name=\"username\" label=\"用户名\">\n            {(field) => <Input {...field} defaultValue=\"validuser\" />}\n          </FormField>\n          <FormField name=\"password\" label=\"密码\">\n            {(field) => <Input {...field} type=\"password\" defaultValue=\"validpassword\" />}\n          </FormField>\n        </Form>\n      </ThemeProvider>\n    );\n\n    const submitButton = screen.getByRole('button');\n    fireEvent.click(submitButton);\n\n    await waitFor(() => {\n      expect(handleSubmit).toHaveBeenCalledWith({\n        username: 'validuser',\n        password: 'validpassword',\n      });\n    });\n  });\n});\n"],"version":3}