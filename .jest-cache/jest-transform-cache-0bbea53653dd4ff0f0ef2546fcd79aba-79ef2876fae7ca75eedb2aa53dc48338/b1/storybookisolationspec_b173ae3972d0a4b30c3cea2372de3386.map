{"version":3,"names":["cov_1f5g28g5ga","actualCoverage","s","test_1","require","test","describe","f","beforeEach","page","goto","waitForLoadState","settingsBtn","locator","expect","first","toBeVisible","click","waitForTimeout","panel","isolationSwitch","isVisible","b","isChecked","getAttribute","toContain","layoutTrigger","slider","value","toBeDefined","runBtn","badge","text","textContent","toBeTruthy","closeBtn"],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/tests/e2e/storybook-isolation.spec.ts"],"sourcesContent":["// path: src/qa/tests/e2e/storybook-isolation.spec.ts\n/**\n * YYC\\u00b3 Design System \\u2014 Storybook Isolation Mode E2E Tests (Playwright)\n *\n * Verifies: Settings panel open/close, isolation toggle, snapshot layout,\n * render quality slider, test execution, iframe isolation.\n */\nimport { test, expect } from '@playwright/test';\n\ntest.describe('Storybook Isolation Mode', () => {\n  test.beforeEach(async ({ page }) => {\n    await page.goto('/components');\n    await page.waitForLoadState('networkidle');\n  });\n\n  test('Settings button is visible on Components page', async ({ page }) => {\n    const settingsBtn = page.locator(\n      \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n    );\n    await expect(settingsBtn.first()).toBeVisible();\n  });\n\n  test('clicking Settings opens the Storybook Settings Panel', async ({ page }) => {\n    const settingsBtn = page\n      .locator(\n        \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n      )\n      .first();\n    await settingsBtn.click();\n    await page.waitForTimeout(300);\n\n    // Panel should now be visible\n    const panel = page.locator(\"[role='dialog'], [class*='panel'], [class*='modal']\").first();\n    await expect(panel).toBeVisible();\n  });\n\n  test('Isolation Mode switch toggles on/off', async ({ page }) => {\n    // Open settings\n    const settingsBtn = page\n      .locator(\n        \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n      )\n      .first();\n    await settingsBtn.click();\n    await page.waitForTimeout(300);\n\n    // Find isolation switch\n    const isolationSwitch = page.locator('role=switch').first();\n    if (await isolationSwitch.isVisible()) {\n      await isolationSwitch.click();\n      // Switch should now be checked\n      const isChecked = await isolationSwitch.getAttribute('data-state');\n      expect(['checked', 'unchecked']).toContain(isChecked);\n    }\n  });\n\n  test('Snapshot Layout dropdown has Grid/List/Carousel options', async ({ page }) => {\n    const settingsBtn = page\n      .locator(\n        \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n      )\n      .first();\n    await settingsBtn.click();\n    await page.waitForTimeout(300);\n\n    // Look for the layout selector\n    const layoutTrigger = page\n      .locator(\"button:has-text('Grid'), button:has-text('List'), button:has-text('Carousel')\")\n      .first();\n    if (await layoutTrigger.isVisible()) {\n      await layoutTrigger.click();\n      await page.waitForTimeout(200);\n    }\n  });\n\n  test('Render quality slider is interactive', async ({ page }) => {\n    const settingsBtn = page\n      .locator(\n        \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n      )\n      .first();\n    await settingsBtn.click();\n    await page.waitForTimeout(300);\n\n    const slider = page.locator('role=slider').first();\n    if (await slider.isVisible()) {\n      // Verify slider is interactive\n      const value = await slider.getAttribute('aria-valuenow');\n      expect(value).toBeDefined();\n    }\n  });\n\n  test('Run Isolated Tests button triggers test execution', async ({ page }) => {\n    const settingsBtn = page\n      .locator(\n        \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n      )\n      .first();\n    await settingsBtn.click();\n    await page.waitForTimeout(300);\n\n    const runBtn = page.locator(\"button:has-text('Run'), button:has-text('\\u8fd0\\u884c')\").first();\n    if (await runBtn.isVisible()) {\n      await runBtn.click();\n      await page.waitForTimeout(2000);\n      // Status badge should update\n      const badge = page\n        .locator('text=Passed, text=Failed, text=\\u901a\\u8fc7, text=\\u5931\\u8d25')\n        .first();\n      if (await badge.isVisible()) {\n        const text = await badge.textContent();\n        expect(text).toBeTruthy();\n      }\n    }\n  });\n\n  test('closing the panel hides it', async ({ page }) => {\n    const settingsBtn = page\n      .locator(\n        \"button[aria-label*='Settings'], button[aria-label*='\\u8bbe\\u7f6e'], button:has-text('Settings'), button:has-text('\\u8bbe\\u7f6e')\"\n      )\n      .first();\n    await settingsBtn.click();\n    await page.waitForTimeout(300);\n\n    // Find close button\n    const closeBtn = page\n      .locator(\n        \"button[aria-label*='Close'], button[aria-label*='\\u5173\\u95ed'], button:has-text('\\u00d7')\"\n      )\n      .first();\n    if (await closeBtn.isVisible()) {\n      await closeBtn.click();\n      await page.waitForTimeout(300);\n    }\n  });\n});\n"],"mappings":"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","ignoreList":[]}