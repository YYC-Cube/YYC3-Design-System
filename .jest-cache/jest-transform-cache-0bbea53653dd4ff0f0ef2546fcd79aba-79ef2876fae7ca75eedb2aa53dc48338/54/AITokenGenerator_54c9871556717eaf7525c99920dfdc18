9292a04e2a3eafeb228f172476d49e9b
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AITokenGenerator = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
/**
 * @file AI Token 生成器组件
 * @description 提供用户界面来生成和管理设计令牌
 * @component AITokenGenerator
 * @author YYC³
 * @version 1.0.0
 * @created 2026-02-18
 */
const react_1 = require("react");
const Card_1 = require("./Card");
const Button_1 = require("./Button");
const Input_1 = require("./Input");
const Badge_1 = require("./Badge");
const useTheme_1 = require("../theme/useTheme");
const token_generator_1 = require("../ai/token-generator");
const getTokenValue = (tokens, key) => {
    const value = key
        .split('.')
        .reduce((obj, k) => {
        if (typeof obj === 'object' && obj !== null) {
            return obj[k];
        }
        return undefined;
    }, tokens);
    return typeof value === 'string' ? value : '#000000';
};
const AITokenGenerator = ({ onGenerate, className = '', }) => {
    const { tokens } = (0, useTheme_1.useTheme)();
    const [baseColor, setBaseColor] = (0, react_1.useState)('#d45a5f');
    const [harmony, setHarmony] = (0, react_1.useState)('monochromatic');
    const [scale, setScale] = (0, react_1.useState)(10);
    const [includeShades, setIncludeShades] = (0, react_1.useState)(true);
    const [includeTints, setIncludeTints] = (0, react_1.useState)(true);
    const [generatedTokens, setGeneratedTokens] = (0, react_1.useState)(null);
    const [recommendations, setRecommendations] = (0, react_1.useState)([]);
    const handleGenerate = (0, react_1.useCallback)(() => {
        const newTokens = token_generator_1.tokenGenerator.generateTokens({
            baseColor,
            harmony,
            scale,
            includeShades,
            includeTints,
        });
        setGeneratedTokens(newTokens);
        const recs = token_generator_1.tokenGenerator.generateRecommendations(newTokens);
        setRecommendations(recs);
        if (onGenerate) {
            onGenerate(newTokens);
        }
    }, [baseColor, harmony, scale, includeShades, includeTints, onGenerate]);
    const harmonies = [
        { value: 'complementary', label: '互补色' },
        { value: 'analogous', label: '类似色' },
        { value: 'triadic', label: '三色' },
        { value: 'tetradic', label: '四色' },
        { value: 'monochromatic', label: '单色' },
    ];
    return ((0, jsx_runtime_1.jsxs)(Card_1.Card, { className: className, children: [(0, jsx_runtime_1.jsx)(Card_1.CardHeader, { children: (0, jsx_runtime_1.jsx)(Card_1.CardTitle, { children: "AI Token \u751F\u6210\u5668" }) }), (0, jsx_runtime_1.jsxs)(Card_1.CardContent, { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u57FA\u7840\u989C\u8272" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsx)(Input_1.Input, { type: "color", value: baseColor, onChange: setBaseColor, className: "w-16 h-10" }), (0, jsx_runtime_1.jsx)(Input_1.Input, { type: "text", value: baseColor, onChange: setBaseColor, placeholder: "#d45a5f" })] })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u8272\u5F69\u548C\u8C10" }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: harmonies.map((h) => ((0, jsx_runtime_1.jsx)(Badge_1.Badge, { variant: harmony === h.value ? 'default' : 'outline', style: {
                                                cursor: 'pointer',
                                                background: harmony === h.value ? getTokenValue(tokens, 'color.primary') : 'transparent',
                                                color: harmony === h.value ? '#ffffff' : getTokenValue(tokens, 'color.foreground'),
                                                borderColor: getTokenValue(tokens, 'color.primary'),
                                            }, onClick: () => setHarmony(h.value), children: h.label }, h.value))) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("label", { className: "block text-sm font-medium mb-2", style: { color: getTokenValue(tokens, 'color.foreground') }, children: ["\u95F4\u8DDD\u6BD4\u4F8B: ", scale] }), (0, jsx_runtime_1.jsx)("input", { type: "range", min: "8", max: "16", step: "1", value: scale, onChange: (e) => setScale(Number(e.target.value)), className: "w-full", style: {
                                            accentColor: getTokenValue(tokens, 'color.primary'),
                                        } })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-4", children: [(0, jsx_runtime_1.jsxs)("label", { className: "flex items-center gap-2 cursor-pointer", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", checked: includeShades, onChange: (e) => setIncludeShades(e.target.checked), className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u5305\u542B\u8272\u76F8" })] }), (0, jsx_runtime_1.jsxs)("label", { className: "flex items-center gap-2 cursor-pointer", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", checked: includeTints, onChange: (e) => setIncludeTints(e.target.checked), className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u5305\u542B\u8272\u8C03" })] })] }), (0, jsx_runtime_1.jsx)(Button_1.Button, { onClick: handleGenerate, className: "w-full", children: "\u751F\u6210\u4EE4\u724C" })] }), recommendations.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-medium", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "AI \u63A8\u8350" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: recommendations.map((rec, index) => ((0, jsx_runtime_1.jsx)("div", { className: "p-3 rounded-lg", style: {
                                        background: getTokenValue(tokens, 'color.card'),
                                        border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                    }, children: (0, jsx_runtime_1.jsxs)("p", { className: "text-sm", style: { color: getTokenValue(tokens, 'color.foreground') }, children: ["\uD83D\uDCA1 ", rec] }) }, index))) })] })), generatedTokens && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-medium", style: { color: getTokenValue(tokens, 'color.foreground') }, children: "\u751F\u6210\u7684\u4EE4\u724C" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: Object.entries(generatedTokens.colors)
                                    .slice(0, 8)
                                    .map(([name, color]) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 p-2 rounded-lg", style: {
                                        background: getTokenValue(tokens, 'color.card'),
                                        border: `1px solid ${getTokenValue(tokens, 'color.border')}`,
                                    }, children: [(0, jsx_runtime_1.jsx)("div", { className: "w-8 h-8 rounded", style: { background: color.value.hex } }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm font-medium", style: { color: getTokenValue(tokens, 'color.foreground') }, children: name }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs", style: { color: getTokenValue(tokens, 'color.muted-foreground') }, children: color.value.hex })] })] }, name))) })] }))] })] }));
};
exports.AITokenGenerator = AITokenGenerator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvQUlUb2tlbkdlbmVyYXRvci50c3giLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7O0dBT0c7QUFFSCxpQ0FBcUQ7QUFDckQsaUNBQWtFO0FBQ2xFLHFDQUFrQztBQUNsQyxtQ0FBZ0M7QUFDaEMsbUNBQWdDO0FBQ2hDLGdEQUE2QztBQUM3QywyREFBdUQ7QUFLdkQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxNQUErQixFQUFFLEdBQVcsRUFBVSxFQUFFO0lBQzdFLE1BQU0sS0FBSyxHQUFHLEdBQUc7U0FDZCxLQUFLLENBQUMsR0FBRyxDQUFDO1NBQ1YsTUFBTSxDQUF5QixDQUFDLEdBQTJCLEVBQUUsQ0FBUyxFQUFFLEVBQUU7UUFDekUsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLElBQUksR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDO1lBQzVDLE9BQU8sR0FBRyxDQUFDLENBQXFCLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQyxFQUFFLE1BQW9CLENBQUMsQ0FBQztJQUMzQixPQUFPLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDdkQsQ0FBQyxDQUFDO0FBT0ssTUFBTSxnQkFBZ0IsR0FBb0MsQ0FBQyxFQUNoRSxVQUFVLEVBQ1YsU0FBUyxHQUFHLEVBQUUsR0FDZixFQUFFLEVBQUU7SUFDSCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBQSxtQkFBUSxHQUFFLENBQUM7SUFDOUIsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEQsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBRXBDLGVBQWUsQ0FBQyxDQUFDO0lBQ25CLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDekQsTUFBTSxDQUFDLFlBQVksRUFBRSxlQUFlLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkQsTUFBTSxDQUFDLGVBQWUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBeUIsSUFBSSxDQUFDLENBQUM7SUFDckYsTUFBTSxDQUFDLGVBQWUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBVyxFQUFFLENBQUMsQ0FBQztJQUVyRSxNQUFNLGNBQWMsR0FBRyxJQUFBLG1CQUFXLEVBQUMsR0FBRyxFQUFFO1FBQ3RDLE1BQU0sU0FBUyxHQUFHLGdDQUFjLENBQUMsY0FBYyxDQUFDO1lBQzlDLFNBQVM7WUFDVCxPQUFPO1lBQ1AsS0FBSztZQUNMLGFBQWE7WUFDYixZQUFZO1NBQ2IsQ0FBQyxDQUFDO1FBRUgsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDOUIsTUFBTSxJQUFJLEdBQUcsZ0NBQWMsQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMvRCxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV6QixJQUFJLFVBQVUsRUFBRSxDQUFDO1lBQ2YsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hCLENBQUM7SUFDSCxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFFekUsTUFBTSxTQUFTLEdBQUc7UUFDaEIsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7UUFDeEMsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7UUFDcEMsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUU7UUFDakMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUU7UUFDbEMsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUU7S0FDL0IsQ0FBQztJQUVYLE9BQU8sQ0FDTCx3QkFBQyxXQUFJLElBQUMsU0FBUyxFQUFFLFNBQVMsYUFDeEIsdUJBQUMsaUJBQVUsY0FDVCx1QkFBQyxnQkFBUyw4Q0FBeUIsR0FDeEIsRUFDYix3QkFBQyxrQkFBVyxJQUFDLFNBQVMsRUFBQyxXQUFXLGFBQ2hDLGlDQUFLLFNBQVMsRUFBQyxXQUFXLGFBQ3hCLDRDQUNFLGtDQUNFLFNBQVMsRUFBQyxnQ0FBZ0MsRUFDMUMsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLENBQUMsRUFBRSx5Q0FHckQsRUFDUixpQ0FBSyxTQUFTLEVBQUMsWUFBWSxhQUN6Qix1QkFBQyxhQUFLLElBQUMsSUFBSSxFQUFDLE9BQU8sRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFDLFdBQVcsR0FBRyxFQUN0Rix1QkFBQyxhQUFLLElBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFDLFNBQVMsR0FBRyxJQUNqRixJQUNGLEVBRU4sNENBQ0Usa0NBQ0UsU0FBUyxFQUFDLGdDQUFnQyxFQUMxQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxFQUFFLHlDQUdyRCxFQUNSLGdDQUFLLFNBQVMsRUFBQyxzQkFBc0IsWUFDbEMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FDcEIsdUJBQUMsYUFBSyxJQUVKLE9BQU8sRUFBRSxPQUFPLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQ3BELEtBQUssRUFBRTtnREFDTCxNQUFNLEVBQUUsU0FBUztnREFDakIsVUFBVSxFQUNSLE9BQU8sS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhO2dEQUM5RSxLQUFLLEVBQ0gsT0FBTyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQztnREFDN0UsV0FBVyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsZUFBZSxDQUFDOzZDQUNwRCxFQUNELE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUVqQyxDQUFDLENBQUMsS0FBSyxJQVpILENBQUMsQ0FBQyxLQUFLLENBYU4sQ0FDVCxDQUFDLEdBQ0UsSUFDRixFQUVOLDRDQUNFLG1DQUNFLFNBQVMsRUFBQyxnQ0FBZ0MsRUFDMUMsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLENBQUMsRUFBRSwyQ0FFcEQsS0FBSyxJQUNOLEVBQ1Isa0NBQ0UsSUFBSSxFQUFDLE9BQU8sRUFDWixHQUFHLEVBQUMsR0FBRyxFQUNQLEdBQUcsRUFBQyxJQUFJLEVBQ1IsSUFBSSxFQUFDLEdBQUcsRUFDUixLQUFLLEVBQUUsS0FBSyxFQUNaLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQ2pELFNBQVMsRUFBQyxRQUFRLEVBQ2xCLEtBQUssRUFBRTs0Q0FDTCxXQUFXLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxlQUFlLENBQUM7eUNBQ3BELEdBQ0QsSUFDRSxFQUVOLGlDQUFLLFNBQVMsRUFBQyxZQUFZLGFBQ3pCLG1DQUFPLFNBQVMsRUFBQyx3Q0FBd0MsYUFDdkQsa0NBQ0UsSUFBSSxFQUFDLFVBQVUsRUFDZixPQUFPLEVBQUUsYUFBYSxFQUN0QixRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQ25ELFNBQVMsRUFBQyxTQUFTLEdBQ25CLEVBQ0YsaUNBQ0UsU0FBUyxFQUFDLFNBQVMsRUFDbkIsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLENBQUMsRUFBRSx5Q0FHdEQsSUFDRCxFQUVSLG1DQUFPLFNBQVMsRUFBQyx3Q0FBd0MsYUFDdkQsa0NBQ0UsSUFBSSxFQUFDLFVBQVUsRUFDZixPQUFPLEVBQUUsWUFBWSxFQUNyQixRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUNsRCxTQUFTLEVBQUMsU0FBUyxHQUNuQixFQUNGLGlDQUNFLFNBQVMsRUFBQyxTQUFTLEVBQ25CLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLGtCQUFrQixDQUFDLEVBQUUseUNBR3RELElBQ0QsSUFDSixFQUVOLHVCQUFDLGVBQU0sSUFBQyxPQUFPLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBQyxRQUFRLHlDQUUxQyxJQUNMLEVBRUwsZUFBZSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FDN0IsaUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsK0JBQ0UsU0FBUyxFQUFDLHFCQUFxQixFQUMvQixLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxFQUFFLGdDQUd4RCxFQUNMLGdDQUFLLFNBQVMsRUFBQyxXQUFXLFlBQ3ZCLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUNuQyxnQ0FFRSxTQUFTLEVBQUMsZ0JBQWdCLEVBQzFCLEtBQUssRUFBRTt3Q0FDTCxVQUFVLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUM7d0NBQy9DLE1BQU0sRUFBRSxhQUFhLGFBQWEsQ0FBQyxNQUFNLEVBQUUsY0FBYyxDQUFDLEVBQUU7cUNBQzdELFlBRUQsK0JBQ0UsU0FBUyxFQUFDLFNBQVMsRUFDbkIsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLENBQUMsRUFBRSw4QkFFdkQsR0FBRyxJQUNMLElBWkMsS0FBSyxDQWFOLENBQ1AsQ0FBQyxHQUNFLElBQ0YsQ0FDUCxFQUVBLGVBQWUsSUFBSSxDQUNsQixpQ0FBSyxTQUFTLEVBQUMsV0FBVyxhQUN4QiwrQkFDRSxTQUFTLEVBQUMscUJBQXFCLEVBQy9CLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLGtCQUFrQixDQUFDLEVBQUUsK0NBR3hELEVBQ0wsZ0NBQUssU0FBUyxFQUFDLFdBQVcsWUFDdkIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDO3FDQUNwQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztxQ0FDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQWdDLEVBQUUsRUFBRSxDQUFDLENBQ3JELGlDQUVFLFNBQVMsRUFBQyx3Q0FBd0MsRUFDbEQsS0FBSyxFQUFFO3dDQUNMLFVBQVUsRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLFlBQVksQ0FBQzt3Q0FDL0MsTUFBTSxFQUFFLGFBQWEsYUFBYSxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsRUFBRTtxQ0FDN0QsYUFFRCxnQ0FBSyxTQUFTLEVBQUMsaUJBQWlCLEVBQUMsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUksRUFDM0UsaUNBQUssU0FBUyxFQUFDLFFBQVEsYUFDckIsOEJBQ0UsU0FBUyxFQUFDLHFCQUFxQixFQUMvQixLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxFQUFFLFlBRTFELElBQUksR0FDSCxFQUNKLDhCQUNFLFNBQVMsRUFBQyxTQUFTLEVBQ25CLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLHdCQUF3QixDQUFDLEVBQUUsWUFFaEUsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQ2QsSUFDQSxLQXJCRCxJQUFJLENBc0JMLENBQ1AsQ0FBQyxHQUNBLElBQ0YsQ0FDUCxJQUNXLElBQ1QsQ0FDUixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBNU5XLFFBQUEsZ0JBQWdCLG9CQTROM0IiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvQUlUb2tlbkdlbmVyYXRvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBBSSBUb2tlbiDnlJ/miJDlmajnu4Tku7ZcbiAqIEBkZXNjcmlwdGlvbiDmj5DkvpvnlKjmiLfnlYzpnaLmnaXnlJ/miJDlkoznrqHnkIborr7orqHku6TniYxcbiAqIEBjb21wb25lbnQgQUlUb2tlbkdlbmVyYXRvclxuICogQGF1dGhvciBZWUPCs1xuICogQHZlcnNpb24gMS4wLjBcbiAqIEBjcmVhdGVkIDIwMjYtMDItMThcbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJy4vQ2FyZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL0J1dHRvbic7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICcuL0JhZGdlJztcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnLi4vdGhlbWUvdXNlVGhlbWUnO1xuaW1wb3J0IHsgdG9rZW5HZW5lcmF0b3IgfSBmcm9tICcuLi9haS90b2tlbi1nZW5lcmF0b3InO1xuaW1wb3J0IHsgR2VuZXJhdGVkVG9rZW5zLCBHZW5lcmF0ZWRDb2xvclRva2VuIH0gZnJvbSAnLi4vLi4vdHlwZXMvdG9rZW5zJztcblxudHlwZSBUb2tlblZhbHVlID0gc3RyaW5nIHwgbnVtYmVyIHwgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPjtcblxuY29uc3QgZ2V0VG9rZW5WYWx1ZSA9ICh0b2tlbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBrZXk6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHZhbHVlID0ga2V5XG4gICAgLnNwbGl0KCcuJylcbiAgICAucmVkdWNlPFRva2VuVmFsdWUgfCB1bmRlZmluZWQ+KChvYmo6IFRva2VuVmFsdWUgfCB1bmRlZmluZWQsIGs6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gb2JqW2sgYXMga2V5b2YgVG9rZW5WYWx1ZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sIHRva2VucyBhcyBUb2tlblZhbHVlKTtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6ICcjMDAwMDAwJztcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQUlUb2tlbkdlbmVyYXRvclByb3BzIHtcbiAgb25HZW5lcmF0ZT86ICh0b2tlbnM6IEdlbmVyYXRlZFRva2VucykgPT4gdm9pZDtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQUlUb2tlbkdlbmVyYXRvcjogUmVhY3QuRkM8QUlUb2tlbkdlbmVyYXRvclByb3BzPiA9ICh7XG4gIG9uR2VuZXJhdGUsXG4gIGNsYXNzTmFtZSA9ICcnLFxufSkgPT4ge1xuICBjb25zdCB7IHRva2VucyB9ID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgW2Jhc2VDb2xvciwgc2V0QmFzZUNvbG9yXSA9IHVzZVN0YXRlKCcjZDQ1YTVmJyk7XG4gIGNvbnN0IFtoYXJtb255LCBzZXRIYXJtb255XSA9IHVzZVN0YXRlPFxuICAgICdjb21wbGVtZW50YXJ5JyB8ICdhbmFsb2dvdXMnIHwgJ3RyaWFkaWMnIHwgJ3RldHJhZGljJyB8ICdtb25vY2hyb21hdGljJ1xuICA+KCdtb25vY2hyb21hdGljJyk7XG4gIGNvbnN0IFtzY2FsZSwgc2V0U2NhbGVdID0gdXNlU3RhdGUoMTApO1xuICBjb25zdCBbaW5jbHVkZVNoYWRlcywgc2V0SW5jbHVkZVNoYWRlc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2luY2x1ZGVUaW50cywgc2V0SW5jbHVkZVRpbnRzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZ2VuZXJhdGVkVG9rZW5zLCBzZXRHZW5lcmF0ZWRUb2tlbnNdID0gdXNlU3RhdGU8R2VuZXJhdGVkVG9rZW5zIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtyZWNvbW1lbmRhdGlvbnMsIHNldFJlY29tbWVuZGF0aW9uc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld1Rva2VucyA9IHRva2VuR2VuZXJhdG9yLmdlbmVyYXRlVG9rZW5zKHtcbiAgICAgIGJhc2VDb2xvcixcbiAgICAgIGhhcm1vbnksXG4gICAgICBzY2FsZSxcbiAgICAgIGluY2x1ZGVTaGFkZXMsXG4gICAgICBpbmNsdWRlVGludHMsXG4gICAgfSk7XG5cbiAgICBzZXRHZW5lcmF0ZWRUb2tlbnMobmV3VG9rZW5zKTtcbiAgICBjb25zdCByZWNzID0gdG9rZW5HZW5lcmF0b3IuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMobmV3VG9rZW5zKTtcbiAgICBzZXRSZWNvbW1lbmRhdGlvbnMocmVjcyk7XG5cbiAgICBpZiAob25HZW5lcmF0ZSkge1xuICAgICAgb25HZW5lcmF0ZShuZXdUb2tlbnMpO1xuICAgIH1cbiAgfSwgW2Jhc2VDb2xvciwgaGFybW9ueSwgc2NhbGUsIGluY2x1ZGVTaGFkZXMsIGluY2x1ZGVUaW50cywgb25HZW5lcmF0ZV0pO1xuXG4gIGNvbnN0IGhhcm1vbmllcyA9IFtcbiAgICB7IHZhbHVlOiAnY29tcGxlbWVudGFyeScsIGxhYmVsOiAn5LqS6KGl6ImyJyB9LFxuICAgIHsgdmFsdWU6ICdhbmFsb2dvdXMnLCBsYWJlbDogJ+exu+S8vOiJsicgfSxcbiAgICB7IHZhbHVlOiAndHJpYWRpYycsIGxhYmVsOiAn5LiJ6ImyJyB9LFxuICAgIHsgdmFsdWU6ICd0ZXRyYWRpYycsIGxhYmVsOiAn5Zub6ImyJyB9LFxuICAgIHsgdmFsdWU6ICdtb25vY2hyb21hdGljJywgbGFiZWw6ICfljZXoibInIH0sXG4gIF0gYXMgY29uc3Q7XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZCBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgPENhcmRUaXRsZT5BSSBUb2tlbiDnlJ/miJDlmag8L0NhcmRUaXRsZT5cbiAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmZvcmVncm91bmQnKSB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDln7rnoYDpopzoibJcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJjb2xvclwiIHZhbHVlPXtiYXNlQ29sb3J9IG9uQ2hhbmdlPXtzZXRCYXNlQ29sb3J9IGNsYXNzTmFtZT1cInctMTYgaC0xMFwiIC8+XG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtiYXNlQ29sb3J9IG9uQ2hhbmdlPXtzZXRCYXNlQ29sb3J9IHBsYWNlaG9sZGVyPVwiI2Q0NWE1ZlwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOiJsuW9qeWSjOiwkFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAge2hhcm1vbmllcy5tYXAoKGgpID0+IChcbiAgICAgICAgICAgICAgICA8QmFkZ2VcbiAgICAgICAgICAgICAgICAgIGtleT17aC52YWx1ZX1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2hhcm1vbnkgPT09IGgudmFsdWUgPyAnZGVmYXVsdCcgOiAnb3V0bGluZSd9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgICAgICAgICAgICBoYXJtb255ID09PSBoLnZhbHVlID8gZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5wcmltYXJ5JykgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICBoYXJtb255ID09PSBoLnZhbHVlID8gJyNmZmZmZmYnIDogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5mb3JlZ3JvdW5kJyksXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLnByaW1hcnknKSxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRIYXJtb255KGgudmFsdWUpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtoLmxhYmVsfVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmZvcmVncm91bmQnKSB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDpl7Tot53mr5Tkvos6IHtzY2FsZX1cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgbWluPVwiOFwiXG4gICAgICAgICAgICAgIG1heD1cIjE2XCJcbiAgICAgICAgICAgICAgc3RlcD1cIjFcIlxuICAgICAgICAgICAgICB2YWx1ZT17c2NhbGV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2NhbGUoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWNjZW50Q29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IucHJpbWFyeScpLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17aW5jbHVkZVNoYWRlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEluY2x1ZGVTaGFkZXMoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDljIXlkKvoibLnm7hcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17aW5jbHVkZVRpbnRzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5jbHVkZVRpbnRzKGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc21cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmZvcmVncm91bmQnKSB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg5YyF5ZCr6Imy6LCDXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlfSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgIOeUn+aIkOS7pOeJjFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7cmVjb21tZW5kYXRpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8aDNcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmZvcmVncm91bmQnKSB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBBSSDmjqjojZBcbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICB7cmVjb21tZW5kYXRpb25zLm1hcCgocmVjLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTMgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmNhcmQnKSxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5ib3JkZXInKX1gLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IGdldFRva2VuVmFsdWUodG9rZW5zLCAnY29sb3IuZm9yZWdyb3VuZCcpIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfkqEge3JlY31cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7Z2VuZXJhdGVkVG9rZW5zICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGgzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5mb3JlZ3JvdW5kJykgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg55Sf5oiQ55qE5Luk54mMXG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGdlbmVyYXRlZFRva2Vucy5jb2xvcnMpXG4gICAgICAgICAgICAgICAgLnNsaWNlKDAsIDgpXG4gICAgICAgICAgICAgICAgLm1hcCgoW25hbWUsIGNvbG9yXTogW3N0cmluZywgR2VuZXJhdGVkQ29sb3JUb2tlbl0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtuYW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwLTIgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5jYXJkJyksXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5ib3JkZXInKX1gLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggcm91bmRlZFwiIHN0eWxlPXt7IGJhY2tncm91bmQ6IGNvbG9yLnZhbHVlLmhleCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBnZXRUb2tlblZhbHVlKHRva2VucywgJ2NvbG9yLmZvcmVncm91bmQnKSB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ2V0VG9rZW5WYWx1ZSh0b2tlbnMsICdjb2xvci5tdXRlZC1mb3JlZ3JvdW5kJykgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29sb3IudmFsdWUuaGV4fVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gICk7XG59O1xuIl0sInZlcnNpb24iOjN9