{"version":3,"names":["cov_1lt5ru7p3a","actualCoverage","s","exports","useTheme","ThemeProvider","react_1","require","ThemeContext","createContext","defaultThemeContext","style","mode","resolvedMode","setStyle","f","setMode","toggleMode","cycleStyle","ctx","useContext","b","getSystemPreference","window","matchMedia","matches","children","setStyleState","useState","saved","localStorage","getItem","setModeState","systemPref","setSystemPref","useEffect","mq","handler","e","addEventListener","removeEventListener","root","document","documentElement","setAttribute","classList","toggle","setItem","useCallback","m","prev","styles","indexOf","ctrlKey","altKey","key","toLowerCase","preventDefault","jsx_runtime_1","jsx","Provider","value"],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/theme/ThemeContext.tsx"],"sourcesContent":["/**\n * @file YYC³ 主题系统Context\n * @description 三主题系统：future | cyber | business，支持 light + dark + system 模式\n * @module theme\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-27\n */\n\nimport React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\n\nexport type ThemeStyle = 'future' | 'cyber' | 'business';\nexport type ThemeMode = 'light' | 'dark' | 'system';\n\ninterface ThemeContextType {\n  style: ThemeStyle;\n  mode: ThemeMode;\n  resolvedMode: 'light' | 'dark';\n  setStyle: (style: ThemeStyle) => void;\n  setMode: (mode: ThemeMode) => void;\n  toggleMode: () => void;\n  cycleStyle: () => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | null>(null);\n\nconst defaultThemeContext: ThemeContextType = {\n  style: 'future',\n  mode: 'dark',\n  resolvedMode: 'dark',\n  setStyle: () => {},\n  setMode: () => {},\n  toggleMode: () => {},\n  cycleStyle: () => {},\n};\n\nexport function useTheme() {\n  const ctx = useContext(ThemeContext);\n  return ctx ?? defaultThemeContext;\n}\n\nfunction getSystemPreference(): 'light' | 'dark' {\n  if (typeof window === 'undefined') return 'light';\n  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n}\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [style, setStyleState] = useState<ThemeStyle>(() => {\n    const saved = localStorage.getItem('yyc3-theme-style');\n    return (saved as ThemeStyle) || 'future';\n  });\n\n  const [mode, setModeState] = useState<ThemeMode>(() => {\n    const saved = localStorage.getItem('yyc3-theme-mode');\n    return (saved as ThemeMode) || 'dark';\n  });\n\n  const [systemPref, setSystemPref] = useState<'light' | 'dark'>(getSystemPreference);\n\n  const resolvedMode = mode === 'system' ? systemPref : mode;\n\n  useEffect(() => {\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n    const handler = (e: MediaQueryListEvent) => setSystemPref(e.matches ? 'dark' : 'light');\n    mq.addEventListener('change', handler);\n    return () => mq.removeEventListener('change', handler);\n  }, []);\n\n  useEffect(() => {\n    const root = document.documentElement;\n    root.setAttribute('data-theme', style);\n    root.classList.toggle('dark', resolvedMode === 'dark');\n    localStorage.setItem('yyc3-theme-style', style);\n    localStorage.setItem('yyc3-theme-mode', mode);\n  }, [style, mode, resolvedMode]);\n\n  const setStyle = useCallback((s: ThemeStyle) => setStyleState(s), []);\n  const setMode = useCallback((m: ThemeMode) => setModeState(m), []);\n\n  const toggleMode = useCallback(() => {\n    setModeState((prev) => {\n      if (prev === 'light') return 'dark';\n      if (prev === 'dark') return 'light';\n      return getSystemPreference() === 'dark' ? 'light' : 'dark';\n    });\n  }, []);\n\n  const cycleStyle = useCallback(() => {\n    setStyleState((prev) => {\n      const styles: ThemeStyle[] = ['future', 'cyber', 'business'];\n      return styles[(styles.indexOf(prev) + 1) % 3];\n    });\n  }, []);\n\n  useEffect(() => {\n    const handler = (e: KeyboardEvent) => {\n      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 't') {\n        e.preventDefault();\n        cycleStyle();\n      }\n    };\n    window.addEventListener('keydown', handler);\n    return () => window.removeEventListener('keydown', handler);\n  }, [cycleStyle]);\n\n  return (\n    <ThemeContext.Provider\n      value={{ style, mode, resolvedMode, setStyle, setMode, toggleMode, cycleStyle }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}