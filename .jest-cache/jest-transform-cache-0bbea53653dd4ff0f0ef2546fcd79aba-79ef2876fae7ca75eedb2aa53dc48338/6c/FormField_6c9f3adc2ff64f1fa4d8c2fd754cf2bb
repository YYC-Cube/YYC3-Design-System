4b6f4b96939e555cb1cfd525e4356a55
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FormField = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
/**
 * @file 表单字段组件
 * @description 表单字段包装器，提供标签、错误提示等
 * @component FormField
 * @author YYC³
 * @version 1.0.0
 * @created 2026-02-23
 * @updated 2026-02-25
 * @copyright Copyright (c) 2026 YYC³
 * @license MIT
 */
const react_1 = require("react");
const react_hook_form_1 = require("react-hook-form");
const ThemeProvider_1 = require("../theme/ThemeProvider");
const Form_1 = require("./Form");
const FormFieldComponent = ({ name, control, label, labelProps, error, required, description, children, className = '', 'data-testid': dataTestId, ...props }) => {
    const { tokens } = (0, ThemeProvider_1.useTheme)();
    const formContext = (0, Form_1.useFormField)();
    const containerStyles = {
        display: 'flex',
        flexDirection: 'column',
        gap: '8px',
        width: '100%',
    };
    const labelStyles = {
        fontSize: '14px',
        fontWeight: 500,
        color: tokens['color.text.primary'] || '#333',
        marginBottom: '4px',
    };
    const errorStyles = {
        fontSize: '12px',
        color: tokens['color.error'] || '#ff4d4f',
        marginTop: '4px',
    };
    const descriptionStyles = {
        fontSize: '12px',
        color: tokens['color.text.secondary'] || '#666',
        marginTop: '2px',
    };
    const currentControl = control || formContext.control;
    return ((0, jsx_runtime_1.jsxs)("div", { className: className, style: containerStyles, "data-testid": dataTestId, ...props, children: [label && ((0, jsx_runtime_1.jsxs)("label", { style: labelStyles, ...labelProps, children: [label, required && ((0, jsx_runtime_1.jsx)("span", { style: { color: tokens['color.error'] || '#ff4d4f', marginLeft: '4px' }, children: "*" }))] })), (0, jsx_runtime_1.jsx)(react_hook_form_1.Controller, { name: name, control: currentControl, render: ({ field }) => children({
                    ...field,
                    name,
                    disabled: field.disabled,
                }) }), description && (0, jsx_runtime_1.jsx)("div", { style: descriptionStyles, children: description }), error && (0, jsx_runtime_1.jsx)("div", { style: errorStyles, children: error })] }));
};
exports.FormField = (0, react_1.memo)(FormFieldComponent);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvRm9ybUZpZWxkLnRzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7Ozs7R0FVRztBQUVILGlDQUE2RDtBQUU3RCxxREFBOEY7QUFDOUYsMERBQWtEO0FBQ2xELGlDQUFzQztBQTBCdEMsTUFBTSxrQkFBa0IsR0FBRyxDQUd6QixFQUNBLElBQUksRUFDSixPQUFPLEVBQ1AsS0FBSyxFQUNMLFVBQVUsRUFDVixLQUFLLEVBQ0wsUUFBUSxFQUNSLFdBQVcsRUFDWCxRQUFRLEVBQ1IsU0FBUyxHQUFHLEVBQUUsRUFDZCxhQUFhLEVBQUUsVUFBVSxFQUN6QixHQUFHLEtBQUssRUFDNEIsRUFBRSxFQUFFO0lBQ3hDLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFBLHdCQUFRLEdBQUUsQ0FBQztJQUM5QixNQUFNLFdBQVcsR0FBRyxJQUFBLG1CQUFZLEdBQUUsQ0FBQztJQUVuQyxNQUFNLGVBQWUsR0FBRztRQUN0QixPQUFPLEVBQUUsTUFBTTtRQUNmLGFBQWEsRUFBRSxRQUFpQjtRQUNoQyxHQUFHLEVBQUUsS0FBSztRQUNWLEtBQUssRUFBRSxNQUFNO0tBQ2QsQ0FBQztJQUVGLE1BQU0sV0FBVyxHQUFHO1FBQ2xCLFFBQVEsRUFBRSxNQUFNO1FBQ2hCLFVBQVUsRUFBRSxHQUFHO1FBQ2YsS0FBSyxFQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBWSxJQUFJLE1BQU07UUFDekQsWUFBWSxFQUFFLEtBQUs7S0FDcEIsQ0FBQztJQUVGLE1BQU0sV0FBVyxHQUFHO1FBQ2xCLFFBQVEsRUFBRSxNQUFNO1FBQ2hCLEtBQUssRUFBRyxNQUFNLENBQUMsYUFBYSxDQUFZLElBQUksU0FBUztRQUNyRCxTQUFTLEVBQUUsS0FBSztLQUNqQixDQUFDO0lBRUYsTUFBTSxpQkFBaUIsR0FBRztRQUN4QixRQUFRLEVBQUUsTUFBTTtRQUNoQixLQUFLLEVBQUcsTUFBTSxDQUFDLHNCQUFzQixDQUFZLElBQUksTUFBTTtRQUMzRCxTQUFTLEVBQUUsS0FBSztLQUNqQixDQUFDO0lBRUYsTUFBTSxjQUFjLEdBQUcsT0FBTyxJQUFLLFdBQVcsQ0FBQyxPQUFpQyxDQUFDO0lBRWpGLE9BQU8sQ0FDTCxpQ0FBSyxTQUFTLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxlQUFlLGlCQUFlLFVBQVUsS0FBTSxLQUFLLGFBQ2xGLEtBQUssSUFBSSxDQUNSLG1DQUFPLEtBQUssRUFBRSxXQUFXLEtBQU0sVUFBVSxhQUN0QyxLQUFLLEVBQ0wsUUFBUSxJQUFJLENBQ1gsaUNBQ0UsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFHLE1BQU0sQ0FBQyxhQUFhLENBQVksSUFBSSxTQUFTLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxrQkFHOUUsQ0FDUixJQUNLLENBQ1QsRUFDRCx1QkFBQyw0QkFBVSxJQUNULElBQUksRUFBRSxJQUFJLEVBQ1YsT0FBTyxFQUFFLGNBQWMsRUFDdkIsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQ3BCLFFBQVEsQ0FBQztvQkFDUCxHQUFHLEtBQUs7b0JBQ1IsSUFBSTtvQkFDSixRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVE7aUJBQ3pCLENBQXVCLEdBRTFCLEVBQ0QsV0FBVyxJQUFJLGdDQUFLLEtBQUssRUFBRSxpQkFBaUIsWUFBRyxXQUFXLEdBQU8sRUFDakUsS0FBSyxJQUFJLGdDQUFLLEtBQUssRUFBRSxXQUFXLFlBQUcsS0FBSyxHQUFPLElBQzVDLENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVXLFFBQUEsU0FBUyxHQUFHLElBQUEsWUFBSSxFQUFDLGtCQUFrQixDQUE4QixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW55dS9Eb3dubG9hZHMveXljMy1EZXNpZ24tU3lzdGVtL3NyYy9jb21wb25lbnRzL0Zvcm1GaWVsZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSDooajljZXlrZfmrrXnu4Tku7ZcbiAqIEBkZXNjcmlwdGlvbiDooajljZXlrZfmrrXljIXoo4XlmajvvIzmj5DkvpvmoIfnrb7jgIHplJnor6/mj5DnpLrnrYlcbiAqIEBjb21wb25lbnQgRm9ybUZpZWxkXG4gKiBAYXV0aG9yIFlZQ8KzXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGNyZWF0ZWQgMjAyNi0wMi0yM1xuICogQHVwZGF0ZWQgMjAyNi0wMi0yNVxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMjYgWVlDwrNcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IG1lbW8sIFJlYWN0Tm9kZSwgTGFiZWxIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb250cm9sbGVyLCBGaWVsZFZhbHVlcywgRmllbGRQYXRoLCBGaWVsZFBhdGhWYWx1ZSwgQ29udHJvbCB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJy4uL3RoZW1lL1RoZW1lUHJvdmlkZXInO1xuaW1wb3J0IHsgdXNlRm9ybUZpZWxkIH0gZnJvbSAnLi9Gb3JtJztcblxuZXhwb3J0IGludGVyZmFjZSBGb3JtRmllbGRQcm9wczxcbiAgVEZpZWxkVmFsdWVzIGV4dGVuZHMgRmllbGRWYWx1ZXMgPSBGaWVsZFZhbHVlcyxcbiAgVE5hbWUgZXh0ZW5kcyBGaWVsZFBhdGg8VEZpZWxkVmFsdWVzPiA9IEZpZWxkUGF0aDxURmllbGRWYWx1ZXM+LFxuPiBleHRlbmRzIE9taXQ8TGFiZWxIVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sICdjaGlsZHJlbic+IHtcbiAgbmFtZTogVE5hbWU7XG4gIGNvbnRyb2w/OiBDb250cm9sPFRGaWVsZFZhbHVlcz47XG4gIGxhYmVsPzogc3RyaW5nO1xuICBsYWJlbFByb3BzPzogTGFiZWxIVE1MQXR0cmlidXRlczxIVE1MTGFiZWxFbGVtZW50PjtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiAoZmllbGQ6IHtcbiAgICBuYW1lOiBUTmFtZTtcbiAgICB2YWx1ZTogRmllbGRQYXRoVmFsdWU8VEZpZWxkVmFsdWVzLCBUTmFtZT47XG4gICAgb25DaGFuZ2U6ICh2YWx1ZTogRmllbGRQYXRoVmFsdWU8VEZpZWxkVmFsdWVzLCBUTmFtZT4pID0+IHZvaWQ7XG4gICAgb25CbHVyOiAoKSA9PiB2b2lkO1xuICAgIHJlZjogUmVhY3QuUmVmPHVua25vd24+O1xuICAgIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xuICB9KSA9PiBSZWFjdE5vZGU7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgJ2RhdGEtdGVzdGlkJz86IHN0cmluZztcbn1cblxuY29uc3QgRm9ybUZpZWxkQ29tcG9uZW50ID0gPFxuICBURmllbGRWYWx1ZXMgZXh0ZW5kcyBGaWVsZFZhbHVlcyA9IEZpZWxkVmFsdWVzLFxuICBUTmFtZSBleHRlbmRzIEZpZWxkUGF0aDxURmllbGRWYWx1ZXM+ID0gRmllbGRQYXRoPFRGaWVsZFZhbHVlcz4sXG4+KHtcbiAgbmFtZSxcbiAgY29udHJvbCxcbiAgbGFiZWwsXG4gIGxhYmVsUHJvcHMsXG4gIGVycm9yLFxuICByZXF1aXJlZCxcbiAgZGVzY3JpcHRpb24sXG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgJ2RhdGEtdGVzdGlkJzogZGF0YVRlc3RJZCxcbiAgLi4ucHJvcHNcbn06IEZvcm1GaWVsZFByb3BzPFRGaWVsZFZhbHVlcywgVE5hbWU+KSA9PiB7XG4gIGNvbnN0IHsgdG9rZW5zIH0gPSB1c2VUaGVtZSgpO1xuICBjb25zdCBmb3JtQ29udGV4dCA9IHVzZUZvcm1GaWVsZCgpO1xuXG4gIGNvbnN0IGNvbnRhaW5lclN0eWxlcyA9IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgYXMgY29uc3QsXG4gICAgZ2FwOiAnOHB4JyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICB9O1xuXG4gIGNvbnN0IGxhYmVsU3R5bGVzID0ge1xuICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgZm9udFdlaWdodDogNTAwLFxuICAgIGNvbG9yOiAodG9rZW5zWydjb2xvci50ZXh0LnByaW1hcnknXSBhcyBzdHJpbmcpIHx8ICcjMzMzJyxcbiAgICBtYXJnaW5Cb3R0b206ICc0cHgnLFxuICB9O1xuXG4gIGNvbnN0IGVycm9yU3R5bGVzID0ge1xuICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgY29sb3I6ICh0b2tlbnNbJ2NvbG9yLmVycm9yJ10gYXMgc3RyaW5nKSB8fCAnI2ZmNGQ0ZicsXG4gICAgbWFyZ2luVG9wOiAnNHB4JyxcbiAgfTtcblxuICBjb25zdCBkZXNjcmlwdGlvblN0eWxlcyA9IHtcbiAgICBmb250U2l6ZTogJzEycHgnLFxuICAgIGNvbG9yOiAodG9rZW5zWydjb2xvci50ZXh0LnNlY29uZGFyeSddIGFzIHN0cmluZykgfHwgJyM2NjYnLFxuICAgIG1hcmdpblRvcDogJzJweCcsXG4gIH07XG5cbiAgY29uc3QgY3VycmVudENvbnRyb2wgPSBjb250cm9sIHx8IChmb3JtQ29udGV4dC5jb250cm9sIGFzIENvbnRyb2w8VEZpZWxkVmFsdWVzPik7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17Y29udGFpbmVyU3R5bGVzfSBkYXRhLXRlc3RpZD17ZGF0YVRlc3RJZH0gey4uLnByb3BzfT5cbiAgICAgIHtsYWJlbCAmJiAoXG4gICAgICAgIDxsYWJlbCBzdHlsZT17bGFiZWxTdHlsZXN9IHsuLi5sYWJlbFByb3BzfT5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAge3JlcXVpcmVkICYmIChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAodG9rZW5zWydjb2xvci5lcnJvciddIGFzIHN0cmluZykgfHwgJyNmZjRkNGYnLCBtYXJnaW5MZWZ0OiAnNHB4JyB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAqXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICl9XG4gICAgICA8Q29udHJvbGxlclxuICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICBjb250cm9sPXtjdXJyZW50Q29udHJvbH1cbiAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PlxuICAgICAgICAgIGNoaWxkcmVuKHtcbiAgICAgICAgICAgIC4uLmZpZWxkLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBmaWVsZC5kaXNhYmxlZCxcbiAgICAgICAgICB9KSBhcyBSZWFjdC5SZWFjdEVsZW1lbnRcbiAgICAgICAgfVxuICAgICAgLz5cbiAgICAgIHtkZXNjcmlwdGlvbiAmJiA8ZGl2IHN0eWxlPXtkZXNjcmlwdGlvblN0eWxlc30+e2Rlc2NyaXB0aW9ufTwvZGl2Pn1cbiAgICAgIHtlcnJvciAmJiA8ZGl2IHN0eWxlPXtlcnJvclN0eWxlc30+e2Vycm9yfTwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBGb3JtRmllbGQgPSBtZW1vKEZvcm1GaWVsZENvbXBvbmVudCkgYXMgdHlwZW9mIEZvcm1GaWVsZENvbXBvbmVudDtcbiJdLCJ2ZXJzaW9uIjozfQ==