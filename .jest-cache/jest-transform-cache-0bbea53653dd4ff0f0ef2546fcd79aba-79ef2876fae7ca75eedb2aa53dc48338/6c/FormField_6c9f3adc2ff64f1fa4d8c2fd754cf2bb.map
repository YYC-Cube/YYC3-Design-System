{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/components/FormField.tsx","mappings":";;;;AAAA;;;;;;;;;;GAUG;AAEH,iCAA6D;AAE7D,qDAA8F;AAC9F,0DAAkD;AAClD,iCAAsC;AA0BtC,MAAM,kBAAkB,GAAG,CAGzB,EACA,IAAI,EACJ,OAAO,EACP,KAAK,EACL,UAAU,EACV,KAAK,EACL,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,SAAS,GAAG,EAAE,EACd,aAAa,EAAE,UAAU,EACzB,GAAG,KAAK,EAC4B,EAAE,EAAE;IACxC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;IAC9B,MAAM,WAAW,GAAG,IAAA,mBAAY,GAAE,CAAC;IAEnC,MAAM,eAAe,GAAG;QACtB,OAAO,EAAE,MAAM;QACf,aAAa,EAAE,QAAiB;QAChC,GAAG,EAAE,KAAK;QACV,KAAK,EAAE,MAAM;KACd,CAAC;IAEF,MAAM,WAAW,GAAG;QAClB,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,GAAG;QACf,KAAK,EAAG,MAAM,CAAC,oBAAoB,CAAY,IAAI,MAAM;QACzD,YAAY,EAAE,KAAK;KACpB,CAAC;IAEF,MAAM,WAAW,GAAG;QAClB,QAAQ,EAAE,MAAM;QAChB,KAAK,EAAG,MAAM,CAAC,aAAa,CAAY,IAAI,SAAS;QACrD,SAAS,EAAE,KAAK;KACjB,CAAC;IAEF,MAAM,iBAAiB,GAAG;QACxB,QAAQ,EAAE,MAAM;QAChB,KAAK,EAAG,MAAM,CAAC,sBAAsB,CAAY,IAAI,MAAM;QAC3D,SAAS,EAAE,KAAK;KACjB,CAAC;IAEF,MAAM,cAAc,GAAG,OAAO,IAAK,WAAW,CAAC,OAAiC,CAAC;IAEjF,OAAO,CACL,iCAAK,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,iBAAe,UAAU,KAAM,KAAK,aAClF,KAAK,IAAI,CACR,mCAAO,KAAK,EAAE,WAAW,KAAM,UAAU,aACtC,KAAK,EACL,QAAQ,IAAI,CACX,iCACE,KAAK,EAAE,EAAE,KAAK,EAAG,MAAM,CAAC,aAAa,CAAY,IAAI,SAAS,EAAE,UAAU,EAAE,KAAK,EAAE,kBAG9E,CACR,IACK,CACT,EACD,uBAAC,4BAAU,IACT,IAAI,EAAE,IAAI,EACV,OAAO,EAAE,cAAc,EACvB,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CACpB,QAAQ,CAAC;oBACP,GAAG,KAAK;oBACR,IAAI;oBACJ,QAAQ,EAAE,KAAK,CAAC,QAAQ;iBACzB,CAAuB,GAE1B,EACD,WAAW,IAAI,gCAAK,KAAK,EAAE,iBAAiB,YAAG,WAAW,GAAO,EACjE,KAAK,IAAI,gCAAK,KAAK,EAAE,WAAW,YAAG,KAAK,GAAO,IAC5C,CACP,CAAC;AACJ,CAAC,CAAC;AAEW,QAAA,SAAS,GAAG,IAAA,YAAI,EAAC,kBAAkB,CAA8B,CAAC","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/FormField.tsx"],"sourcesContent":["/**\n * @file 表单字段组件\n * @description 表单字段包装器，提供标签、错误提示等\n * @component FormField\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-23\n * @updated 2026-02-25\n * @copyright Copyright (c) 2026 YYC³\n * @license MIT\n */\n\nimport { memo, ReactNode, LabelHTMLAttributes } from 'react';\nimport React from 'react';\nimport { Controller, FieldValues, FieldPath, FieldPathValue, Control } from 'react-hook-form';\nimport { useTheme } from '../theme/ThemeProvider';\nimport { useFormField } from './Form';\n\nexport interface FormFieldProps<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> extends Omit<LabelHTMLAttributes<HTMLDivElement>, 'children'> {\n  name: TName;\n  control?: Control<TFieldValues>;\n  label?: string;\n  labelProps?: LabelHTMLAttributes<HTMLLabelElement>;\n  error?: string;\n  required?: boolean;\n  description?: string;\n  children: (field: {\n    name: TName;\n    value: FieldPathValue<TFieldValues, TName>;\n    onChange: (value: FieldPathValue<TFieldValues, TName>) => void;\n    onBlur: () => void;\n    ref: React.Ref<unknown>;\n    disabled?: boolean;\n    [key: string]: unknown;\n  }) => ReactNode;\n  className?: string;\n  'data-testid'?: string;\n}\n\nconst FormFieldComponent = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  name,\n  control,\n  label,\n  labelProps,\n  error,\n  required,\n  description,\n  children,\n  className = '',\n  'data-testid': dataTestId,\n  ...props\n}: FormFieldProps<TFieldValues, TName>) => {\n  const { tokens } = useTheme();\n  const formContext = useFormField();\n\n  const containerStyles = {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '8px',\n    width: '100%',\n  };\n\n  const labelStyles = {\n    fontSize: '14px',\n    fontWeight: 500,\n    color: (tokens['color.text.primary'] as string) || '#333',\n    marginBottom: '4px',\n  };\n\n  const errorStyles = {\n    fontSize: '12px',\n    color: (tokens['color.error'] as string) || '#ff4d4f',\n    marginTop: '4px',\n  };\n\n  const descriptionStyles = {\n    fontSize: '12px',\n    color: (tokens['color.text.secondary'] as string) || '#666',\n    marginTop: '2px',\n  };\n\n  const currentControl = control || (formContext.control as Control<TFieldValues>);\n\n  return (\n    <div className={className} style={containerStyles} data-testid={dataTestId} {...props}>\n      {label && (\n        <label style={labelStyles} {...labelProps}>\n          {label}\n          {required && (\n            <span\n              style={{ color: (tokens['color.error'] as string) || '#ff4d4f', marginLeft: '4px' }}\n            >\n              *\n            </span>\n          )}\n        </label>\n      )}\n      <Controller\n        name={name}\n        control={currentControl}\n        render={({ field }) =>\n          children({\n            ...field,\n            name,\n            disabled: field.disabled,\n          }) as React.ReactElement\n        }\n      />\n      {description && <div style={descriptionStyles}>{description}</div>}\n      {error && <div style={errorStyles}>{error}</div>}\n    </div>\n  );\n};\n\nexport const FormField = memo(FormFieldComponent) as typeof FormFieldComponent;\n"],"version":3}