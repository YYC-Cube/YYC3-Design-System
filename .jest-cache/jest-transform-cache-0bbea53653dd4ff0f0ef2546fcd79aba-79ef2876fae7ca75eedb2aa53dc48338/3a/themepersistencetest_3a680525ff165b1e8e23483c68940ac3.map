{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/utils/theme-persistence.test.ts","mappings":"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","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/utils/theme-persistence.test.ts"],"sourcesContent":["/**\n * @file 主题持久化工具测试\n * @description 测试主题持久化工具的各项功能\n * @module __tests__/utils/theme-persistence.test\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-21\n */\n\nimport {\n  getSystemTheme,\n  getStoredTheme,\n  setStoredTheme,\n  clearStoredTheme,\n  migrateTheme,\n  syncThemeWithSystem,\n  getThemeInfo,\n  isThemePersisted,\n} from './theme-persistence';\n\ndescribe('theme-persistence', () => {\n  beforeEach(() => {\n    localStorage.clear();\n    document.documentElement.removeAttribute('data-theme');\n  });\n\n  afterEach(() => {\n    localStorage.clear();\n    document.documentElement.removeAttribute('data-theme');\n  });\n\n  describe('getSystemTheme', () => {\n    it('应该返回系统主题', () => {\n      const theme = getSystemTheme();\n      expect(['light', 'dark']).toContain(theme);\n    });\n  });\n\n  describe('getStoredTheme', () => {\n    it('当没有存储的主题时应该返回light', () => {\n      const theme = getStoredTheme();\n      expect(theme).toBe('light');\n    });\n\n    it('应该返回存储的light主题', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'light',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      const theme = getStoredTheme();\n      expect(theme).toBe('light');\n    });\n\n    it('应该返回存储的dark主题', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      const theme = getStoredTheme();\n      expect(theme).toBe('dark');\n    });\n\n    it('当模式为system时应该返回系统主题', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'system',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      const theme = getStoredTheme();\n      expect(['light', 'dark']).toContain(theme);\n    });\n\n    it('当版本不匹配时应该返回light', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '0.9.0',\n          timestamp: Date.now(),\n        })\n      );\n      const theme = getStoredTheme();\n      expect(theme).toBe('light');\n    });\n  });\n\n  describe('setStoredTheme', () => {\n    it('应该保存light主题', () => {\n      setStoredTheme('light');\n      const stored = localStorage.getItem('yyc3-theme');\n      expect(stored).toBeTruthy();\n      const config = JSON.parse(stored!);\n      expect(config.mode).toBe('light');\n      expect(config.version).toBe('1.0.0');\n    });\n\n    it('应该保存dark主题', () => {\n      setStoredTheme('dark');\n      const stored = localStorage.getItem('yyc3-theme');\n      expect(stored).toBeTruthy();\n      const config = JSON.parse(stored!);\n      expect(config.mode).toBe('dark');\n    });\n\n    it('应该保存system主题', () => {\n      setStoredTheme('system');\n      const stored = localStorage.getItem('yyc3-theme');\n      expect(stored).toBeTruthy();\n      const config = JSON.parse(stored!);\n      expect(config.mode).toBe('system');\n    });\n\n    it('应该设置data-theme属性', () => {\n      setStoredTheme('dark');\n      expect(document.documentElement.getAttribute('data-theme')).toBe('dark');\n    });\n\n    it('应该保存时间戳', () => {\n      const beforeTime = Date.now();\n      setStoredTheme('light');\n      const afterTime = Date.now();\n\n      const stored = localStorage.getItem('yyc3-theme');\n      const config = JSON.parse(stored!);\n      expect(config.timestamp).toBeGreaterThanOrEqual(beforeTime);\n      expect(config.timestamp).toBeLessThanOrEqual(afterTime);\n    });\n  });\n\n  describe('clearStoredTheme', () => {\n    it('应该清除存储的主题', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      clearStoredTheme();\n      expect(localStorage.getItem('yyc3-theme')).toBeNull();\n    });\n\n    it('应该清除主题版本', () => {\n      localStorage.setItem('yyc3-theme-version', '1.0.0');\n      clearStoredTheme();\n      expect(localStorage.getItem('yyc3-theme-version')).toBeNull();\n    });\n\n    it('应该移除data-theme属性', () => {\n      document.documentElement.setAttribute('data-theme', 'dark');\n      clearStoredTheme();\n      expect(document.documentElement.getAttribute('data-theme')).toBeNull();\n    });\n  });\n\n  describe('migrateTheme', () => {\n    it('应该迁移主题版本', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '0.9.0',\n          timestamp: Date.now(),\n        })\n      );\n      migrateTheme('0.9.0');\n      const stored = localStorage.getItem('yyc3-theme');\n      const config = JSON.parse(stored!);\n      expect(config.version).toBe('1.0.0');\n    });\n\n    it('应该保留主题模式', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '0.9.0',\n          timestamp: Date.now(),\n        })\n      );\n      migrateTheme('0.9.0');\n      const stored = localStorage.getItem('yyc3-theme');\n      const config = JSON.parse(stored!);\n      expect(config.mode).toBe('dark');\n    });\n  });\n\n  describe('syncThemeWithSystem', () => {\n    it('当模式为system时应该同步系统主题', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'system',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      syncThemeWithSystem();\n      const theme = document.documentElement.getAttribute('data-theme');\n      expect(['light', 'dark']).toContain(theme);\n    });\n\n    it('当模式不为system时不应该同步', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      syncThemeWithSystem();\n      expect(document.documentElement.getAttribute('data-theme')).toBeNull();\n    });\n  });\n\n  describe('getThemeInfo', () => {\n    it('当没有存储的主题时应该返回null', () => {\n      const info = getThemeInfo();\n      expect(info).toBeNull();\n    });\n\n    it('应该返回主题配置', () => {\n      const config = {\n        mode: 'dark' as const,\n        version: '1.0.0',\n        timestamp: Date.now(),\n      };\n      localStorage.setItem('yyc3-theme', JSON.stringify(config));\n      const info = getThemeInfo();\n      expect(info).toEqual(config);\n    });\n  });\n\n  describe('isThemePersisted', () => {\n    it('当没有存储的主题时应该返回false', () => {\n      const persisted = isThemePersisted();\n      expect(persisted).toBe(false);\n    });\n\n    it('当有存储的主题时应该返回true', () => {\n      localStorage.setItem(\n        'yyc3-theme',\n        JSON.stringify({\n          mode: 'dark',\n          version: '1.0.0',\n          timestamp: Date.now(),\n        })\n      );\n      const persisted = isThemePersisted();\n      expect(persisted).toBe(true);\n    });\n  });\n});\n"],"version":3}