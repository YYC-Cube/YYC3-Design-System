{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/components/Modal.test.tsx","mappings":"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","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/Modal.test.tsx"],"sourcesContent":["/**\n * @file Modal 组件测试\n * @description 测试 Modal 组件的各项功能\n * @module __tests__/components/Modal.test\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-18\n */\n\nimport * as React from 'react';\nimport { render, fireEvent } from '@testing-library/react';\nimport { screen } from '@testing-library/dom';\n\nimport { Modal } from './Modal';\nimport { ThemeProvider } from '../theme/ThemeProvider';\n\ndescribe('Modal 组件', () => {\n  const renderWithTheme = (component: React.ReactElement) => {\n    return render(<ThemeProvider>{component}</ThemeProvider>);\n  };\n\n  beforeEach(() => {\n    document.body.style.overflow = 'unset';\n  });\n\n  afterEach(() => {\n    document.body.style.overflow = 'unset';\n  });\n\n  it('应该在 isOpen 为 false 时不渲染', () => {\n    renderWithTheme(\n      <Modal isOpen={false}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    expect(screen.queryByText('Modal content')).not.toBeInTheDocument();\n  });\n\n  it('应该在 isOpen 为 true 时渲染', () => {\n    renderWithTheme(\n      <Modal isOpen={true}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    expect(screen.getByText('Modal content')).toBeInTheDocument();\n    expect(screen.getByRole('dialog')).toBeInTheDocument();\n  });\n\n  it('应该在点击关闭按钮时调用 onClose', () => {\n    const handleClose = jest.fn();\n    renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    const closeButton = screen.getByLabelText('Close modal');\n    fireEvent.click(closeButton);\n\n    expect(handleClose).toHaveBeenCalledTimes(1);\n  });\n\n  it('应该在点击背景时调用 onClose', () => {\n    const handleClose = jest.fn();\n    const { container } = renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    const backdrop = container.firstChild as HTMLElement;\n    fireEvent.click(backdrop);\n\n    expect(handleClose).toHaveBeenCalledTimes(1);\n  });\n\n  it('应该在点击模态框内容时不调用 onClose', () => {\n    const handleClose = jest.fn();\n    renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    const modalContent = screen.getByRole('dialog');\n    fireEvent.click(modalContent);\n\n    expect(handleClose).not.toHaveBeenCalled();\n  });\n\n  it('应该在按 ESC 键时调用 onClose', () => {\n    const handleClose = jest.fn();\n    renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    fireEvent.keyDown(document, { key: 'Escape' });\n\n    expect(handleClose).toHaveBeenCalledTimes(1);\n  });\n\n  it('应该在按其他键时不调用 onClose', () => {\n    const handleClose = jest.fn();\n    renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    fireEvent.keyDown(document, { key: 'Enter' });\n\n    expect(handleClose).not.toHaveBeenCalled();\n  });\n\n  it('应该在打开时禁用 body 滚动', () => {\n    renderWithTheme(\n      <Modal isOpen={true}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    expect(document.body.style.overflow).toBe('hidden');\n  });\n\n  it('应该在关闭时恢复 body 滚动', () => {\n    const handleClose = jest.fn();\n    const { unmount } = renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    handleClose();\n    unmount();\n\n    expect(document.body.style.overflow).toBe('unset');\n  });\n\n  it('应该在没有 onClose 时不显示关闭按钮', () => {\n    renderWithTheme(\n      <Modal isOpen={true}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    expect(screen.queryByLabelText('Close modal')).not.toBeInTheDocument();\n  });\n\n  it('应该应用自定义 className', () => {\n    renderWithTheme(\n      <Modal isOpen={true} className=\"custom-class\">\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    const modal = screen.getByRole('dialog');\n    expect(modal).toHaveClass('custom-class');\n  });\n\n  it('应该正确渲染复杂内容', () => {\n    renderWithTheme(\n      <Modal isOpen={true}>\n        <div>\n          <h2>Modal Title</h2>\n          <p>Modal description</p>\n        </div>\n      </Modal>\n    );\n\n    expect(screen.getByText('Modal Title')).toBeInTheDocument();\n    expect(screen.getByText('Modal description')).toBeInTheDocument();\n  });\n\n  it('应该应用正确的样式', () => {\n    renderWithTheme(\n      <Modal isOpen={true}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    const modal = screen.getByRole('dialog');\n    expect(modal).toHaveStyle({\n      position: 'relative',\n      maxWidth: '90%',\n      maxHeight: '90vh',\n    });\n  });\n\n  it('应该在切换 isOpen 时正确处理事件监听器', () => {\n    const handleClose = jest.fn();\n    renderWithTheme(\n      <Modal isOpen={true} onClose={handleClose}>\n        <div>Modal content</div>\n      </Modal>\n    );\n\n    fireEvent.keyDown(document, { key: 'Escape' });\n    expect(handleClose).toHaveBeenCalledTimes(1);\n  });\n});\n"],"version":3}