5793911cdd31830aa41233edcfac9b05
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("@testing-library/react");
const dom_1 = require("@testing-library/dom");
const ThemeProvider_1 = require("../theme/ThemeProvider");
const Checkbox_1 = require("./Checkbox");
const Radio_1 = require("./Radio");
const Switch_1 = require("./Switch");
const Progress_1 = require("./Progress");
const Spinner_1 = require("./Spinner");
const Alert_1 = require("./Alert");
const Tabs_1 = require("./Tabs");
const Modal_1 = require("./Modal");
const Tooltip_1 = require("./Tooltip");
const Divider_1 = require("./Divider");
const Select_1 = require("./Select");
const Animated_1 = require("./Animated");
const renderWithTheme = (component) => {
    return (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: component }));
};
describe('Checkbox', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { children: "Label" }));
        expect(dom_1.screen.getByText('Label')).toBeInTheDocument();
    });
    it('should toggle on click', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { onChange: handleChange, children: "Label" }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('should be disabled when disabled prop is true', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true, children: "Label" }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeDisabled();
    });
});
describe('Radio', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Radio_1.Radio, { value: "1", children: "Option 1" }));
        expect(dom_1.screen.getByText('Option 1')).toBeInTheDocument();
    });
    it('should call onChange when clicked', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Radio_1.Radio, { value: "1", onChange: handleChange, children: "Option 1" }));
        const radio = dom_1.screen.getByRole('radio');
        react_1.fireEvent.click(radio);
        expect(handleChange).toHaveBeenCalledWith('1');
    });
});
describe('Switch', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        expect(dom_1.screen.getByRole('switch')).toBeInTheDocument();
    });
    it('should toggle on click', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { onChange: handleChange }));
        const switchEl = dom_1.screen.getByRole('switch');
        react_1.fireEvent.click(switchEl);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('should be disabled when disabled prop is true', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { disabled: true }));
        const switchEl = dom_1.screen.getByRole('switch');
        expect(switchEl).toHaveAttribute('tabIndex', '-1');
    });
});
describe('Progress', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Progress_1.Progress, { value: 50 }));
        expect(dom_1.screen.getByRole('progressbar')).toBeInTheDocument();
    });
    it('should have correct aria attributes', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Progress_1.Progress, { value: 75, max: 100 }));
        const progress = dom_1.screen.getByRole('progressbar');
        expect(progress).toHaveAttribute('aria-valuenow', '75');
        expect(progress).toHaveAttribute('aria-valuemin', '0');
        expect(progress).toHaveAttribute('aria-valuemax', '100');
    });
});
describe('Spinner', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Spinner_1.Spinner, {}));
        expect(dom_1.screen.getByRole('status')).toBeInTheDocument();
    });
    it('should have correct size classes', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Spinner_1.Spinner, { size: "lg" }));
        const spinner = container.querySelector('[style*="width: 2rem"]');
        expect(spinner).toBeInTheDocument();
    });
});
describe('Alert', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Alert_1.Alert, { children: "Alert message" }));
        expect(dom_1.screen.getByText('Alert message')).toBeInTheDocument();
        expect(dom_1.screen.getByRole('alert')).toBeInTheDocument();
    });
    it('should render different variants', () => {
        const { unmount } = renderWithTheme((0, jsx_runtime_1.jsx)(Alert_1.Alert, { variant: "destructive", children: "Error" }));
        expect(dom_1.screen.getByText('Error')).toBeInTheDocument();
        unmount();
        renderWithTheme((0, jsx_runtime_1.jsx)(Alert_1.Alert, { variant: "success", children: "Success" }));
        expect(dom_1.screen.getByText('Success')).toBeInTheDocument();
    });
});
describe('Tabs', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsxs)(Tabs_1.Tabs, { defaultValue: "tab1", children: [(0, jsx_runtime_1.jsxs)(Tabs_1.TabList, { children: [(0, jsx_runtime_1.jsx)(Tabs_1.Tab, { value: "tab1", children: "Tab 1" }), (0, jsx_runtime_1.jsx)(Tabs_1.Tab, { value: "tab2", children: "Tab 2" })] }), (0, jsx_runtime_1.jsx)(Tabs_1.TabPanel, { value: "tab1", children: "Content 1" }), (0, jsx_runtime_1.jsx)(Tabs_1.TabPanel, { value: "tab2", children: "Content 2" })] }));
        expect(dom_1.screen.getByText('Tab 1')).toBeInTheDocument();
        expect(dom_1.screen.getByText('Content 1')).toBeInTheDocument();
    });
    it('should switch tabs on click', () => {
        renderWithTheme((0, jsx_runtime_1.jsxs)(Tabs_1.Tabs, { defaultValue: "tab1", children: [(0, jsx_runtime_1.jsxs)(Tabs_1.TabList, { children: [(0, jsx_runtime_1.jsx)(Tabs_1.Tab, { value: "tab1", children: "Tab 1" }), (0, jsx_runtime_1.jsx)(Tabs_1.Tab, { value: "tab2", children: "Tab 2" })] }), (0, jsx_runtime_1.jsx)(Tabs_1.TabPanel, { value: "tab1", children: "Content 1" }), (0, jsx_runtime_1.jsx)(Tabs_1.TabPanel, { value: "tab2", children: "Content 2" })] }));
        react_1.fireEvent.click(dom_1.screen.getByText('Tab 2'));
        expect(dom_1.screen.getByText('Content 2')).toBeInTheDocument();
    });
});
describe('Modal', () => {
    it('should not render when isOpen is false', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Modal_1.Modal, { isOpen: false, children: "Modal content" }));
        expect(dom_1.screen.queryByText('Modal content')).not.toBeInTheDocument();
    });
    it('should render when isOpen is true', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Modal_1.Modal, { isOpen: true, children: "Modal content" }));
        expect(dom_1.screen.getByText('Modal content')).toBeInTheDocument();
        expect(dom_1.screen.getByRole('dialog')).toBeInTheDocument();
    });
    it('should call onClose when backdrop is clicked', () => {
        const handleClose = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Modal_1.Modal, { isOpen: true, onClose: handleClose, children: "Modal content" }));
        const backdrop = dom_1.screen.getByRole('dialog').parentElement;
        if (backdrop) {
            react_1.fireEvent.click(backdrop);
            expect(handleClose).toHaveBeenCalled();
        }
    });
});
describe('Tooltip', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Tooltip_1.Tooltip, { content: "Tooltip text", children: (0, jsx_runtime_1.jsx)("button", { children: "Hover me" }) }));
        expect(dom_1.screen.getByText('Hover me')).toBeInTheDocument();
    });
    it('should show tooltip on hover', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Tooltip_1.Tooltip, { content: "Tooltip text", children: (0, jsx_runtime_1.jsx)("button", { children: "Hover me" }) }));
        const button = dom_1.screen.getByText('Hover me');
        react_1.fireEvent.mouseEnter(button);
        setTimeout(() => {
            expect(dom_1.screen.getByText('Tooltip text')).toBeInTheDocument();
        }, 300);
    });
});
describe('Divider', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Divider_1.Divider, {}));
        expect(dom_1.screen.getByRole('separator')).toBeInTheDocument();
    });
    it('should render vertical divider', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Divider_1.Divider, { orientation: "vertical" }));
        const divider = container.querySelector('[style*="height: 100%"]');
        expect(divider).toBeInTheDocument();
    });
});
describe('Select', () => {
    it('should render correctly', () => {
        const options = [
            { value: '1', label: 'Option 1' },
            { value: '2', label: 'Option 2' },
        ];
        renderWithTheme((0, jsx_runtime_1.jsx)(Select_1.Select, { options: options }));
        expect(dom_1.screen.getByText('Select...')).toBeInTheDocument();
    });
    it('should open dropdown on click', () => {
        const options = [
            { value: '1', label: 'Option 1' },
            { value: '2', label: 'Option 2' },
        ];
        renderWithTheme((0, jsx_runtime_1.jsx)(Select_1.Select, { options: options }));
        const select = dom_1.screen.getByRole('combobox');
        react_1.fireEvent.click(select);
        expect(dom_1.screen.getByText('Option 1')).toBeInTheDocument();
    });
    it('should call onChange when option is selected', () => {
        const handleChange = jest.fn();
        const options = [
            { value: '1', label: 'Option 1' },
            { value: '2', label: 'Option 2' },
        ];
        renderWithTheme((0, jsx_runtime_1.jsx)(Select_1.Select, { options: options, onChange: handleChange }));
        const select = dom_1.screen.getByRole('combobox');
        react_1.fireEvent.click(select);
        react_1.fireEvent.click(dom_1.screen.getByText('Option 1'));
        expect(handleChange).toHaveBeenCalledWith('1');
    });
});
describe('Animated', () => {
    it('should render correctly', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Animated_1.Animated, { animation: "fadeIn", children: "Content" }));
        expect(dom_1.screen.getByText('Content')).toBeInTheDocument();
    });
    it('should animate on mount', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Animated_1.Animated, { animation: "fadeIn", children: "Content" }));
        const animated = container.querySelector('[style*="animation"]');
        expect(animated).toBeInTheDocument();
    });
    it('should animate on hover', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Animated_1.Animated, { animation: "scaleIn", trigger: "hover", children: "Content" }));
        const animated = container.querySelector('[style*="transition"]');
        expect(animated).toBeInTheDocument();
    });
    it('should animate on click', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Animated_1.Animated, { animation: "bounceIn", trigger: "click", children: "Content" }));
        const animated = container.querySelector('[style*="cursor: pointer"]');
        expect(animated).toBeInTheDocument();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvbmV3LWNvbXBvbmVudHMudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7O0FBQ0Esa0RBQTJEO0FBQzNELDhDQUE4QztBQUU5QywwREFBdUQ7QUFDdkQseUNBQXNDO0FBQ3RDLG1DQUFnQztBQUNoQyxxQ0FBa0M7QUFDbEMseUNBQXNDO0FBQ3RDLHVDQUFvQztBQUNwQyxtQ0FBZ0M7QUFDaEMsaUNBQXNEO0FBQ3RELG1DQUFnQztBQUNoQyx1Q0FBb0M7QUFDcEMsdUNBQW9DO0FBQ3BDLHFDQUFrQztBQUNsQyx5Q0FBc0M7QUFFdEMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxTQUE2QixFQUFFLEVBQUU7SUFDeEQsT0FBTyxJQUFBLGNBQU0sRUFBQyx1QkFBQyw2QkFBYSxjQUFFLFNBQVMsR0FBaUIsQ0FBQyxDQUFDO0FBQzVELENBQUMsQ0FBQztBQUVGLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO0lBQ3hCLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsZUFBZSxDQUFDLHVCQUFDLG1CQUFRLHdCQUFpQixDQUFDLENBQUM7UUFDNUMsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3hELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHdCQUF3QixFQUFFLEdBQUcsRUFBRTtRQUNoQyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDL0IsZUFBZSxDQUFDLHVCQUFDLG1CQUFRLElBQUMsUUFBUSxFQUFFLFlBQVksc0JBQWtCLENBQUMsQ0FBQztRQUVwRSxNQUFNLFFBQVEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLGlCQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsRCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7UUFDdkQsZUFBZSxDQUFDLHVCQUFDLG1CQUFRLElBQUMsUUFBUSw0QkFBaUIsQ0FBQyxDQUFDO1FBQ3JELE1BQU0sUUFBUSxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLGVBQWUsQ0FBQyx1QkFBQyxhQUFLLElBQUMsS0FBSyxFQUFDLEdBQUcseUJBQWlCLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1FBQzNDLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUMvQixlQUFlLENBQ2IsdUJBQUMsYUFBSyxJQUFDLEtBQUssRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFFLFlBQVkseUJBRS9CLENBQ1QsQ0FBQztRQUVGLE1BQU0sS0FBSyxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkIsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtJQUN0QixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLGVBQWUsQ0FBQyx1QkFBQyxlQUFNLEtBQUcsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN6RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7UUFDaEMsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQy9CLGVBQWUsQ0FBQyx1QkFBQyxlQUFNLElBQUMsUUFBUSxFQUFFLFlBQVksR0FBSSxDQUFDLENBQUM7UUFFcEQsTUFBTSxRQUFRLEdBQUcsWUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM1QyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQixNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsK0NBQStDLEVBQUUsR0FBRyxFQUFFO1FBQ3ZELGVBQWUsQ0FBQyx1QkFBQyxlQUFNLElBQUMsUUFBUSxTQUFHLENBQUMsQ0FBQztRQUNyQyxNQUFNLFFBQVEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtJQUN4QixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLGVBQWUsQ0FBQyx1QkFBQyxtQkFBUSxJQUFDLEtBQUssRUFBRSxFQUFFLEdBQUksQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM5RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxHQUFHLEVBQUU7UUFDN0MsZUFBZSxDQUFDLHVCQUFDLG1CQUFRLElBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFJLENBQUMsQ0FBQztRQUNuRCxNQUFNLFFBQVEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hELE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRTtJQUN2QixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLGVBQWUsQ0FBQyx1QkFBQyxpQkFBTyxLQUFHLENBQUMsQ0FBQztRQUM3QixNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDekQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsa0NBQWtDLEVBQUUsR0FBRyxFQUFFO1FBQzFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxlQUFlLENBQUMsdUJBQUMsaUJBQU8sSUFBQyxJQUFJLEVBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUM3RCxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDbEUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDdEMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO0lBQ3JCLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsZUFBZSxDQUFDLHVCQUFDLGFBQUssZ0NBQXNCLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUQsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3hELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtRQUMxQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsZUFBZSxDQUFDLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsYUFBYSxzQkFBYyxDQUFDLENBQUM7UUFDaEYsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3RELE9BQU8sRUFBRSxDQUFDO1FBRVYsZUFBZSxDQUFDLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsU0FBUyx3QkFBZ0IsQ0FBQyxDQUFDO1FBQzFELE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMxRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7SUFDcEIsRUFBRSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtRQUNqQyxlQUFlLENBQ2Isd0JBQUMsV0FBSSxJQUFDLFlBQVksRUFBQyxNQUFNLGFBQ3ZCLHdCQUFDLGNBQU8sZUFDTix1QkFBQyxVQUFHLElBQUMsS0FBSyxFQUFDLE1BQU0sc0JBQVksRUFDN0IsdUJBQUMsVUFBRyxJQUFDLEtBQUssRUFBQyxNQUFNLHNCQUFZLElBQ3JCLEVBQ1YsdUJBQUMsZUFBUSxJQUFDLEtBQUssRUFBQyxNQUFNLDBCQUFxQixFQUMzQyx1QkFBQyxlQUFRLElBQUMsS0FBSyxFQUFDLE1BQU0sMEJBQXFCLElBQ3RDLENBQ1IsQ0FBQztRQUNGLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN0RCxNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDNUQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFO1FBQ3JDLGVBQWUsQ0FDYix3QkFBQyxXQUFJLElBQUMsWUFBWSxFQUFDLE1BQU0sYUFDdkIsd0JBQUMsY0FBTyxlQUNOLHVCQUFDLFVBQUcsSUFBQyxLQUFLLEVBQUMsTUFBTSxzQkFBWSxFQUM3Qix1QkFBQyxVQUFHLElBQUMsS0FBSyxFQUFDLE1BQU0sc0JBQVksSUFDckIsRUFDVix1QkFBQyxlQUFRLElBQUMsS0FBSyxFQUFDLE1BQU0sMEJBQXFCLEVBQzNDLHVCQUFDLGVBQVEsSUFBQyxLQUFLLEVBQUMsTUFBTSwwQkFBcUIsSUFDdEMsQ0FDUixDQUFDO1FBRUYsaUJBQVMsQ0FBQyxLQUFLLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM1RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7SUFDckIsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLEdBQUcsRUFBRTtRQUNoRCxlQUFlLENBQUMsdUJBQUMsYUFBSyxJQUFDLE1BQU0sRUFBRSxLQUFLLDhCQUF1QixDQUFDLENBQUM7UUFDN0QsTUFBTSxDQUFDLFlBQU0sQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN0RSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7UUFDM0MsZUFBZSxDQUFDLHVCQUFDLGFBQUssSUFBQyxNQUFNLEVBQUUsSUFBSSw4QkFBdUIsQ0FBQyxDQUFDO1FBQzVELE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM5RCxNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDekQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1FBQ3RELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUM5QixlQUFlLENBQ2IsdUJBQUMsYUFBSyxJQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFdBQVcsOEJBRWpDLENBQ1QsQ0FBQztRQUVGLE1BQU0sUUFBUSxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsYUFBYSxDQUFDO1FBQzFELElBQUksUUFBUSxFQUFFLENBQUM7WUFDYixpQkFBUyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxQixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN6QyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO0lBQ3ZCLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsZUFBZSxDQUNiLHVCQUFDLGlCQUFPLElBQUMsT0FBTyxFQUFDLGNBQWMsWUFDN0IsMERBQXlCLEdBQ2pCLENBQ1gsQ0FBQztRQUNGLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMzRCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw4QkFBOEIsRUFBRSxHQUFHLEVBQUU7UUFDdEMsZUFBZSxDQUNiLHVCQUFDLGlCQUFPLElBQUMsT0FBTyxFQUFDLGNBQWMsWUFDN0IsMERBQXlCLEdBQ2pCLENBQ1gsQ0FBQztRQUVGLE1BQU0sTUFBTSxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUMsaUJBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFN0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUMvRCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDVixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7SUFDdkIsRUFBRSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtRQUNqQyxlQUFlLENBQUMsdUJBQUMsaUJBQU8sS0FBRyxDQUFDLENBQUM7UUFDN0IsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzVELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtRQUN4QyxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsZUFBZSxDQUFDLHVCQUFDLGlCQUFPLElBQUMsV0FBVyxFQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDMUUsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQ25FLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtJQUN0QixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLE1BQU0sT0FBTyxHQUFHO1lBQ2QsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7WUFDakMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7U0FDbEMsQ0FBQztRQUNGLGVBQWUsQ0FBQyx1QkFBQyxlQUFNLElBQUMsT0FBTyxFQUFFLE9BQU8sR0FBSSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzVELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLCtCQUErQixFQUFFLEdBQUcsRUFBRTtRQUN2QyxNQUFNLE9BQU8sR0FBRztZQUNkLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFO1lBQ2pDLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFO1NBQ2xDLENBQUM7UUFDRixlQUFlLENBQUMsdUJBQUMsZUFBTSxJQUFDLE9BQU8sRUFBRSxPQUFPLEdBQUksQ0FBQyxDQUFDO1FBRTlDLE1BQU0sTUFBTSxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEIsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDhDQUE4QyxFQUFFLEdBQUcsRUFBRTtRQUN0RCxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDL0IsTUFBTSxPQUFPLEdBQUc7WUFDZCxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtZQUNqQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtTQUNsQyxDQUFDO1FBQ0YsZUFBZSxDQUFDLHVCQUFDLGVBQU0sSUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEdBQUksQ0FBQyxDQUFDO1FBRXRFLE1BQU0sTUFBTSxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFeEIsaUJBQVMsQ0FBQyxLQUFLLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNqRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7SUFDeEIsRUFBRSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtRQUNqQyxlQUFlLENBQUMsdUJBQUMsbUJBQVEsSUFBQyxTQUFTLEVBQUMsUUFBUSx3QkFBbUIsQ0FBQyxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMxRCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLGVBQWUsQ0FBQyx1QkFBQyxtQkFBUSxJQUFDLFNBQVMsRUFBQyxRQUFRLHdCQUFtQixDQUFDLENBQUM7UUFDdkYsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtRQUNqQyxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsZUFBZSxDQUNuQyx1QkFBQyxtQkFBUSxJQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLE9BQU8sd0JBRWxDLENBQ1osQ0FBQztRQUNGLE1BQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUNsRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN2QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLGVBQWUsQ0FDbkMsdUJBQUMsbUJBQVEsSUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxPQUFPLHdCQUVuQyxDQUNaLENBQUM7UUFDRixNQUFNLFFBQVEsR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDdkUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDdkMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMveWFueXUvRG93bmxvYWRzL3l5YzMtRGVzaWduLVN5c3RlbS9zcmMvY29tcG9uZW50cy9uZXctY29tcG9uZW50cy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9kb20nO1xuXG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSAnLi4vdGhlbWUvVGhlbWVQcm92aWRlcic7XG5pbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJy4vQ2hlY2tib3gnO1xuaW1wb3J0IHsgUmFkaW8gfSBmcm9tICcuL1JhZGlvJztcbmltcG9ydCB7IFN3aXRjaCB9IGZyb20gJy4vU3dpdGNoJztcbmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSAnLi9Qcm9ncmVzcyc7XG5pbXBvcnQgeyBTcGlubmVyIH0gZnJvbSAnLi9TcGlubmVyJztcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAnLi9BbGVydCc7XG5pbXBvcnQgeyBUYWJzLCBUYWJMaXN0LCBUYWIsIFRhYlBhbmVsIH0gZnJvbSAnLi9UYWJzJztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9Nb2RhbCc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnLi9Ub29sdGlwJztcbmltcG9ydCB7IERpdmlkZXIgfSBmcm9tICcuL0RpdmlkZXInO1xuaW1wb3J0IHsgU2VsZWN0IH0gZnJvbSAnLi9TZWxlY3QnO1xuaW1wb3J0IHsgQW5pbWF0ZWQgfSBmcm9tICcuL0FuaW1hdGVkJztcblxuY29uc3QgcmVuZGVyV2l0aFRoZW1lID0gKGNvbXBvbmVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiB7XG4gIHJldHVybiByZW5kZXIoPFRoZW1lUHJvdmlkZXI+e2NvbXBvbmVudH08L1RoZW1lUHJvdmlkZXI+KTtcbn07XG5cbmRlc2NyaWJlKCdDaGVja2JveCcsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZW5kZXIgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3g+TGFiZWw8L0NoZWNrYm94Pik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xhYmVsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdG9nZ2xlIG9uIGNsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9PkxhYmVsPC9DaGVja2JveD4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGZpcmVFdmVudC5jbGljayhjaGVja2JveCk7XG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgodHJ1ZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgZGlzYWJsZWQgd2hlbiBkaXNhYmxlZCBwcm9wIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBkaXNhYmxlZD5MYWJlbDwvQ2hlY2tib3g+KTtcbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZXhwZWN0KGNoZWNrYm94KS50b0JlRGlzYWJsZWQoKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1JhZGlvJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJlbmRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxSYWRpbyB2YWx1ZT1cIjFcIj5PcHRpb24gMTwvUmFkaW8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3B0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2hhbmdlIHdoZW4gY2xpY2tlZCcsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKFxuICAgICAgPFJhZGlvIHZhbHVlPVwiMVwiIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9PlxuICAgICAgICBPcHRpb24gMVxuICAgICAgPC9SYWRpbz5cbiAgICApO1xuXG4gICAgY29uc3QgcmFkaW8gPSBzY3JlZW4uZ2V0QnlSb2xlKCdyYWRpbycpO1xuICAgIGZpcmVFdmVudC5jbGljayhyYWRpbyk7XG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzEnKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1N3aXRjaCcsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZW5kZXIgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdG9nZ2xlIG9uIGNsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGZpcmVFdmVudC5jbGljayhzd2l0Y2hFbCk7XG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgodHJ1ZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgZGlzYWJsZWQgd2hlbiBkaXNhYmxlZCBwcm9wIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggZGlzYWJsZWQgLz4pO1xuICAgIGNvbnN0IHN3aXRjaEVsID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsKS50b0hhdmVBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdQcm9ncmVzcycsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZW5kZXIgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8UHJvZ3Jlc3MgdmFsdWU9ezUwfSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3Byb2dyZXNzYmFyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IGFyaWEgYXR0cmlidXRlcycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFByb2dyZXNzIHZhbHVlPXs3NX0gbWF4PXsxMDB9IC8+KTtcbiAgICBjb25zdCBwcm9ncmVzcyA9IHNjcmVlbi5nZXRCeVJvbGUoJ3Byb2dyZXNzYmFyJyk7XG4gICAgZXhwZWN0KHByb2dyZXNzKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCAnNzUnKTtcbiAgICBleHBlY3QocHJvZ3Jlc3MpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1pbicsICcwJyk7XG4gICAgZXhwZWN0KHByb2dyZXNzKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtYXgnLCAnMTAwJyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdTcGlubmVyJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJlbmRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTcGlubmVyIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnc3RhdHVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHNpemUgY2xhc3NlcycsICgpID0+IHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyV2l0aFRoZW1lKDxTcGlubmVyIHNpemU9XCJsZ1wiIC8+KTtcbiAgICBjb25zdCBzcGlubmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tzdHlsZSo9XCJ3aWR0aDogMnJlbVwiXScpO1xuICAgIGV4cGVjdChzcGlubmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnQWxlcnQnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcmVuZGVyIGNvcnJlY3RseScsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPEFsZXJ0PkFsZXJ0IG1lc3NhZ2U8L0FsZXJ0Pik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FsZXJ0IG1lc3NhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYWxlcnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgZGlmZmVyZW50IHZhcmlhbnRzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyV2l0aFRoZW1lKDxBbGVydCB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIj5FcnJvcjwvQWxlcnQ+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXJyb3InKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB1bm1vdW50KCk7XG5cbiAgICByZW5kZXJXaXRoVGhlbWUoPEFsZXJ0IHZhcmlhbnQ9XCJzdWNjZXNzXCI+U3VjY2VzczwvQWxlcnQ+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3VjY2VzcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnVGFicycsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZW5kZXIgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZShcbiAgICAgIDxUYWJzIGRlZmF1bHRWYWx1ZT1cInRhYjFcIj5cbiAgICAgICAgPFRhYkxpc3Q+XG4gICAgICAgICAgPFRhYiB2YWx1ZT1cInRhYjFcIj5UYWIgMTwvVGFiPlxuICAgICAgICAgIDxUYWIgdmFsdWU9XCJ0YWIyXCI+VGFiIDI8L1RhYj5cbiAgICAgICAgPC9UYWJMaXN0PlxuICAgICAgICA8VGFiUGFuZWwgdmFsdWU9XCJ0YWIxXCI+Q29udGVudCAxPC9UYWJQYW5lbD5cbiAgICAgICAgPFRhYlBhbmVsIHZhbHVlPVwidGFiMlwiPkNvbnRlbnQgMjwvVGFiUGFuZWw+XG4gICAgICA8L1RhYnM+XG4gICAgKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGFiIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29udGVudCAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgc3dpdGNoIHRhYnMgb24gY2xpY2snLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKFxuICAgICAgPFRhYnMgZGVmYXVsdFZhbHVlPVwidGFiMVwiPlxuICAgICAgICA8VGFiTGlzdD5cbiAgICAgICAgICA8VGFiIHZhbHVlPVwidGFiMVwiPlRhYiAxPC9UYWI+XG4gICAgICAgICAgPFRhYiB2YWx1ZT1cInRhYjJcIj5UYWIgMjwvVGFiPlxuICAgICAgICA8L1RhYkxpc3Q+XG4gICAgICAgIDxUYWJQYW5lbCB2YWx1ZT1cInRhYjFcIj5Db250ZW50IDE8L1RhYlBhbmVsPlxuICAgICAgICA8VGFiUGFuZWwgdmFsdWU9XCJ0YWIyXCI+Q29udGVudCAyPC9UYWJQYW5lbD5cbiAgICAgIDwvVGFicz5cbiAgICApO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1RhYiAyJykpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb250ZW50IDInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ01vZGFsJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIG5vdCByZW5kZXIgd2hlbiBpc09wZW4gaXMgZmFsc2UnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxNb2RhbCBpc09wZW49e2ZhbHNlfT5Nb2RhbCBjb250ZW50PC9Nb2RhbD4pO1xuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01vZGFsIGNvbnRlbnQnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIHdoZW4gaXNPcGVuIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxNb2RhbCBpc09wZW49e3RydWV9Pk1vZGFsIGNvbnRlbnQ8L01vZGFsPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01vZGFsIGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsbCBvbkNsb3NlIHdoZW4gYmFja2Ryb3AgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoXG4gICAgICA8TW9kYWwgaXNPcGVuPXt0cnVlfSBvbkNsb3NlPXtoYW5kbGVDbG9zZX0+XG4gICAgICAgIE1vZGFsIGNvbnRlbnRcbiAgICAgIDwvTW9kYWw+XG4gICAgKTtcblxuICAgIGNvbnN0IGJhY2tkcm9wID0gc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJykucGFyZW50RWxlbWVudDtcbiAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgIGZpcmVFdmVudC5jbGljayhiYWNrZHJvcCk7XG4gICAgICBleHBlY3QoaGFuZGxlQ2xvc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdUb29sdGlwJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJlbmRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKFxuICAgICAgPFRvb2x0aXAgY29udGVudD1cIlRvb2x0aXAgdGV4dFwiPlxuICAgICAgICA8YnV0dG9uPkhvdmVyIG1lPC9idXR0b24+XG4gICAgICA8L1Rvb2x0aXA+XG4gICAgKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSG92ZXIgbWUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IHRvb2x0aXAgb24gaG92ZXInLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKFxuICAgICAgPFRvb2x0aXAgY29udGVudD1cIlRvb2x0aXAgdGV4dFwiPlxuICAgICAgICA8YnV0dG9uPkhvdmVyIG1lPC9idXR0b24+XG4gICAgICA8L1Rvb2x0aXA+XG4gICAgKTtcblxuICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0hvdmVyIG1lJyk7XG4gICAgZmlyZUV2ZW50Lm1vdXNlRW50ZXIoYnV0dG9uKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rvb2x0aXAgdGV4dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0sIDMwMCk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdEaXZpZGVyJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJlbmRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxEaXZpZGVyIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnc2VwYXJhdG9yJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIHZlcnRpY2FsIGRpdmlkZXInLCAoKSA9PiB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcldpdGhUaGVtZSg8RGl2aWRlciBvcmllbnRhdGlvbj1cInZlcnRpY2FsXCIgLz4pO1xuICAgIGNvbnN0IGRpdmlkZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW3N0eWxlKj1cImhlaWdodDogMTAwJVwiXScpO1xuICAgIGV4cGVjdChkaXZpZGVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnU2VsZWN0JywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJlbmRlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IFtcbiAgICAgIHsgdmFsdWU6ICcxJywgbGFiZWw6ICdPcHRpb24gMScgfSxcbiAgICAgIHsgdmFsdWU6ICcyJywgbGFiZWw6ICdPcHRpb24gMicgfSxcbiAgICBdO1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U2VsZWN0IG9wdGlvbnM9e29wdGlvbnN9IC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0Li4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgb3BlbiBkcm9wZG93biBvbiBjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBvcHRpb25zID0gW1xuICAgICAgeyB2YWx1ZTogJzEnLCBsYWJlbDogJ09wdGlvbiAxJyB9LFxuICAgICAgeyB2YWx1ZTogJzInLCBsYWJlbDogJ09wdGlvbiAyJyB9LFxuICAgIF07XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTZWxlY3Qgb3B0aW9ucz17b3B0aW9uc30gLz4pO1xuXG4gICAgY29uc3Qgc2VsZWN0ID0gc2NyZWVuLmdldEJ5Um9sZSgnY29tYm9ib3gnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc2VsZWN0KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3B0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2hhbmdlIHdoZW4gb3B0aW9uIGlzIHNlbGVjdGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICBjb25zdCBvcHRpb25zID0gW1xuICAgICAgeyB2YWx1ZTogJzEnLCBsYWJlbDogJ09wdGlvbiAxJyB9LFxuICAgICAgeyB2YWx1ZTogJzInLCBsYWJlbDogJ09wdGlvbiAyJyB9LFxuICAgIF07XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTZWxlY3Qgb3B0aW9ucz17b3B0aW9uc30gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz4pO1xuXG4gICAgY29uc3Qgc2VsZWN0ID0gc2NyZWVuLmdldEJ5Um9sZSgnY29tYm9ib3gnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc2VsZWN0KTtcblxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdPcHRpb24gMScpKTtcbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnMScpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnQW5pbWF0ZWQnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcmVuZGVyIGNvcnJlY3RseScsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPEFuaW1hdGVkIGFuaW1hdGlvbj1cImZhZGVJblwiPkNvbnRlbnQ8L0FuaW1hdGVkPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbmltYXRlIG9uIG1vdW50JywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJXaXRoVGhlbWUoPEFuaW1hdGVkIGFuaW1hdGlvbj1cImZhZGVJblwiPkNvbnRlbnQ8L0FuaW1hdGVkPik7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW3N0eWxlKj1cImFuaW1hdGlvblwiXScpO1xuICAgIGV4cGVjdChhbmltYXRlZCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbmltYXRlIG9uIGhvdmVyJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJXaXRoVGhlbWUoXG4gICAgICA8QW5pbWF0ZWQgYW5pbWF0aW9uPVwic2NhbGVJblwiIHRyaWdnZXI9XCJob3ZlclwiPlxuICAgICAgICBDb250ZW50XG4gICAgICA8L0FuaW1hdGVkPlxuICAgICk7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW3N0eWxlKj1cInRyYW5zaXRpb25cIl0nKTtcbiAgICBleHBlY3QoYW5pbWF0ZWQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYW5pbWF0ZSBvbiBjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyV2l0aFRoZW1lKFxuICAgICAgPEFuaW1hdGVkIGFuaW1hdGlvbj1cImJvdW5jZUluXCIgdHJpZ2dlcj1cImNsaWNrXCI+XG4gICAgICAgIENvbnRlbnRcbiAgICAgIDwvQW5pbWF0ZWQ+XG4gICAgKTtcbiAgICBjb25zdCBhbmltYXRlZCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbc3R5bGUqPVwiY3Vyc29yOiBwb2ludGVyXCJdJyk7XG4gICAgZXhwZWN0KGFuaW1hdGVkKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9