4c3728eca31ee588ee4f3d87b3bce47e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("@testing-library/react");
const dom_1 = require("@testing-library/dom");
const Switch_1 = require("./Switch");
const ThemeProvider_1 = require("../theme/ThemeProvider");
describe('Switch 组件', () => {
    const renderWithTheme = (component) => {
        return (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: component }));
    };
    it('应该正确渲染未选中的 Switch', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toBeInTheDocument();
        expect(switchElement).toHaveAttribute('aria-checked', 'false');
    });
    it('应该正确渲染选中的 Switch', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('aria-checked', 'true');
    });
    it('应该在点击时切换状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在选中状态下点击时切换为 false', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true, onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledWith(false);
    });
    it('应该在禁用状态下不响应点击', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { disabled: true, onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        react_1.fireEvent.click(switchElement);
        expect(handleChange).not.toHaveBeenCalled();
    });
    it('应该应用自定义 className', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { className: "custom-class" }));
        const switchElement = container.querySelector('.custom-class');
        expect(switchElement).toBeInTheDocument();
    });
    it('应该在禁用时设置正确的属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { disabled: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('tabIndex', '-1');
    });
    it('应该在未禁用时设置正确的属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('tabIndex', '0');
    });
    it('应该在选中时应用正确的背景色', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            backgroundColor: 'rgb(224, 106, 112)',
        });
    });
    it('应该在未选中时应用正确的背景色', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: false }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            backgroundColor: 'rgb(160, 160, 160)',
        });
    });
    it('应该在选中时正确设置滑块位置', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        const thumb = switchElement.querySelector('div');
        expect(thumb).toHaveStyle({
            left: '1.625rem',
        });
    });
    it('应该在未选中时正确设置滑块位置', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: false }));
        const switchElement = dom_1.screen.getByRole('switch');
        const thumb = switchElement.querySelector('div');
        expect(thumb).toHaveStyle({
            left: '0.125rem',
        });
    });
    it('应该在禁用时应用正确的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { disabled: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            cursor: 'not-allowed',
            opacity: 0.5,
        });
    });
    it('应该在未禁用时应用正确的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            cursor: 'pointer',
            opacity: 1,
        });
    });
    it('应该支持受控模式', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true, onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('aria-checked', 'true');
    });
    it('应该在非受控模式下维护内部状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('aria-checked', 'false');
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在受控模式下正确处理状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true, onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('aria-checked', 'true');
    });
    it('应该正确设置 aria-checked 属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveAttribute('aria-checked', 'true');
    });
    it('应该正确设置 role 属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toBeInTheDocument();
    });
    it('应该在点击时正确处理 onChange 回调', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: false, onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledTimes(1);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在多次点击时正确切换状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledTimes(1);
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledTimes(2);
        react_1.fireEvent.click(switchElement);
        expect(handleChange).toHaveBeenCalledTimes(3);
    });
    it('应该在禁用时正确处理样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { disabled: true, checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            backgroundColor: 'rgb(224, 106, 112)',
            cursor: 'not-allowed',
            opacity: 0.5,
        });
    });
    it('应该在未禁用时正确处理样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            backgroundColor: 'rgb(224, 106, 112)',
            cursor: 'pointer',
            opacity: 1,
        });
    });
    it('应该正确渲染滑块', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        const thumb = switchElement.querySelector('div');
        expect(thumb).toBeInTheDocument();
        expect(thumb).toHaveStyle({
            width: '1.25rem',
            height: '1.25rem',
            borderRadius: '50%',
            backgroundColor: 'rgb(240, 240, 240)',
        });
    });
    it('应该在选中状态下正确渲染滑块', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: true }));
        const switchElement = dom_1.screen.getByRole('switch');
        const thumb = switchElement.querySelector('div');
        expect(thumb).toHaveStyle({
            left: '1.625rem',
        });
    });
    it('应该在未选中状态下正确渲染滑块', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { checked: false }));
        const switchElement = dom_1.screen.getByRole('switch');
        const thumb = switchElement.querySelector('div');
        expect(thumb).toHaveStyle({
            left: '0.125rem',
        });
    });
    it('应该正确处理过渡效果', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({
            transition: 'all 0.2s ease',
        });
        const thumb = switchElement.querySelector('div');
        expect(thumb).toHaveStyle({
            transition: 'all 0.2s ease',
        });
    });
    it('应该在禁用时禁用点击事件', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, { disabled: true, onChange: handleChange }));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({ cursor: 'not-allowed' });
    });
    it('应该在未禁用时启用点击事件', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Switch_1.Switch, {}));
        const switchElement = dom_1.screen.getByRole('switch');
        expect(switchElement).toHaveStyle({ cursor: 'pointer' });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvU3dpdGNoLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7OztBQVVBLGtEQUEyRDtBQUMzRCw4Q0FBOEM7QUFFOUMscUNBQWtDO0FBQ2xDLDBEQUF1RDtBQUV2RCxRQUFRLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRTtJQUN6QixNQUFNLGVBQWUsR0FBRyxDQUFDLFNBQTZCLEVBQUUsRUFBRTtRQUN4RCxPQUFPLElBQUEsY0FBTSxFQUFDLHVCQUFDLDZCQUFhLGNBQUUsU0FBUyxHQUFpQixDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDO0lBRUYsRUFBRSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsRUFBRTtRQUMzQixlQUFlLENBQUMsdUJBQUMsZUFBTSxLQUFHLENBQUMsQ0FBQztRQUU1QixNQUFNLGFBQWEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxlQUFlLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2pFLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtRQUMxQixlQUFlLENBQUMsdUJBQUMsZUFBTSxJQUFDLE9BQU8sU0FBRyxDQUFDLENBQUM7UUFFcEMsTUFBTSxhQUFhLEdBQUcsWUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqRCxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsZUFBZSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNoRSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUMvQixlQUFl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XSwic291cmNlcyI6WyIvVXNlcnMveWFueXUvRG93bmxvYWRzL3l5YzMtRGVzaWduLVN5c3RlbS9zcmMvY29tcG9uZW50cy9Td2l0Y2gudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBTd2l0Y2gg57uE5Lu25rWL6K+VXG4gKiBAZGVzY3JpcHRpb24g5rWL6K+VIFN3aXRjaCDnu4Tku7bnmoTlkITpobnlip/og71cbiAqIEBtb2R1bGUgX190ZXN0c19fL2NvbXBvbmVudHMvU3dpdGNoLnRlc3RcbiAqIEBhdXRob3IgWVlDwrNcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiBAY3JlYXRlZCAyMDI2LTAyLTE4XG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvZG9tJztcblxuaW1wb3J0IHsgU3dpdGNoIH0gZnJvbSAnLi9Td2l0Y2gnO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJy4uL3RoZW1lL1RoZW1lUHJvdmlkZXInO1xuXG5kZXNjcmliZSgnU3dpdGNoIOe7hOS7ticsICgpID0+IHtcbiAgY29uc3QgcmVuZGVyV2l0aFRoZW1lID0gKGNvbXBvbmVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIHJlbmRlcig8VGhlbWVQcm92aWRlcj57Y29tcG9uZW50fTwvVGhlbWVQcm92aWRlcj4pO1xuICB9O1xuXG4gIGl0KCflupTor6XmraPnoa7muLLmn5PmnKrpgInkuK3nmoQgU3dpdGNoJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCAnZmFsc2UnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehrua4suafk+mAieS4reeahCBTd2l0Y2gnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggY2hlY2tlZCAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ3RydWUnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOeCueWHu+aXtuWIh+aNoueKtuaAgScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGZpcmVFdmVudC5jbGljayhzd2l0Y2hFbGVtZW50KTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRydWUpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo6YCJ5Lit54q25oCB5LiL54K55Ye75pe25YiH5o2i5Li6IGZhbHNlJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBjaGVja2VkIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc3dpdGNoRWxlbWVudCk7XG5cbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjnpoHnlKjnirbmgIHkuIvkuI3lk43lupTngrnlh7snLCAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIGRpc2FibGVkIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc3dpdGNoRWxlbWVudCk7XG5cbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5bqU55So6Ieq5a6a5LmJIGNsYXNzTmFtZScsICgpID0+IHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggY2xhc3NOYW1lPVwiY3VzdG9tLWNsYXNzXCIgLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLWNsYXNzJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjnpoHnlKjml7borr7nva7mraPnoa7nmoTlsZ7mgKcnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggZGlzYWJsZWQgLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGV4cGVjdChzd2l0Y2hFbGVtZW50KS50b0hhdmVBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjmnKrnpoHnlKjml7borr7nva7mraPnoa7nmoTlsZ7mgKcnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGV4cGVjdChzd2l0Y2hFbGVtZW50KS50b0hhdmVBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzAnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOmAieS4reaXtuW6lOeUqOato+ehrueahOiDjOaZr+iJsicsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBjaGVja2VkIC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9IYXZlU3R5bGUoe1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiKDIyNCwgMTA2LCAxMTIpJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOacqumAieS4reaXtuW6lOeUqOato+ehrueahOiDjOaZr+iJsicsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBjaGVja2VkPXtmYWxzZX0gLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGV4cGVjdChzd2l0Y2hFbGVtZW50KS50b0hhdmVTdHlsZSh7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2IoMTYwLCAxNjAsIDE2MCknLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo6YCJ5Lit5pe25q2j56Gu6K6+572u5ruR5Z2X5L2N572uJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIGNoZWNrZWQgLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGNvbnN0IHRodW1iID0gc3dpdGNoRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICBleHBlY3QodGh1bWIpLnRvSGF2ZVN0eWxlKHtcbiAgICAgIGxlZnQ6ICcxLjYyNXJlbScsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjmnKrpgInkuK3ml7bmraPnoa7orr7nva7mu5HlnZfkvY3nva4nLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggY2hlY2tlZD17ZmFsc2V9IC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBjb25zdCB0aHVtYiA9IHN3aXRjaEVsZW1lbnQucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gICAgZXhwZWN0KHRodW1iKS50b0hhdmVTdHlsZSh7XG4gICAgICBsZWZ0OiAnMC4xMjVyZW0nLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo56aB55So5pe25bqU55So5q2j56Gu55qE5qC35byPJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIGRpc2FibGVkIC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9IYXZlU3R5bGUoe1xuICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuICAgICAgb3BhY2l0eTogMC41LFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5pyq56aB55So5pe25bqU55So5q2j56Gu55qE5qC35byPJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9IYXZlU3R5bGUoe1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBvcGFjaXR5OiAxLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyB5Y+X5o6n5qih5byPJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBjaGVja2VkPXt0cnVlfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ3RydWUnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOmdnuWPl+aOp+aooeW8j+S4i+e7tOaKpOWGhemDqOeKtuaAgScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGV4cGVjdChzd2l0Y2hFbGVtZW50KS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsICdmYWxzZScpO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHN3aXRjaEVsZW1lbnQpO1xuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRydWUpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5Y+X5o6n5qih5byP5LiL5q2j56Gu5aSE55CG54q25oCBJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBjaGVja2VkPXt0cnVlfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ3RydWUnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruiuvue9riBhcmlhLWNoZWNrZWQg5bGe5oCnJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIGNoZWNrZWQ9e3RydWV9IC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCAndHJ1ZScpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5q2j56Gu6K6+572uIHJvbGUg5bGe5oCnJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBleHBlY3Qoc3dpdGNoRWxlbWVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOeCueWHu+aXtuato+ehruWkhOeQhiBvbkNoYW5nZSDlm57osIMnLCAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIGNoZWNrZWQ9e2ZhbHNlfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHN3aXRjaEVsZW1lbnQpO1xuXG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRydWUpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5aSa5qyh54K55Ye75pe25q2j56Gu5YiH5o2i54q25oCBJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc3dpdGNoRWxlbWVudCk7XG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHN3aXRjaEVsZW1lbnQpO1xuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcblxuICAgIGZpcmVFdmVudC5jbGljayhzd2l0Y2hFbGVtZW50KTtcbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjnpoHnlKjml7bmraPnoa7lpITnkIbmoLflvI8nLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggZGlzYWJsZWQgY2hlY2tlZCAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZVN0eWxlKHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYigyMjQsIDEwNiwgMTEyKScsXG4gICAgICBjdXJzb3I6ICdub3QtYWxsb3dlZCcsXG4gICAgICBvcGFjaXR5OiAwLjUsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjmnKrnpoHnlKjml7bmraPnoa7lpITnkIbmoLflvI8nLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggY2hlY2tlZCAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZVN0eWxlKHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYigyMjQsIDEwNiwgMTEyKScsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7muLLmn5Pmu5HlnZcnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGNvbnN0IHRodW1iID0gc3dpdGNoRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICBleHBlY3QodGh1bWIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHRodW1iKS50b0hhdmVTdHlsZSh7XG4gICAgICB3aWR0aDogJzEuMjVyZW0nLFxuICAgICAgaGVpZ2h0OiAnMS4yNXJlbScsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiKDI0MCwgMjQwLCAyNDApJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOmAieS4reeKtuaAgeS4i+ato+ehrua4suafk+a7keWdlycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCBjaGVja2VkIC8+KTtcblxuICAgIGNvbnN0IHN3aXRjaEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzd2l0Y2gnKTtcbiAgICBjb25zdCB0aHVtYiA9IHN3aXRjaEVsZW1lbnQucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gICAgZXhwZWN0KHRodW1iKS50b0hhdmVTdHlsZSh7XG4gICAgICBsZWZ0OiAnMS42MjVyZW0nLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5pyq6YCJ5Lit54q25oCB5LiL5q2j56Gu5riy5p+T5ruR5Z2XJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8U3dpdGNoIGNoZWNrZWQ9e2ZhbHNlfSAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgY29uc3QgdGh1bWIgPSBzd2l0Y2hFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdicpO1xuICAgIGV4cGVjdCh0aHVtYikudG9IYXZlU3R5bGUoe1xuICAgICAgbGVmdDogJzAuMTI1cmVtJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruWkhOeQhui/h+a4oeaViOaenCcsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZVN0eWxlKHtcbiAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHRodW1iID0gc3dpdGNoRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICBleHBlY3QodGh1bWIpLnRvSGF2ZVN0eWxlKHtcbiAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOemgeeUqOaXtuemgeeUqOeCueWHu+S6i+S7ticsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxTd2l0Y2ggZGlzYWJsZWQgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz4pO1xuXG4gICAgY29uc3Qgc3dpdGNoRWxlbWVudCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3N3aXRjaCcpO1xuICAgIGV4cGVjdChzd2l0Y2hFbGVtZW50KS50b0hhdmVTdHlsZSh7IGN1cnNvcjogJ25vdC1hbGxvd2VkJyB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOacquemgeeUqOaXtuWQr+eUqOeCueWHu+S6i+S7ticsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPFN3aXRjaCAvPik7XG5cbiAgICBjb25zdCBzd2l0Y2hFbGVtZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnc3dpdGNoJyk7XG4gICAgZXhwZWN0KHN3aXRjaEVsZW1lbnQpLnRvSGF2ZVN0eWxlKHsgY3Vyc29yOiAncG9pbnRlcicgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=