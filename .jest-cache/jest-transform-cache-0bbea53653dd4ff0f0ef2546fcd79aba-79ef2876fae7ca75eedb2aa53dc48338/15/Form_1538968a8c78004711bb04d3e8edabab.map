{"version":3,"names":["cov_2dukwjxo1a","actualCoverage","s","react_1","require","react_hook_form_1","zod_1","FormComponent","schema","defaultValues","onSubmit","children","className","b","dataTestId","props","f","methods","useForm","resolver","zodResolver","undefined","handleSubmit","useCallback","data","error","console","containerStyles","display","flexDirection","gap","width","jsx_runtime_1","jsx","FormProvider","style","exports","Form","memo","useFormField","context","useFormContext","Error"],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/components/Form.tsx"],"sourcesContent":["/**\n * @file 表单组件\n * @description 基于react-hook-form的表单组件\n * @component Form\n * @author YYC³\n * @version 1.0.0\n * @created 2026-02-23\n * @updated 2026-02-25\n * @copyright Copyright (c) 2026 YYC³\n * @license MIT\n */\n\nimport React, { memo, ReactNode, FormHTMLAttributes, useCallback } from 'react';\nimport { useForm, FormProvider, useFormContext } from 'react-hook-form';\nimport type { z } from 'zod';\nimport { zodResolver } from '@hookform/resolvers/zod';\n\nexport interface FormProps<T = Record<string, unknown>> extends Omit<\n  FormHTMLAttributes<HTMLFormElement>,\n  'onSubmit'\n> {\n  schema?: z.ZodType<any>;\n  defaultValues?: any;\n  onSubmit: (data: T) => void | Promise<void>;\n  children: ReactNode;\n  className?: string;\n  'data-testid'?: string;\n}\n\nconst FormComponent = <T = Record<string, unknown>,>({\n  schema,\n  defaultValues,\n  onSubmit,\n  children,\n  className = '',\n  'data-testid': dataTestId,\n  ...props\n}: FormProps<T>) => {\n  const methods = useForm({\n    resolver: schema ? zodResolver(schema as any) : undefined,\n    defaultValues: defaultValues,\n  });\n\n  const handleSubmit = useCallback(\n    async (data: T) => {\n      try {\n        await onSubmit(data);\n      } catch (error) {\n        console.error('Form submission error:', error);\n      }\n    },\n    [onSubmit]\n  );\n\n  const containerStyles = {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '16px',\n    width: '100%',\n  };\n\n  return (\n    <FormProvider {...methods}>\n      <form\n        onSubmit={methods.handleSubmit(handleSubmit as any)}\n        className={className}\n        style={containerStyles}\n        data-testid={dataTestId}\n        {...props}\n      >\n        {children}\n      </form>\n    </FormProvider>\n  );\n};\n\nexport const Form = memo(FormComponent);\n\nexport const useFormField = () => {\n  const context = useFormContext();\n  if (!context) {\n    throw new Error('useFormField must be used within a Form component');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]}