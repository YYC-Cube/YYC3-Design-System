{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/tests/unit/Animated.test.tsx","mappings":"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","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/tests/unit/Animated.test.tsx"],"sourcesContent":["// path: src/qa/tests/unit/Animated.test.tsx\n/**\n * YYC\\u00b3 Design System \\u2014 Animated Component Unit Tests\n *\n * Covers: animation prop, duration/easing tokens, hover/click triggers,\n * jest.useFakeTimers for animation lifecycle, CSS variable verification.\n */\nimport React from 'react';\nimport { render, screen, fireEvent, act } from '@testing-library/react';\n\n/**\n * Minimal Animated wrapper component for testing purposes.\n * In the real app, this wraps motion/react; here we test the token-based\n * animation behavior contract.\n */\nfunction Animated({\n  animation = 'fadeIn',\n  duration = 'var(--duration-normal)',\n  easing = 'var(--easing-default)',\n  delay = 0,\n  repeat = false,\n  children,\n  ...rest\n}: {\n  animation?: 'fadeIn' | 'fadeInUp' | 'pulse' | 'neonPulse' | 'glitch';\n  duration?: string;\n  easing?: string;\n  delay?: number;\n  repeat?: boolean;\n  children?: React.ReactNode;\n} & React.HTMLAttributes<HTMLDivElement>) {\n  const style: React.CSSProperties = {\n    animationName: animation,\n    animationDuration: duration,\n    animationTimingFunction: easing,\n    animationDelay: `${delay}ms`,\n    animationIterationCount: repeat ? 'infinite' : '1',\n    animationFillMode: 'both',\n  };\n\n  return (\n    <div data-testid=\"animated\" style={style} {...rest}>\n      {children}\n    </div>\n  );\n}\n\ndescribe('Animated Component', () => {\n  beforeEach(() => {\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.useRealTimers();\n  });\n\n  // \\u2500\\u2500\\u2500 Rendering \\u2500\\u2500\\u2500\n  it('renders children correctly', () => {\n    render(<Animated>Hello</Animated>);\n    expect(screen.getByText('Hello')).toBeInTheDocument();\n  });\n\n  it('applies default animation name (fadeIn)', () => {\n    render(<Animated>Content</Animated>);\n    const el = screen.getByTestId('animated');\n    expect(el.style.animationName).toBe('fadeIn');\n  });\n\n  // \\u2500\\u2500\\u2500 Animation Variants \\u2500\\u2500\\u2500\n  const animations = ['fadeIn', 'fadeInUp', 'pulse', 'neonPulse', 'glitch'] as const;\n  animations.forEach((anim) => {\n    it(`sets animationName to \"${anim}\"`, () => {\n      render(<Animated animation={anim}>Test</Animated>);\n      expect(screen.getByTestId('animated').style.animationName).toBe(anim);\n    });\n  });\n\n  // \\u2500\\u2500\\u2500 Duration Token \\u2500\\u2500\\u2500\n  it('uses var(--duration-normal) by default', () => {\n    render(<Animated>Dur</Animated>);\n    expect(screen.getByTestId('animated').style.animationDuration).toBe('var(--duration-normal)');\n  });\n\n  it('accepts custom duration token', () => {\n    render(<Animated duration=\"var(--duration-fast)\">Fast</Animated>);\n    expect(screen.getByTestId('animated').style.animationDuration).toBe('var(--duration-fast)');\n  });\n\n  // \\u2500\\u2500\\u2500 Easing Token \\u2500\\u2500\\u2500\n  it('uses var(--easing-default) by default', () => {\n    render(<Animated>Ease</Animated>);\n    expect(screen.getByTestId('animated').style.animationTimingFunction).toBe(\n      'var(--easing-default)'\n    );\n  });\n\n  // \\u2500\\u2500\\u2500 Delay \\u2500\\u2500\\u2500\n  it('sets animationDelay from delay prop', () => {\n    render(<Animated delay={150}>Delayed</Animated>);\n    expect(screen.getByTestId('animated').style.animationDelay).toBe('150ms');\n  });\n\n  // \\u2500\\u2500\\u2500 Repeat \\u2500\\u2500\\u2500\n  it('sets infinite iteration count when repeat=true', () => {\n    render(<Animated repeat>Loop</Animated>);\n    expect(screen.getByTestId('animated').style.animationIterationCount).toBe('infinite');\n  });\n\n  it('sets iteration count to 1 when repeat=false', () => {\n    render(<Animated>Once</Animated>);\n    expect(screen.getByTestId('animated').style.animationIterationCount).toBe('1');\n  });\n\n  // \\u2500\\u2500\\u2500 Animation End Event \\u2500\\u2500\\u2500\n  it('fires animationend event after timer advance', () => {\n    const onAnimEnd = jest.fn();\n    render(<Animated onAnimationEnd={onAnimEnd}>End</Animated>);\n    const el = screen.getByTestId('animated');\n\n    act(() => {\n      jest.advanceTimersByTime(200); // duration-normal = 200ms\n      fireEvent.animationEnd(el);\n    });\n\n    expect(onAnimEnd).toHaveBeenCalledTimes(1);\n  });\n\n  // \\u2500\\u2500\\u2500 Custom className \\u2500\\u2500\\u2500\n  it('supports custom className', () => {\n    render(<Animated className=\"my-class\">Styled</Animated>);\n    expect(screen.getByTestId('animated')).toHaveClass('my-class');\n  });\n\n  // \\u2500\\u2500\\u2500 Fill Mode \\u2500\\u2500\\u2500\n  it(\"uses fill mode 'both' for smooth start/end\", () => {\n    render(<Animated>Fill</Animated>);\n    expect(screen.getByTestId('animated').style.animationFillMode).toBe('both');\n  });\n\n  // \\u2500\\u2500\\u2500 Performance: no animation > 300ms blocks interaction \\u2500\\u2500\\u2500\n  it('duration token values are within 300ms budget', () => {\n    const durationValues = { fast: 120, normal: 200, slow: 350 };\n    // fast and normal must be <= 300ms (non-blocking)\n    expect(durationValues.fast).toBeLessThanOrEqual(300);\n    expect(durationValues.normal).toBeLessThanOrEqual(300);\n    // slow is 350ms but used only for entrance/exit, not blocking interactions\n  });\n});\n"],"version":3}