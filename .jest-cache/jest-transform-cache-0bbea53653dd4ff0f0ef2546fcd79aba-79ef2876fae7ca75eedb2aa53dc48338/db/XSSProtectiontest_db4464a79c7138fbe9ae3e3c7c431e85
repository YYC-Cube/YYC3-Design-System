c15120498928cce223757dd72d4cceae
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
/**
 * @file XSS 防护模块测试
 * @description 测试 XSSProtection 组件的各项功能
 * @module __tests__/security/XSSProtection.test
 * @author YYC³
 * @version 1.0.0
 * @created 2026-02-21
 */
const React = __importStar(require("react"));
const react_1 = require("@testing-library/react");
const dom_1 = require("@testing-library/dom");
require("@testing-library/jest-dom");
const XSSProtection_1 = require("./XSSProtection");
const TestComponent = () => {
    const { sanitize, isSafe } = (0, XSSProtection_1.useXSS)();
    const [sanitized, setSanitized] = React.useState('');
    const [safe, setSafe] = React.useState(false);
    const handleSanitize = async () => {
        const result = await sanitize('<script>alert("xss")</script><p>safe</p>');
        setSanitized(result);
    };
    const handleCheckSafe = async () => {
        const result = await isSafe('<p>safe</p>');
        setSafe(result);
    };
    return ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("button", { onClick: handleSanitize, children: "Sanitize" }), (0, jsx_runtime_1.jsx)("button", { onClick: handleCheckSafe, children: "Check Safe" }), (0, jsx_runtime_1.jsx)("div", { "data-testid": "sanitized", children: sanitized }), (0, jsx_runtime_1.jsx)("div", { "data-testid": "safe", children: safe ? 'true' : 'false' })] }));
};
describe('XSSProtection', () => {
    describe('XSSProvider', () => {
        it('应该提供 XSS 上下文', () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(TestComponent, {}) }));
            expect(dom_1.screen.getByText('Sanitize')).toBeInTheDocument();
            expect(dom_1.screen.getByText('Check Safe')).toBeInTheDocument();
        });
        it('应该支持自定义配置', () => {
            const customConfig = {
                allowedTags: ['p', 'span'],
                allowedAttributes: { p: ['class'] },
            };
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { config: customConfig, children: (0, jsx_runtime_1.jsx)(TestComponent, {}) }));
            expect(dom_1.screen.getByText('Sanitize')).toBeInTheDocument();
        });
    });
    describe('useXSS', () => {
        it('应该抛出错误当在 XSSProvider 外使用', () => {
            const consoleError = jest.spyOn(console, 'error').mockImplementation();
            expect(() => {
                const TestComponentOutside = () => {
                    (0, XSSProtection_1.useXSS)();
                    return (0, jsx_runtime_1.jsx)("div", { children: "Test" });
                };
                (0, react_1.render)((0, jsx_runtime_1.jsx)(TestComponentOutside, {}));
            }).toThrow('useXSS must be used within an XSSProvider');
            consoleError.mockRestore();
        });
    });
    describe('SafeHTML', () => {
        it('应该安全渲染 HTML', async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: "<p>safe content</p>" }) }));
            await (0, react_1.waitFor)(() => {
                expect(dom_1.screen.getByText('safe content')).toBeInTheDocument();
            });
        });
        it('应该移除危险脚本', async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: "<script>alert('xss')</script><p>safe</p>" }) }));
            await (0, react_1.waitFor)(() => {
                expect(dom_1.screen.getByText('safe')).toBeInTheDocument();
                expect(document.querySelector('script')).not.toBeInTheDocument();
            });
        });
        it('应该支持自定义类名', async () => {
            const { container } = (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: "<p>test</p>", className: "custom-class" }) }));
            await (0, react_1.waitFor)(() => {
                expect(container.querySelector('.custom-class')).toBeInTheDocument();
            });
        });
        it('应该支持自定义标签', async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: "<p>test</p>", as: "span" }) }));
            await (0, react_1.waitFor)(() => {
                const element = document.querySelector('span');
                expect(element).toBeInTheDocument();
            });
        });
        it('应该支持自定义配置', async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: "<p>test</p>", config: { allowedTags: ['p'] } }) }));
            await (0, react_1.waitFor)(() => {
                expect(dom_1.screen.getByText('test')).toBeInTheDocument();
            });
        });
    });
    describe('SafeInput', () => {
        it('应该渲染输入框', () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeInput, { value: "test", onChange: jest.fn() }) }));
            const input = dom_1.screen.getByRole('textbox');
            expect(input).toBeInTheDocument();
            expect(input).toHaveValue('test');
        });
        it('应该支持 onChange 回调', async () => {
            const handleChange = jest.fn();
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeInput, { value: "", onChange: handleChange }) }));
            const input = dom_1.screen.getByRole('textbox');
            input.click();
            await (0, react_1.waitFor)(() => {
                input.value = 'new value';
                input.dispatchEvent(new Event('input', { bubbles: true }));
            });
        });
        it('应该支持 maxLength', () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeInput, { value: "test", onChange: jest.fn(), maxLength: 10 }) }));
            const input = dom_1.screen.getByRole('textbox');
            expect(input).toHaveAttribute('maxLength', '10');
        });
        it('应该支持 allowedPattern', () => {
            const pattern = /^[a-z]+$/;
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeInput, { value: "test", onChange: jest.fn(), allowedPattern: pattern }) }));
            expect(dom_1.screen.getByRole('textbox')).toBeInTheDocument();
        });
    });
    describe('createSafeURL', () => {
        it('应该返回安全的 URL', () => {
            expect((0, XSSProtection_1.createSafeURL)('https://example.com')).toBe('https://example.com');
            expect((0, XSSProtection_1.createSafeURL)('http://example.com')).toBe('http://example.com');
        });
        it('应该拒绝不安全的协议', () => {
            expect((0, XSSProtection_1.createSafeURL)('javascript:alert(1)')).toBeNull();
            expect((0, XSSProtection_1.createSafeURL)('data:text/html,<script>alert(1)</script>')).toBeNull();
        });
        it('应该支持自定义允许的协议', () => {
            expect((0, XSSProtection_1.createSafeURL)('mailto:test@example.com', ['mailto'])).toBe('mailto:test@example.com');
            expect((0, XSSProtection_1.createSafeURL)('tel:+1234567890', ['tel'])).toBe('tel:+1234567890');
        });
        it('应该处理无效 URL', () => {
            expect((0, XSSProtection_1.createSafeURL)('not a url')).toBeNull();
            expect((0, XSSProtection_1.createSafeURL)('')).toBeNull();
        });
    });
    describe('validateURL', () => {
        it('应该验证有效的 URL', () => {
            expect((0, XSSProtection_1.validateURL)('https://example.com')).toBe(true);
            expect((0, XSSProtection_1.validateURL)('http://example.com')).toBe(true);
            expect((0, XSSProtection_1.validateURL)('https://example.com/path?query=value')).toBe(true);
        });
        it('应该拒绝无效的 URL', () => {
            expect((0, XSSProtection_1.validateURL)('not a url')).toBe(false);
            expect((0, XSSProtection_1.validateURL)('')).toBe(false);
            expect((0, XSSProtection_1.validateURL)('javascript:alert(1)')).toBe(true);
        });
    });
    describe('sanitizeURL', () => {
        it('应该返回安全的 URL', () => {
            expect((0, XSSProtection_1.sanitizeURL)('https://example.com')).toBe('https://example.com');
        });
        it('应该返回 about:blank 对于不安全的 URL', () => {
            expect((0, XSSProtection_1.sanitizeURL)('javascript:alert(1)')).toBe('about:blank');
            expect((0, XSSProtection_1.sanitizeURL)('data:text/html,<script>alert(1)</script>')).toBe('about:blank');
        });
    });
    describe('escapeHTML', () => {
        it('应该转义 HTML 特殊字符', () => {
            expect((0, XSSProtection_1.escapeHTML)('<div>test</div>')).toBe('&lt;div&gt;test&lt;/div&gt;');
            expect((0, XSSProtection_1.escapeHTML)('&')).toBe('&amp;');
            expect((0, XSSProtection_1.escapeHTML)('"')).toBe('"');
            expect((0, XSSProtection_1.escapeHTML)("'")).toBe("'");
        });
        it('应该处理空字符串', () => {
            expect((0, XSSProtection_1.escapeHTML)('')).toBe('');
        });
        it('应该处理普通文本', () => {
            expect((0, XSSProtection_1.escapeHTML)('plain text')).toBe('plain text');
        });
    });
    describe('unescapeHTML', () => {
        it('应该反转义 HTML 特殊字符', () => {
            expect((0, XSSProtection_1.unescapeHTML)('&lt;div&gt;test&lt;/div&gt;')).toBe('<div>test</div>');
            expect((0, XSSProtection_1.unescapeHTML)('&amp;')).toBe('&');
            expect((0, XSSProtection_1.unescapeHTML)('&quot;')).toBe('"');
            expect((0, XSSProtection_1.unescapeHTML)('&#39;')).toBe("'");
        });
        it('应该处理空字符串', () => {
            expect((0, XSSProtection_1.unescapeHTML)('')).toBe('');
        });
        it('应该处理普通文本', () => {
            expect((0, XSSProtection_1.unescapeHTML)('plain text')).toBe('plain text');
        });
    });
    describe('sanitizeAttributeValue', () => {
        it('应该移除危险的 JavaScript 协议', () => {
            expect((0, XSSProtection_1.sanitizeAttributeValue)('href', 'javascript:alert(1)')).toBe('');
            expect((0, XSSProtection_1.sanitizeAttributeValue)('src', 'javascript:void(0)')).toBe('');
        });
        it('应该移除危险的 data 协议', () => {
            expect((0, XSSProtection_1.sanitizeAttributeValue)('src', 'data:text/html,<script>alert(1)</script>')).toBe('');
        });
        it('应该移除 vbscript 协议', () => {
            expect((0, XSSProtection_1.sanitizeAttributeValue)('href', 'vbscript:msgbox(1)')).toBe('');
        });
        it('应该移除事件处理器', () => {
            expect((0, XSSProtection_1.sanitizeAttributeValue)('onclick', 'onclick=alert(1)')).toBe('');
            expect((0, XSSProtection_1.sanitizeAttributeValue)('onload', 'onload=alert(1)')).toBe('');
            expect((0, XSSProtection_1.sanitizeAttributeValue)('onerror', 'onerror=alert(1)')).toBe('');
        });
        it('应该保留安全的属性值', () => {
            expect((0, XSSProtection_1.sanitizeAttributeValue)('href', 'https://example.com')).toBe('https://example.com');
            expect((0, XSSProtection_1.sanitizeAttributeValue)('class', 'test-class')).toBe('test-class');
            expect((0, XSSProtection_1.sanitizeAttributeValue)('id', 'test-id')).toBe('test-id');
        });
    });
    describe('createStrictConfig', () => {
        it('应该创建严格的配置', () => {
            const config = (0, XSSProtection_1.createStrictConfig)();
            expect(config.allowedTags).toContain('p');
            expect(config.allowedTags).toContain('br');
            expect(config.allowedTags).not.toContain('script');
            expect(config.allowedTags).not.toContain('iframe');
        });
        it('应该限制允许的协议', () => {
            const config = (0, XSSProtection_1.createStrictConfig)();
            expect(config.allowedSchemes).toContain('https');
            expect(config.allowedSchemes).toContain('mailto');
            expect(config.allowedSchemes).not.toContain('javascript');
        });
    });
    describe('createModerateConfig', () => {
        it('应该创建中等配置', () => {
            const config = (0, XSSProtection_1.createModerateConfig)();
            expect(config.allowedTags).toContain('p');
            expect(config.allowedTags).toContain('div');
            expect(config.allowedTags).toContain('a');
        });
    });
    describe('createPermissiveConfig', () => {
        it('应该创建宽松配置', () => {
            const config = (0, XSSProtection_1.createPermissiveConfig)();
            expect(config.allowCustomElements).toBe(true);
            expect(config.allowComments).toBe(true);
            expect(config.allowUnknownMarkup).toBe(true);
        });
    });
    describe('withXSSProtection', () => {
        it('应该包装组件并添加 XSS 保护', () => {
            const TestComponent = () => (0, jsx_runtime_1.jsx)("div", { children: "Test" });
            const ProtectedComponent = (0, XSSProtection_1.withXSSProtection)(TestComponent);
            (0, react_1.render)((0, jsx_runtime_1.jsx)(ProtectedComponent, {}));
            expect(dom_1.screen.getByText('Test')).toBeInTheDocument();
        });
        it('应该支持自定义配置', () => {
            const TestComponent = () => (0, jsx_runtime_1.jsx)("div", { children: "Test" });
            const customConfig = { allowedTags: ['p'] };
            const ProtectedComponent = (0, XSSProtection_1.withXSSProtection)(TestComponent, customConfig);
            (0, react_1.render)((0, jsx_runtime_1.jsx)(ProtectedComponent, {}));
            expect(dom_1.screen.getByText('Test')).toBeInTheDocument();
        });
        it('应该设置正确的显示名称', () => {
            const TestComponent = () => (0, jsx_runtime_1.jsx)("div", { children: "Test" });
            TestComponent.displayName = 'TestComponent';
            const ProtectedComponent = (0, XSSProtection_1.withXSSProtection)(TestComponent);
            expect(ProtectedComponent.displayName).toBe('withXSSProtection(TestComponent)');
        });
    });
    describe('XSS 攻击防护', () => {
        it('应该阻止脚本注入', async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: "<script>alert('xss')</script><p>safe</p>" }) }));
            await (0, react_1.waitFor)(() => {
                expect(document.querySelector('script')).not.toBeInTheDocument();
            });
        });
        it('应该阻止事件处理器', async () => {
            const xssHtml = `<div onclick="alert('xss')">click me</div>`;
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: xssHtml }) }));
            await (0, react_1.waitFor)(() => {
                const div = document.querySelector('div');
                expect(div).not.toHaveAttribute('onclick');
            });
        });
        it('应该阻止 javascript: 协议', async () => {
            const xssHtml = `<a href="javascript:alert('xss')">link</a>`;
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: xssHtml }) }));
            await (0, react_1.waitFor)(() => {
                const link = document.querySelector('a');
                expect(link).not.toHaveAttribute('href', expect.stringContaining('javascript:'));
            });
        });
        it('应该阻止 data: 协议的 HTML', async () => {
            const xssHtml = `<iframe src="data:text/html,&lt;script&gt;alert('xss')&lt;/script&gt;"></iframe>`;
            (0, react_1.render)((0, jsx_runtime_1.jsx)(XSSProtection_1.XSSProvider, { children: (0, jsx_runtime_1.jsx)(XSSProtection_1.SafeHTML, { html: xssHtml }) }));
            await (0, react_1.waitFor)(() => {
                const iframe = document.querySelector('iframe');
                expect(iframe).toBeNull();
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL3NlY3VyaXR5L1hTU1Byb3RlY3Rpb24udGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7R0FPRztBQUVILDZDQUErQjtBQUMvQixrREFBb0U7QUFDcEUsOENBQThDO0FBRTlDLHFDQUFtQztBQUNuQyxtREFleUI7QUFFekIsTUFBTSxhQUFhLEdBQUcsR0FBRyxFQUFFO0lBQ3pCLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBQSxzQkFBTSxHQUFFLENBQUM7SUFDdEMsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JELE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUU5QyxNQUFNLGNBQWMsR0FBRyxLQUFLLElBQUksRUFBRTtRQUNoQyxNQUFNLE1BQU0sR0FBRyxNQUFNLFFBQVEsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO1FBQzFFLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QixDQUFDLENBQUM7SUFFRixNQUFNLGVBQWUsR0FBRyxLQUFLLElBQUksRUFBRTtRQUNqQyxNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMzQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEIsQ0FBQyxDQUFDO0lBRUYsT0FBTyxDQUNMLDRDQUNFLG1DQUFRLE9BQU8sRUFBRSxjQUFjLHlCQUFtQixFQUNsRCxtQ0FBUSxPQUFPLEVBQUUsZUFBZSwyQkFBcUIsRUFDckQsK0NBQWlCLFdBQVcsWUFBRSxTQUFTLEdBQU8sRUFDOUMsK0NBQWlCLE1BQU0sWUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxHQUFPLElBQ25ELENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO0lBQzdCLFFBQVEsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1FBQzNCLEVBQUUsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO1lBQ3RCLElBQUEsY0FBTSxFQUNKLHVCQUFDLDJCQUFXLGNBQ1YsdUJBQUMsYUFBYSxLQUFHLEdBQ0wsQ0FDZixDQUFDO1lBQ0YsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO1lBQ25CLE1BQU0sWUFBWSxHQUFHO2dCQUNuQixXQUFXLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDO2dCQUMxQixpQkFBaUIsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2FBQ3BDLENBQUM7WUFDRixJQUFBLGNBQU0sRUFDSix1QkFBQywyQkFBVyxJQUFDLE1BQU0sRUFBRSxZQUFZLFlBQy9CLHVCQUFDLGFBQWEsS0FBRyxHQUNMLENBQ2YsQ0FBQztZQUNGLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUMzRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7UUFDdEIsRUFBRSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtZQUNsQyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQ3ZFLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ1YsTUFBTSxvQkFBb0IsR0FBRyxHQUFHLEVBQUU7b0JBQ2hDLElBQUEsc0JBQU0sR0FBRSxDQUFDO29CQUNULE9BQU8sbURBQWUsQ0FBQztnQkFDekIsQ0FBQyxDQUFDO2dCQUNGLElBQUEsY0FBTSxFQUFDLHVCQUFDLG9CQUFvQixLQUFHLENBQUMsQ0FBQztZQUNuQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsMkNBQTJDLENBQUMsQ0FBQztZQUN4RCxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBQ3hCLEVBQUUsQ0FBQyxhQUFhLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDM0IsSUFBQSxjQUFNLEVBQ0osdUJBQUMsMkJBQVcsY0FDVix1QkFBQyx3QkFBUSxJQUFDLElBQUksRUFBQyxxQkFBcUIsR0FBRyxHQUMzQixDQUNmLENBQUM7WUFDRixNQUFNLElBQUEsZUFBTyxFQUFDLEdBQUcsRUFBRTtnQkFDakIsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQy9ELENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsVUFBVSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3hCLElBQUEsY0FBTSxFQUNKLHVCQUFDLDJCQUFXLGNBQ1YsdUJBQUMsd0JBQVEsSUFBQyxJQUFJLEVBQUMsMENBQTBDLEdBQUcsR0FDaEQsQ0FDZixDQUFDO1lBQ0YsTUFBTSxJQUFBLGVBQU8sRUFBQyxHQUFHLEVBQUU7Z0JBQ2pCLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDckQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUNuRSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN6QixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQzFCLHVCQUFDLDJCQUFXLGNBQ1YsdUJBQUMsd0JBQVEsSUFBQyxJQUFJLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsR0FDNUMsQ0FDZixDQUFDO1lBQ0YsTUFBTSxJQUFBLGVBQU8sRUFBQyxHQUFHLEVBQUU7Z0JBQ2pCLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN2RSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN6QixJQUFBLGNBQU0sRUFDSix1QkFBQywyQkFBVyxjQUNWLHVCQUFDLHdCQUFRLElBQUMsSUFBSSxFQUFDLGFBQWEsRUFBQyxFQUFFLEVBQUMsTUFBTSxHQUFHLEdBQzdCLENBQ2YsQ0FBQztZQUNGLE1BQU0sSUFBQSxlQUFPLEVBQUMsR0FBRyxFQUFFO2dCQUNqQixNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMvQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN0QyxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN6QixJQUFBLGNBQU0sRUFDSix1QkFBQywyQkFBVyxjQUNWLHVCQUFDLHdCQUFRLElBQUMsSUFBSSxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFJLEdBQ25ELENBQ2YsQ0FBQztZQUNGLE1BQU0sSUFBQSxlQUFPLEVBQUMsR0FBRyxFQUFFO2dCQUNqQixNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDdkQsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7UUFDekIsRUFBRSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7WUFDakIsSUFBQSxjQUFNLEVBQ0osdUJBQUMsMkJBQVcsY0FDVix1QkFBQyx5QkFBUyxJQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBSSxHQUNuQyxDQUNmLENBQUM7WUFDRixNQUFNLEtBQUssR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDaEMsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQy9CLElBQUEsY0FBTSxFQUNKLHVCQUFDLDJCQUFXLGNBQ1YsdUJBQUMseUJBQVMsSUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBRSxZQUFZLEdBQUksR0FDbEMsQ0FDZixDQUFDO1lBQ0YsTUFBTSxLQUFLLEdBQUcsWUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMxQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDZCxNQUFNLElBQUEsZUFBTyxFQUFDLEdBQUcsRUFBRTtnQkFDaEIsS0FBMEIsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDO2dCQUNoRCxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7WUFDeEIsSUFBQSxjQUFNLEVBQ0osdUJBQUMsMkJBQVcsY0FDVix1QkFBQyx5QkFBUyxJQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxHQUFJLEdBQ2xELENBQ2YsQ0FBQztZQUNGLE1BQU0sS0FBSyxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDMUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1lBQzdCLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQztZQUMzQixJQUFBLGNBQU0sRUFDSix1QkFBQywyQkFBVyxjQUNWLHVCQUFDLHlCQUFTLElBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxPQUFPLEdBQUksR0FDNUQsQ0FDZixDQUFDO1lBQ0YsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtRQUM3QixFQUFFLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtZQUNyQixNQUFNLENBQUMsSUFBQSw2QkFBYSxFQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUN6RSxNQUFNLENBQUMsSUFBQSw2QkFBYSxFQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUN6RSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO1lBQ3BCLE1BQU0sQ0FBQyxJQUFBLDZCQUFhLEVBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxJQUFBLDZCQUFhLEVBQUMsMENBQTBDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQy9FLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUU7WUFDdEIsTUFBTSxDQUFDLElBQUEsNkJBQWEsRUFBQyx5QkFBeUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUM3RixNQUFNLENBQUMsSUFBQSw2QkFBYSxFQUFDLGlCQUFpQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzVFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7WUFDcEIsTUFBTSxDQUFDLElBQUEsNkJBQWEsRUFBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxJQUFBLDZCQUFhLEVBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7UUFDM0IsRUFBRSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7WUFDckIsTUFBTSxDQUFDLElBQUEsMkJBQVcsRUFBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3RELE1BQU0sQ0FBQyxJQUFBLDJCQUFXLEVBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyRCxNQUFNLENBQUMsSUFBQSwyQkFBVyxFQUFDLHNDQUFzQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtZQUNyQixNQUFNLENBQUMsSUFBQSwyQkFBVyxFQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxJQUFBLDJCQUFXLEVBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLElBQUEsMkJBQVcsRUFBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUMzQixFQUFFLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtZQUNyQixNQUFNLENBQUMsSUFBQSwyQkFBVyxFQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUN6RSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7WUFDckMsTUFBTSxDQUFDLElBQUEsMkJBQVcsRUFBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxJQUFBLDJCQUFXLEVBQUMsMENBQTBDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0RixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7UUFDMUIsRUFBRSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtZQUN4QixNQUFNLENBQUMsSUFBQSwwQkFBVSxFQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztZQUMxRSxNQUFNLENBQUMsSUFBQSwwQkFBVSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxJQUFBLDBCQUFVLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLElBQUEsMEJBQVUsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLE1BQU0sQ0FBQyxJQUFBLDBCQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUNsQixNQUFNLENBQUMsSUFBQSwwQkFBVSxFQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRTtRQUM1QixFQUFFLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1lBQ3pCLE1BQU0sQ0FBQyxJQUFBLDRCQUFZLEVBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQzVFLE1BQU0sQ0FBQyxJQUFBLDRCQUFZLEVBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLElBQUEsNEJBQVksRUFBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUMsSUFBQSw0QkFBWSxFQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7WUFDbEIsTUFBTSxDQUFDLElBQUEsNEJBQVksRUFBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLE1BQU0sQ0FBQyxJQUFBLDRCQUFZLEVBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7UUFDdEMsRUFBRSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtZQUMvQixNQUFNLENBQUMsSUFBQSxzQ0FBc0IsRUFBQyxNQUFNLEVBQUUscUJBQXFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN2RSxNQUFNLENBQUMsSUFBQSxzQ0FBc0IsRUFBQyxLQUFLLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2RSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7WUFDekIsTUFBTSxDQUFDLElBQUEsc0NBQXNCLEVBQUMsS0FBSyxFQUFFLDBDQUEwQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDN0YsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO1lBQzFCLE1BQU0sQ0FBQyxJQUFBLHNDQUFzQixFQUFDLE1BQU0sRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7WUFDbkIsTUFBTSxDQUFDLElBQUEsc0NBQXNCLEVBQUMsU0FBUyxFQUFFLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdkUsTUFBTSxDQUFDLElBQUEsc0NBQXNCLEVBQUMsUUFBUSxFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDckUsTUFBTSxDQUFDLElBQUEsc0NBQXNCLEVBQUMsU0FBUyxFQUFFLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtZQUNwQixNQUFNLENBQUMsSUFBQSxzQ0FBc0IsRUFBQyxNQUFNLEVBQUUscUJBQXFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQzFGLE1BQU0sQ0FBQyxJQUFBLHNDQUFzQixFQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN6RSxNQUFNLENBQUMsSUFBQSxzQ0FBc0IsRUFBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7UUFDbEMsRUFBRSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7WUFDbkIsTUFBTSxNQUFNLEdBQUcsSUFBQSxrQ0FBa0IsR0FBRSxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNuRCxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRTtZQUNuQixNQUFNLE1BQU0sR0FBRyxJQUFBLGtDQUFrQixHQUFFLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDakQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzVELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1FBQ3BDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUEsb0NBQW9CLEdBQUUsQ0FBQztZQUN0QyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHdCQUF3QixFQUFFLEdBQUcsRUFBRTtRQUN0QyxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUNsQixNQUFNLE1BQU0sR0FBRyxJQUFBLHNDQUFzQixHQUFFLENBQUM7WUFDeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDMUIsTUFBTSxhQUFhLEdBQUcsR0FBRyxFQUFFLENBQUMsbURBQWUsQ0FBQztZQUM1QyxNQUFNLGtCQUFrQixHQUFHLElBQUEsaUNBQWlCLEVBQUMsYUFBYSxDQUFDLENBQUM7WUFDNUQsSUFBQSxjQUFNLEVBQUMsdUJBQUMsa0JBQWtCLEtBQUcsQ0FBQyxDQUFDO1lBQy9CLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO1lBQ25CLE1BQU0sYUFBYSxHQUFHLEdBQUcsRUFBRSxDQUFDLG1EQUFlLENBQUM7WUFDNUMsTUFBTSxZQUFZLEdBQUcsRUFBRSxXQUFXLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzVDLE1BQU0sa0JBQWtCLEdBQUcsSUFBQSxpQ0FBaUIsRUFBQyxhQUFhLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDMUUsSUFBQSxjQUFNLEVBQUMsdUJBQUMsa0JBQWtCLEtBQUcsQ0FBQyxDQUFDO1lBQy9CLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1lBQ3JCLE1BQU0sYUFBYSxHQUFHLEdBQUcsRUFBRSxDQUFDLG1EQUFlLENBQUM7WUFDNUMsYUFBYSxDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUM7WUFDNUMsTUFBTSxrQkFBa0IsR0FBRyxJQUFBLGlDQUFpQixFQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQztRQUNsRixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7UUFDeEIsRUFBRSxDQUFDLFVBQVUsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN4QixJQUFBLGNBQU0sRUFDSix1QkFBQywyQkFBVyxjQUNWLHVCQUFDLHdCQUFRLElBQUMsSUFBSSxFQUFDLDBDQUEwQyxHQUFHLEdBQ2hELENBQ2YsQ0FBQztZQUNGLE1BQU0sSUFBQSxlQUFPLEVBQUMsR0FBRyxFQUFFO2dCQUNqQixNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ25FLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3pCLE1BQU0sT0FBTyxHQUFHLDRDQUE0QyxDQUFDO1lBQzdELElBQUEsY0FBTSxFQUNKLHVCQUFDLDJCQUFXLGNBQ1YsdUJBQUMsd0JBQVEsSUFBQyxJQUFJLEVBQUUsT0FBTyxHQUFJLEdBQ2YsQ0FDZixDQUFDO1lBQ0YsTUFBTSxJQUFBLGVBQU8sRUFBQyxHQUFHLEVBQUU7Z0JBQ2pCLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzdDLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUJBQXFCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbkMsTUFBTSxPQUFPLEdBQUcsNENBQTRDLENBQUM7WUFDN0QsSUFBQSxjQUFNLEVBQ0osdUJBQUMsMkJBQVcsY0FDVix1QkFBQyx3QkFBUSxJQUFDLElBQUksRUFBRSxPQUFPLEdBQUksR0FDZixDQUNmLENBQUM7WUFDRixNQUFNLElBQUEsZUFBTyxFQUFDLEdBQUcsRUFBRTtnQkFDakIsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDekMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1lBQ25GLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUJBQXFCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbkMsTUFBTSxPQUFPLEdBQUcsa0ZBQWtGLENBQUM7WUFDbkcsSUFBQSxjQUFNLEVBQ0osdUJBQUMsMkJBQVcsY0FDVix1QkFBQyx3QkFBUSxJQUFDLElBQUksRUFBRSxPQUFPLEdBQUksR0FDZixDQUNmLENBQUM7WUFDRixNQUFNLElBQUEsZUFBTyxFQUFDLEdBQUcsRUFBRTtnQkFDakIsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQzVCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW55dS9Eb3dubG9hZHMveXljMy1EZXNpZ24tU3lzdGVtL3NyYy9zZWN1cml0eS9YU1NQcm90ZWN0aW9uLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgWFNTIOmYsuaKpOaooeWdl+a1i+ivlVxuICogQGRlc2NyaXB0aW9uIOa1i+ivlSBYU1NQcm90ZWN0aW9uIOe7hOS7tueahOWQhOmhueWKn+iDvVxuICogQG1vZHVsZSBfX3Rlc3RzX18vc2VjdXJpdHkvWFNTUHJvdGVjdGlvbi50ZXN0XG4gKiBAYXV0aG9yIFlZQ8KzXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGNyZWF0ZWQgMjAyNi0wMi0yMVxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBzY3JlZW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L2RvbSc7XG5cbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQge1xuICBYU1NQcm92aWRlcixcbiAgdXNlWFNTLFxuICBTYWZlSFRNTCxcbiAgU2FmZUlucHV0LFxuICBjcmVhdGVTYWZlVVJMLFxuICB2YWxpZGF0ZVVSTCxcbiAgc2FuaXRpemVVUkwsXG4gIGVzY2FwZUhUTUwsXG4gIHVuZXNjYXBlSFRNTCxcbiAgc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSxcbiAgY3JlYXRlU3RyaWN0Q29uZmlnLFxuICBjcmVhdGVNb2RlcmF0ZUNvbmZpZyxcbiAgY3JlYXRlUGVybWlzc2l2ZUNvbmZpZyxcbiAgd2l0aFhTU1Byb3RlY3Rpb24sXG59IGZyb20gJy4vWFNTUHJvdGVjdGlvbic7XG5cbmNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XG4gIGNvbnN0IHsgc2FuaXRpemUsIGlzU2FmZSB9ID0gdXNlWFNTKCk7XG4gIGNvbnN0IFtzYW5pdGl6ZWQsIHNldFNhbml0aXplZF0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzYWZlLCBzZXRTYWZlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVTYW5pdGl6ZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5pdGl6ZSgnPHNjcmlwdD5hbGVydChcInhzc1wiKTwvc2NyaXB0PjxwPnNhZmU8L3A+Jyk7XG4gICAgc2V0U2FuaXRpemVkKHJlc3VsdCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tTYWZlID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGlzU2FmZSgnPHA+c2FmZTwvcD4nKTtcbiAgICBzZXRTYWZlKHJlc3VsdCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTYW5pdGl6ZX0+U2FuaXRpemU8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2hlY2tTYWZlfT5DaGVjayBTYWZlPC9idXR0b24+XG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwic2FuaXRpemVkXCI+e3Nhbml0aXplZH08L2Rpdj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJzYWZlXCI+e3NhZmUgPyAndHJ1ZScgOiAnZmFsc2UnfTwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZGVzY3JpYmUoJ1hTU1Byb3RlY3Rpb24nLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdYU1NQcm92aWRlcicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5o+Q5L6bIFhTUyDkuIrkuIvmlocnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8VGVzdENvbXBvbmVudCAvPlxuICAgICAgICA8L1hTU1Byb3ZpZGVyPlxuICAgICAgKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYW5pdGl6ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NoZWNrIFNhZmUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XmlK/mjIHoh6rlrprkuYnphY3nva4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21Db25maWcgPSB7XG4gICAgICAgIGFsbG93ZWRUYWdzOiBbJ3AnLCAnc3BhbiddLFxuICAgICAgICBhbGxvd2VkQXR0cmlidXRlczogeyBwOiBbJ2NsYXNzJ10gfSxcbiAgICAgIH07XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlciBjb25maWc9e2N1c3RvbUNvbmZpZ30+XG4gICAgICAgICAgPFRlc3RDb21wb25lbnQgLz5cbiAgICAgICAgPC9YU1NQcm92aWRlcj5cbiAgICAgICk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2FuaXRpemUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VzZVhTUycsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5oqb5Ye66ZSZ6K+v5b2T5ZyoIFhTU1Byb3ZpZGVyIOWkluS9v+eUqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnNvbGVFcnJvciA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBUZXN0Q29tcG9uZW50T3V0c2lkZSA9ICgpID0+IHtcbiAgICAgICAgICB1c2VYU1MoKTtcbiAgICAgICAgICByZXR1cm4gPGRpdj5UZXN0PC9kaXY+O1xuICAgICAgICB9O1xuICAgICAgICByZW5kZXIoPFRlc3RDb21wb25lbnRPdXRzaWRlIC8+KTtcbiAgICAgIH0pLnRvVGhyb3coJ3VzZVhTUyBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIFhTU1Byb3ZpZGVyJyk7XG4gICAgICBjb25zb2xlRXJyb3IubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NhZmVIVE1MJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XlronlhajmuLLmn5MgSFRNTCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFhTU1Byb3ZpZGVyPlxuICAgICAgICAgIDxTYWZlSFRNTCBodG1sPVwiPHA+c2FmZSBjb250ZW50PC9wPlwiIC8+XG4gICAgICAgIDwvWFNTUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdzYWZlIGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeenu+mZpOWNsemZqeiEmuacrCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFhTU1Byb3ZpZGVyPlxuICAgICAgICAgIDxTYWZlSFRNTCBodG1sPVwiPHNjcmlwdD5hbGVydCgneHNzJyk8L3NjcmlwdD48cD5zYWZlPC9wPlwiIC8+XG4gICAgICAgIDwvWFNTUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdzYWZlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHQnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XmlK/mjIHoh6rlrprkuYnnsbvlkI0nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKFxuICAgICAgICA8WFNTUHJvdmlkZXI+XG4gICAgICAgICAgPFNhZmVIVE1MIGh0bWw9XCI8cD50ZXN0PC9wPlwiIGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiIC8+XG4gICAgICAgIDwvWFNTUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChjb250YWluZXIucXVlcnlTZWxlY3RvcignLmN1c3RvbS1jbGFzcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5pSv5oyB6Ieq5a6a5LmJ5qCH562+JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8WFNTUHJvdmlkZXI+XG4gICAgICAgICAgPFNhZmVIVE1MIGh0bWw9XCI8cD50ZXN0PC9wPlwiIGFzPVwic3BhblwiIC8+XG4gICAgICAgIDwvWFNTUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5pSv5oyB6Ieq5a6a5LmJ6YWN572uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8WFNTUHJvdmlkZXI+XG4gICAgICAgICAgPFNhZmVIVE1MIGh0bWw9XCI8cD50ZXN0PC9wPlwiIGNvbmZpZz17eyBhbGxvd2VkVGFnczogWydwJ10gfX0gLz5cbiAgICAgICAgPC9YU1NQcm92aWRlcj5cbiAgICAgICk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3Rlc3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2FmZUlucHV0JywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmuLLmn5PovpPlhaXmoYYnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8U2FmZUlucHV0IHZhbHVlPVwidGVzdFwiIG9uQ2hhbmdlPXtqZXN0LmZuKCl9IC8+XG4gICAgICAgIDwvWFNTUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCd0ZXh0Ym94Jyk7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZVZhbHVlKCd0ZXN0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5pSv5oyBIG9uQ2hhbmdlIOWbnuiwgycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFhTU1Byb3ZpZGVyPlxuICAgICAgICAgIDxTYWZlSW5wdXQgdmFsdWU9XCJcIiBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICA8L1hTU1Byb3ZpZGVyPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgndGV4dGJveCcpO1xuICAgICAgaW5wdXQuY2xpY2soKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAoaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSAnbmV3IHZhbHVlJztcbiAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaUr+aMgSBtYXhMZW5ndGgnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8U2FmZUlucHV0IHZhbHVlPVwidGVzdFwiIG9uQ2hhbmdlPXtqZXN0LmZuKCl9IG1heExlbmd0aD17MTB9IC8+XG4gICAgICAgIDwvWFNTUHJvdmlkZXI+XG4gICAgICApO1xuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCd0ZXh0Ym94Jyk7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgnbWF4TGVuZ3RoJywgJzEwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5pSv5oyBIGFsbG93ZWRQYXR0ZXJuJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGF0dGVybiA9IC9eW2Etel0rJC87XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8U2FmZUlucHV0IHZhbHVlPVwidGVzdFwiIG9uQ2hhbmdlPXtqZXN0LmZuKCl9IGFsbG93ZWRQYXR0ZXJuPXtwYXR0ZXJufSAvPlxuICAgICAgICA8L1hTU1Byb3ZpZGVyPlxuICAgICAgKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCd0ZXh0Ym94JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGVTYWZlVVJMJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xov5Tlm57lronlhajnmoQgVVJMJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGNyZWF0ZVNhZmVVUkwoJ2h0dHBzOi8vZXhhbXBsZS5jb20nKSkudG9CZSgnaHR0cHM6Ly9leGFtcGxlLmNvbScpO1xuICAgICAgZXhwZWN0KGNyZWF0ZVNhZmVVUkwoJ2h0dHA6Ly9leGFtcGxlLmNvbScpKS50b0JlKCdodHRwOi8vZXhhbXBsZS5jb20nKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6Xmi5Lnu53kuI3lronlhajnmoTljY/orq4nLCAoKSA9PiB7XG4gICAgICBleHBlY3QoY3JlYXRlU2FmZVVSTCgnamF2YXNjcmlwdDphbGVydCgxKScpKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KGNyZWF0ZVNhZmVVUkwoJ2RhdGE6dGV4dC9odG1sLDxzY3JpcHQ+YWxlcnQoMSk8L3NjcmlwdD4nKSkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XmlK/mjIHoh6rlrprkuYnlhYHorrjnmoTljY/orq4nLCAoKSA9PiB7XG4gICAgICBleHBlY3QoY3JlYXRlU2FmZVVSTCgnbWFpbHRvOnRlc3RAZXhhbXBsZS5jb20nLCBbJ21haWx0byddKSkudG9CZSgnbWFpbHRvOnRlc3RAZXhhbXBsZS5jb20nKTtcbiAgICAgIGV4cGVjdChjcmVhdGVTYWZlVVJMKCd0ZWw6KzEyMzQ1Njc4OTAnLCBbJ3RlbCddKSkudG9CZSgndGVsOisxMjM0NTY3ODkwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5aSE55CG5peg5pWIIFVSTCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChjcmVhdGVTYWZlVVJMKCdub3QgYSB1cmwnKSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChjcmVhdGVTYWZlVVJMKCcnKSkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlVVJMJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xpqozor4HmnInmlYjnmoQgVVJMJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbGlkYXRlVVJMKCdodHRwczovL2V4YW1wbGUuY29tJykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGVVUkwoJ2h0dHA6Ly9leGFtcGxlLmNvbScpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRlVVJMKCdodHRwczovL2V4YW1wbGUuY29tL3BhdGg/cXVlcnk9dmFsdWUnKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6Xmi5Lnu53ml6DmlYjnmoQgVVJMJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbGlkYXRlVVJMKCdub3QgYSB1cmwnKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGVVUkwoJycpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZVVSTCgnamF2YXNjcmlwdDphbGVydCgxKScpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2FuaXRpemVVUkwnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpei/lOWbnuWuieWFqOeahCBVUkwnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2FuaXRpemVVUkwoJ2h0dHBzOi8vZXhhbXBsZS5jb20nKSkudG9CZSgnaHR0cHM6Ly9leGFtcGxlLmNvbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpei/lOWbniBhYm91dDpibGFuayDlr7nkuo7kuI3lronlhajnmoQgVVJMJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNhbml0aXplVVJMKCdqYXZhc2NyaXB0OmFsZXJ0KDEpJykpLnRvQmUoJ2Fib3V0OmJsYW5rJyk7XG4gICAgICBleHBlY3Qoc2FuaXRpemVVUkwoJ2RhdGE6dGV4dC9odG1sLDxzY3JpcHQ+YWxlcnQoMSk8L3NjcmlwdD4nKSkudG9CZSgnYWJvdXQ6YmxhbmsnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2VzY2FwZUhUTUwnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpei9rOS5iSBIVE1MIOeJueauiuWtl+espicsICgpID0+IHtcbiAgICAgIGV4cGVjdChlc2NhcGVIVE1MKCc8ZGl2PnRlc3Q8L2Rpdj4nKSkudG9CZSgnJmx0O2RpdiZndDt0ZXN0Jmx0Oy9kaXYmZ3Q7Jyk7XG4gICAgICBleHBlY3QoZXNjYXBlSFRNTCgnJicpKS50b0JlKCcmYW1wOycpO1xuICAgICAgZXhwZWN0KGVzY2FwZUhUTUwoJ1wiJykpLnRvQmUoJ1wiJyk7XG4gICAgICBleHBlY3QoZXNjYXBlSFRNTChcIidcIikpLnRvQmUoXCInXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuepuuWtl+espuS4sicsICgpID0+IHtcbiAgICAgIGV4cGVjdChlc2NhcGVIVE1MKCcnKSkudG9CZSgnJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5aSE55CG5pmu6YCa5paH5pysJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGVzY2FwZUhUTUwoJ3BsYWluIHRleHQnKSkudG9CZSgncGxhaW4gdGV4dCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndW5lc2NhcGVIVE1MJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xlj43ovazkuYkgSFRNTCDnibnmrorlrZfnrKYnLCAoKSA9PiB7XG4gICAgICBleHBlY3QodW5lc2NhcGVIVE1MKCcmbHQ7ZGl2Jmd0O3Rlc3QmbHQ7L2RpdiZndDsnKSkudG9CZSgnPGRpdj50ZXN0PC9kaXY+Jyk7XG4gICAgICBleHBlY3QodW5lc2NhcGVIVE1MKCcmYW1wOycpKS50b0JlKCcmJyk7XG4gICAgICBleHBlY3QodW5lc2NhcGVIVE1MKCcmcXVvdDsnKSkudG9CZSgnXCInKTtcbiAgICAgIGV4cGVjdCh1bmVzY2FwZUhUTUwoJyYjMzk7JykpLnRvQmUoXCInXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuepuuWtl+espuS4sicsICgpID0+IHtcbiAgICAgIGV4cGVjdCh1bmVzY2FwZUhUTUwoJycpKS50b0JlKCcnKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XlpITnkIbmma7pgJrmlofmnKwnLCAoKSA9PiB7XG4gICAgICBleHBlY3QodW5lc2NhcGVIVE1MKCdwbGFpbiB0ZXh0JykpLnRvQmUoJ3BsYWluIHRleHQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3Nhbml0aXplQXR0cmlidXRlVmFsdWUnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeenu+mZpOWNsemZqeeahCBKYXZhU2NyaXB0IOWNj+iuricsICgpID0+IHtcbiAgICAgIGV4cGVjdChzYW5pdGl6ZUF0dHJpYnV0ZVZhbHVlKCdocmVmJywgJ2phdmFzY3JpcHQ6YWxlcnQoMSknKSkudG9CZSgnJyk7XG4gICAgICBleHBlY3Qoc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSgnc3JjJywgJ2phdmFzY3JpcHQ6dm9pZCgwKScpKS50b0JlKCcnKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6Xnp7vpmaTljbHpmannmoQgZGF0YSDljY/orq4nLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSgnc3JjJywgJ2RhdGE6dGV4dC9odG1sLDxzY3JpcHQ+YWxlcnQoMSk8L3NjcmlwdD4nKSkudG9CZSgnJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l56e76ZmkIHZic2NyaXB0IOWNj+iuricsICgpID0+IHtcbiAgICAgIGV4cGVjdChzYW5pdGl6ZUF0dHJpYnV0ZVZhbHVlKCdocmVmJywgJ3Zic2NyaXB0Om1zZ2JveCgxKScpKS50b0JlKCcnKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6Xnp7vpmaTkuovku7blpITnkIblmagnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSgnb25jbGljaycsICdvbmNsaWNrPWFsZXJ0KDEpJykpLnRvQmUoJycpO1xuICAgICAgZXhwZWN0KHNhbml0aXplQXR0cmlidXRlVmFsdWUoJ29ubG9hZCcsICdvbmxvYWQ9YWxlcnQoMSknKSkudG9CZSgnJyk7XG4gICAgICBleHBlY3Qoc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSgnb25lcnJvcicsICdvbmVycm9yPWFsZXJ0KDEpJykpLnRvQmUoJycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeS/neeVmeWuieWFqOeahOWxnuaAp+WAvCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChzYW5pdGl6ZUF0dHJpYnV0ZVZhbHVlKCdocmVmJywgJ2h0dHBzOi8vZXhhbXBsZS5jb20nKSkudG9CZSgnaHR0cHM6Ly9leGFtcGxlLmNvbScpO1xuICAgICAgZXhwZWN0KHNhbml0aXplQXR0cmlidXRlVmFsdWUoJ2NsYXNzJywgJ3Rlc3QtY2xhc3MnKSkudG9CZSgndGVzdC1jbGFzcycpO1xuICAgICAgZXhwZWN0KHNhbml0aXplQXR0cmlidXRlVmFsdWUoJ2lkJywgJ3Rlc3QtaWQnKSkudG9CZSgndGVzdC1pZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY3JlYXRlU3RyaWN0Q29uZmlnJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XliJvlu7rkuKXmoLznmoTphY3nva4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWcgPSBjcmVhdGVTdHJpY3RDb25maWcoKTtcbiAgICAgIGV4cGVjdChjb25maWcuYWxsb3dlZFRhZ3MpLnRvQ29udGFpbigncCcpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5hbGxvd2VkVGFncykudG9Db250YWluKCdicicpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5hbGxvd2VkVGFncykubm90LnRvQ29udGFpbignc2NyaXB0Jyk7XG4gICAgICBleHBlY3QoY29uZmlnLmFsbG93ZWRUYWdzKS5ub3QudG9Db250YWluKCdpZnJhbWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XpmZDliLblhYHorrjnmoTljY/orq4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWcgPSBjcmVhdGVTdHJpY3RDb25maWcoKTtcbiAgICAgIGV4cGVjdChjb25maWcuYWxsb3dlZFNjaGVtZXMpLnRvQ29udGFpbignaHR0cHMnKTtcbiAgICAgIGV4cGVjdChjb25maWcuYWxsb3dlZFNjaGVtZXMpLnRvQ29udGFpbignbWFpbHRvJyk7XG4gICAgICBleHBlY3QoY29uZmlnLmFsbG93ZWRTY2hlbWVzKS5ub3QudG9Db250YWluKCdqYXZhc2NyaXB0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGVNb2RlcmF0ZUNvbmZpZycsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5Yib5bu65Lit562J6YWN572uJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnID0gY3JlYXRlTW9kZXJhdGVDb25maWcoKTtcbiAgICAgIGV4cGVjdChjb25maWcuYWxsb3dlZFRhZ3MpLnRvQ29udGFpbigncCcpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5hbGxvd2VkVGFncykudG9Db250YWluKCdkaXYnKTtcbiAgICAgIGV4cGVjdChjb25maWcuYWxsb3dlZFRhZ3MpLnRvQ29udGFpbignYScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY3JlYXRlUGVybWlzc2l2ZUNvbmZpZycsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5Yib5bu65a695p2+6YWN572uJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnID0gY3JlYXRlUGVybWlzc2l2ZUNvbmZpZygpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5hbGxvd0N1c3RvbUVsZW1lbnRzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5hbGxvd0NvbW1lbnRzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5hbGxvd1Vua25vd25NYXJrdXApLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd3aXRoWFNTUHJvdGVjdGlvbicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5YyF6KOF57uE5Lu25bm25re75YqgIFhTUyDkv53miqQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4gPGRpdj5UZXN0PC9kaXY+O1xuICAgICAgY29uc3QgUHJvdGVjdGVkQ29tcG9uZW50ID0gd2l0aFhTU1Byb3RlY3Rpb24oVGVzdENvbXBvbmVudCk7XG4gICAgICByZW5kZXIoPFByb3RlY3RlZENvbXBvbmVudCAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaUr+aMgeiHquWumuS5iemFjee9ricsICgpID0+IHtcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiA8ZGl2PlRlc3Q8L2Rpdj47XG4gICAgICBjb25zdCBjdXN0b21Db25maWcgPSB7IGFsbG93ZWRUYWdzOiBbJ3AnXSB9O1xuICAgICAgY29uc3QgUHJvdGVjdGVkQ29tcG9uZW50ID0gd2l0aFhTU1Byb3RlY3Rpb24oVGVzdENvbXBvbmVudCwgY3VzdG9tQ29uZmlnKTtcbiAgICAgIHJlbmRlcig8UHJvdGVjdGVkQ29tcG9uZW50IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l6K6+572u5q2j56Gu55qE5pi+56S65ZCN56ewJywgKCkgPT4ge1xuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IDxkaXY+VGVzdDwvZGl2PjtcbiAgICAgIFRlc3RDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnVGVzdENvbXBvbmVudCc7XG4gICAgICBjb25zdCBQcm90ZWN0ZWRDb21wb25lbnQgPSB3aXRoWFNTUHJvdGVjdGlvbihUZXN0Q29tcG9uZW50KTtcbiAgICAgIGV4cGVjdChQcm90ZWN0ZWRDb21wb25lbnQuZGlzcGxheU5hbWUpLnRvQmUoJ3dpdGhYU1NQcm90ZWN0aW9uKFRlc3RDb21wb25lbnQpJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdYU1Mg5pS75Ye76Ziy5oqkJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XpmLvmraLohJrmnKzms6jlhaUnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8U2FmZUhUTUwgaHRtbD1cIjxzY3JpcHQ+YWxlcnQoJ3hzcycpPC9zY3JpcHQ+PHA+c2FmZTwvcD5cIiAvPlxuICAgICAgICA8L1hTU1Byb3ZpZGVyPlxuICAgICAgKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l6Zi75q2i5LqL5Lu25aSE55CG5ZmoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeHNzSHRtbCA9IGA8ZGl2IG9uY2xpY2s9XCJhbGVydCgneHNzJylcIj5jbGljayBtZTwvZGl2PmA7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8U2FmZUhUTUwgaHRtbD17eHNzSHRtbH0gLz5cbiAgICAgICAgPC9YU1NQcm92aWRlcj5cbiAgICAgICk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gICAgICAgIGV4cGVjdChkaXYpLm5vdC50b0hhdmVBdHRyaWJ1dGUoJ29uY2xpY2snKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpemYu+atoiBqYXZhc2NyaXB0OiDljY/orq4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB4c3NIdG1sID0gYDxhIGhyZWY9XCJqYXZhc2NyaXB0OmFsZXJ0KCd4c3MnKVwiPmxpbms8L2E+YDtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFhTU1Byb3ZpZGVyPlxuICAgICAgICAgIDxTYWZlSFRNTCBodG1sPXt4c3NIdG1sfSAvPlxuICAgICAgICA8L1hTU1Byb3ZpZGVyPlxuICAgICAgKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYScpO1xuICAgICAgICBleHBlY3QobGluaykubm90LnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdqYXZhc2NyaXB0OicpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpemYu+atoiBkYXRhOiDljY/orq7nmoQgSFRNTCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHhzc0h0bWwgPSBgPGlmcmFtZSBzcmM9XCJkYXRhOnRleHQvaHRtbCwmbHQ7c2NyaXB0Jmd0O2FsZXJ0KCd4c3MnKSZsdDsvc2NyaXB0Jmd0O1wiPjwvaWZyYW1lPmA7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxYU1NQcm92aWRlcj5cbiAgICAgICAgICA8U2FmZUhUTUwgaHRtbD17eHNzSHRtbH0gLz5cbiAgICAgICAgPC9YU1NQcm92aWRlcj5cbiAgICAgICk7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG4gICAgICAgIGV4cGVjdChpZnJhbWUpLnRvQmVOdWxsKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==