{"version":3,"names":["cov_scof968ig","actualCoverage","s","VersionHistoryComparer","constructor","f","versions","maxVersions","saveVersion","tokens","name","description","version","id","Date","now","b","length","timestamp","JSON","parse","stringify","push","shift","persistVersions","getVersions","sort","a","getVersion","find","v","deleteVersion","filter","compareVersions","versionId1","versionId2","version1","version2","changes","calculateChanges","added","removed","modified","summary","totalChanges","addedCount","removedCount","modifiedCount","compareWithLatest","latestVersion","compareWithProjects","currentTokens","projects","map","project","commonTokens","uniqueToProject","uniqueToCurrent","valueDifferences","allKeys","Set","Object","keys","forEach","key","existsInCurrent","existsInProject","currentValue","projectValue","difference","calculateValueDifference","category","categorizeToken","consistencyScore","calculateConsistencyScore","projectName","projectTokens","tokens1","tokens2","keys1","keys2","has","type","newValue","impact","calculateImpact","oldValue","startsWith","value","value1","value2","Math","abs","max","calculateColorDifference","color1","color2","rgb1","hexToRgb","rgb2","dr","r","dg","g","db","sqrt","commonCount","totalTokens","commonRatio","uniquePenalty","differencePenalty","score","min","hex","result","exec","parseInt","localStorage","setItem","console","warn","loadPersistedVersions","stored","getItem","error","clearVersions","removeItem","exportVersions","importVersions","json","Error","exports","versionHistoryComparer"],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/ai/version-history-comparer.ts"],"sourcesContent":["import { DesignTokens } from '../types/global';\n\nexport interface TokenVersion {\n  id: string;\n  name: string;\n  timestamp: number;\n  tokens: DesignTokens;\n  description?: string;\n}\n\nexport interface VersionComparison {\n  version1: TokenVersion;\n  version2: TokenVersion;\n  added: TokenChange[];\n  removed: TokenChange[];\n  modified: TokenChange[];\n  summary: {\n    totalChanges: number;\n    addedCount: number;\n    removedCount: number;\n    modifiedCount: number;\n  };\n}\n\nexport interface TokenChange {\n  key: string;\n  type: 'added' | 'removed' | 'modified';\n  oldValue?: any;\n  newValue?: any;\n  category: 'color' | 'spacing' | 'typography' | 'shadow' | 'other';\n  impact: 'high' | 'medium' | 'low';\n}\n\nexport interface CrossProjectComparison {\n  projectName: string;\n  projectTokens: DesignTokens;\n  commonTokens: string[];\n  uniqueToProject: string[];\n  uniqueToCurrent: string[];\n  valueDifferences: TokenValueDifference[];\n  consistencyScore: number;\n}\n\nexport interface TokenValueDifference {\n  key: string;\n  currentValue: any;\n  projectValue: any;\n  difference: number;\n  category: 'color' | 'spacing' | 'typography' | 'shadow' | 'other';\n}\n\nexport class VersionHistoryComparer {\n  private versions: TokenVersion[] = [];\n  private maxVersions = 50;\n\n  saveVersion(tokens: DesignTokens, name?: string, description?: string): TokenVersion {\n    const version: TokenVersion = {\n      id: `v${Date.now()}`,\n      name: name || `Version ${this.versions.length + 1}`,\n      timestamp: Date.now(),\n      tokens: JSON.parse(JSON.stringify(tokens)),\n      description,\n    };\n\n    this.versions.push(version);\n\n    if (this.versions.length > this.maxVersions) {\n      this.versions.shift();\n    }\n\n    this.persistVersions();\n\n    return version;\n  }\n\n  getVersions(): TokenVersion[] {\n    return [...this.versions].sort((a, b) => b.timestamp - a.timestamp);\n  }\n\n  getVersion(id: string): TokenVersion | undefined {\n    return this.versions.find((v) => v.id === id);\n  }\n\n  deleteVersion(id: string): void {\n    this.versions = this.versions.filter((v) => v.id !== id);\n    this.persistVersions();\n  }\n\n  compareVersions(versionId1: string, versionId2: string): VersionComparison | null {\n    const version1 = this.getVersion(versionId1);\n    const version2 = this.getVersion(versionId2);\n\n    if (!version1 || !version2) {\n      return null;\n    }\n\n    const changes = this.calculateChanges(version1.tokens, version2.tokens);\n\n    return {\n      version1,\n      version2,\n      added: changes.added,\n      removed: changes.removed,\n      modified: changes.modified,\n      summary: {\n        totalChanges: changes.added.length + changes.removed.length + changes.modified.length,\n        addedCount: changes.added.length,\n        removedCount: changes.removed.length,\n        modifiedCount: changes.modified.length,\n      },\n    };\n  }\n\n  compareWithLatest(tokens: DesignTokens): VersionComparison | null {\n    const latestVersion = this.versions[this.versions.length - 1];\n\n    if (!latestVersion) {\n      return null;\n    }\n\n    const changes = this.calculateChanges(latestVersion.tokens, tokens);\n\n    return {\n      version1: latestVersion,\n      version2: {\n        id: 'current',\n        name: 'Current',\n        timestamp: Date.now(),\n        tokens,\n      },\n      added: changes.added,\n      removed: changes.removed,\n      modified: changes.modified,\n      summary: {\n        totalChanges: changes.added.length + changes.removed.length + changes.modified.length,\n        addedCount: changes.added.length,\n        removedCount: changes.removed.length,\n        modifiedCount: changes.modified.length,\n      },\n    };\n  }\n\n  compareWithProjects(\n    currentTokens: DesignTokens,\n    projects: { name: string; tokens: DesignTokens }[]\n  ): CrossProjectComparison[] {\n    return projects.map((project) => {\n      const commonTokens: string[] = [];\n      const uniqueToProject: string[] = [];\n      const uniqueToCurrent: string[] = [];\n      const valueDifferences: TokenValueDifference[] = [];\n\n      const allKeys = new Set([...Object.keys(currentTokens), ...Object.keys(project.tokens)]);\n\n      allKeys.forEach((key) => {\n        const existsInCurrent = key in currentTokens;\n        const existsInProject = key in project.tokens;\n\n        if (existsInCurrent && existsInProject) {\n          commonTokens.push(key);\n\n          const currentValue = currentTokens[key];\n          const projectValue = project.tokens[key];\n\n          if (currentValue !== projectValue) {\n            const difference = this.calculateValueDifference(currentValue, projectValue);\n            if (difference !== null) {\n              valueDifferences.push({\n                key,\n                currentValue,\n                projectValue,\n                difference,\n                category: this.categorizeToken(key),\n              });\n            }\n          }\n        } else if (existsInCurrent) {\n          uniqueToCurrent.push(key);\n        } else {\n          uniqueToProject.push(key);\n        }\n      });\n\n      const consistencyScore = this.calculateConsistencyScore(\n        commonTokens.length,\n        uniqueToCurrent.length,\n        uniqueToProject.length,\n        valueDifferences.length\n      );\n\n      return {\n        projectName: project.name,\n        projectTokens: project.tokens,\n        commonTokens,\n        uniqueToProject,\n        uniqueToCurrent,\n        valueDifferences,\n        consistencyScore,\n      };\n    });\n  }\n\n  private calculateChanges(\n    tokens1: DesignTokens,\n    tokens2: DesignTokens\n  ): {\n    added: TokenChange[];\n    removed: TokenChange[];\n    modified: TokenChange[];\n  } {\n    const keys1 = new Set(Object.keys(tokens1));\n    const keys2 = new Set(Object.keys(tokens2));\n\n    const added: TokenChange[] = [];\n    const removed: TokenChange[] = [];\n    const modified: TokenChange[] = [];\n\n    keys2.forEach((key) => {\n      if (!keys1.has(key)) {\n        added.push({\n          key,\n          type: 'added',\n          newValue: tokens2[key],\n          category: this.categorizeToken(key),\n          impact: this.calculateImpact(tokens2[key]),\n        });\n      } else if (tokens1[key] !== tokens2[key]) {\n        modified.push({\n          key,\n          type: 'modified',\n          oldValue: tokens1[key],\n          newValue: tokens2[key],\n          category: this.categorizeToken(key),\n          impact: this.calculateImpact(tokens2[key]),\n        });\n      }\n    });\n\n    keys1.forEach((key) => {\n      if (!keys2.has(key)) {\n        removed.push({\n          key,\n          type: 'removed',\n          oldValue: tokens1[key],\n          category: this.categorizeToken(key),\n          impact: this.calculateImpact(tokens1[key]),\n        });\n      }\n    });\n\n    return { added, removed, modified };\n  }\n\n  private categorizeToken(key: string): 'color' | 'spacing' | 'typography' | 'shadow' | 'other' {\n    if (key.startsWith('color.')) return 'color';\n    if (key.startsWith('spacing.') || key.startsWith('gap.')) return 'spacing';\n    if (key.startsWith('typography.') || key.startsWith('font.')) return 'typography';\n    if (key.startsWith('shadow.') || key.startsWith('elevation.')) return 'shadow';\n    return 'other';\n  }\n\n  private calculateImpact(value: any): 'high' | 'medium' | 'low' {\n    if (typeof value === 'string' && value.startsWith('#')) {\n      return 'high';\n    }\n    if (typeof value === 'object' && value !== null) {\n      return 'high';\n    }\n    return 'medium';\n  }\n\n  private calculateValueDifference(value1: any, value2: any): number | null {\n    if (typeof value1 === 'number' && typeof value2 === 'number') {\n      return Math.abs(value1 - value2) / Math.max(value1, value2, 1);\n    }\n\n    if (typeof value1 === 'string' && typeof value2 === 'string') {\n      if (value1.startsWith('#') && value2.startsWith('#')) {\n        return this.calculateColorDifference(value1, value2);\n      }\n      return value1 === value2 ? 0 : 1;\n    }\n\n    if (typeof value1 === 'object' && typeof value2 === 'object') {\n      return JSON.stringify(value1) === JSON.stringify(value2) ? 0 : 1;\n    }\n\n    return value1 === value2 ? 0 : 1;\n  }\n\n  private calculateColorDifference(color1: string, color2: string): number {\n    const rgb1 = this.hexToRgb(color1);\n    const rgb2 = this.hexToRgb(color2);\n\n    const dr = rgb1.r - rgb2.r;\n    const dg = rgb1.g - rgb2.g;\n    const db = rgb1.b - rgb2.b;\n\n    return Math.sqrt(dr * dr + dg * dg + db * db) / (255 * Math.sqrt(3));\n  }\n\n  private calculateConsistencyScore(\n    commonCount: number,\n    uniqueToCurrent: number,\n    uniqueToProject: number,\n    valueDifferences: number\n  ): number {\n    const totalTokens = commonCount + uniqueToCurrent + uniqueToProject;\n\n    if (totalTokens === 0) return 0;\n\n    const commonRatio = commonCount / totalTokens;\n    const uniquePenalty = (uniqueToCurrent + uniqueToProject) / totalTokens;\n    const differencePenalty = valueDifferences / Math.max(commonCount, 1);\n\n    const score = commonRatio * 100 - uniquePenalty * 50 - differencePenalty * 30;\n\n    return Math.max(0, Math.min(100, score));\n  }\n\n  private hexToRgb(hex: string): { r: number; g: number; b: number } {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result\n      ? {\n          r: parseInt(result[1], 16),\n          g: parseInt(result[2], 16),\n          b: parseInt(result[3], 16),\n        }\n      : { r: 0, g: 0, b: 0 };\n  }\n\n  private persistVersions(): void {\n    try {\n      localStorage.setItem('yyc3-token-versions', JSON.stringify(this.versions));\n    } catch {\n      console.warn('Failed to persist versions');\n    }\n  }\n\n  private loadPersistedVersions(): void {\n    try {\n      const stored = localStorage.getItem('yyc3-token-versions');\n      if (stored) {\n        this.versions = JSON.parse(stored);\n      }\n    } catch (error) {\n      console.warn('Failed to load persisted versions:', error);\n    }\n  }\n\n  clearVersions(): void {\n    this.versions = [];\n    localStorage.removeItem('yyc3-token-versions');\n  }\n\n  exportVersions(): string {\n    return JSON.stringify(this.versions, null, 2);\n  }\n\n  importVersions(json: string): void {\n    try {\n      const versions = JSON.parse(json) as TokenVersion[];\n      this.versions = versions;\n      this.persistVersions();\n    } catch {\n      throw new Error('Invalid version data');\n    }\n  }\n}\n\nexport const versionHistoryComparer = new VersionHistoryComparer();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}