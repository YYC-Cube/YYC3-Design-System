1fa0ac5a238d6e6cddd00648b2b90295
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
/**
 * @file ‰∏ãÊãâËèúÂçïÁªÑ‰ª∂ÊµãËØï
 * @description ÊµãËØïDropdownÁªÑ‰ª∂ÁöÑÂêÑÈ°πÂäüËÉΩ
 * @module __tests__/components/Dropdown.test
 * @author YYC¬≥
 * @version 1.0.0
 * @created 2026-02-23
 */
/// <reference types="@testing-library/jest-dom" />
const react_1 = require("@testing-library/react");
const Dropdown_1 = require("../Dropdown");
const Button_1 = require("../Button");
const ThemeProvider_1 = require("../../theme/ThemeProvider");
describe('Dropdown', () => {
    const mockOptions = [
        { key: '1', label: 'ÈÄâÈ°π1' },
        { key: '2', label: 'ÈÄâÈ°π2' },
        { key: '3', label: 'ÈÄâÈ°π3' },
    ];
    it('Â∫îËØ•Ê∏≤Êüì‰∏ãÊãâËèúÂçï', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        expect(react_1.screen.getByText('ÁÇπÂáª')).toBeInTheDocument();
    });
    it('ÁÇπÂáªÊó∂Â∫îËØ•ÊòæÁ§∫‰∏ãÊãâËèúÂçï', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        expect(react_1.screen.getByText('ÈÄâÈ°π1')).toBeInTheDocument();
    });
    it('Â∫îËØ•Ë∞ÉÁî®ÈÄâÈ°πÁöÑonClickÂõûË∞É', () => {
        const mockOnClick = jest.fn();
        const optionsWithClick = [{ key: '1', label: 'ÈÄâÈ°π1', onClick: mockOnClick }];
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: optionsWithClick, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        const option = react_1.screen.getByText('ÈÄâÈ°π1');
        react_1.fireEvent.click(option);
        expect(mockOnClick).toHaveBeenCalled();
    });
    it('Â∫îËØ•ÊîØÊåÅÁ¶ÅÁî®ÈÄâÈ°π', () => {
        const disabledOptions = [
            { key: '1', label: 'ÈÄâÈ°π1' },
            { key: '2', label: 'ÈÄâÈ°π2', disabled: true },
        ];
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: disabledOptions, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        const disabledOption = react_1.screen.getByText('ÈÄâÈ°π2').closest('div');
        expect(disabledOption).toHaveAttribute('aria-disabled', 'true');
    });
    it('Â∫îËØ•ÊîØÊåÅÂàÜÈöîÁ∫ø', () => {
        const optionsWithDivider = [
            { key: '1', label: 'ÈÄâÈ°π1' },
            { key: 'divider', label: '', divider: true },
            { key: '2', label: 'ÈÄâÈ°π2' },
        ];
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: optionsWithDivider, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        const divider = react_1.screen.getByRole('menu').querySelector('div[style*="height: 1px"]');
        expect(divider).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅÂõæÊ†á', () => {
        const optionsWithIcon = [{ key: '1', label: 'ÈÄâÈ°π1', icon: 'üìÑ' }];
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: optionsWithIcon, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        expect(react_1.screen.getByText('üìÑ')).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅÂ§öÁ∫ßËèúÂçï', () => {
        const nestedOptions = [
            {
                key: '1',
                label: 'Áà∂ÈÄâÈ°π',
                children: [
                    { key: '1-1', label: 'Â≠êÈÄâÈ°π1' },
                    { key: '1-2', label: 'Â≠êÈÄâÈ°π2' },
                ],
            },
        ];
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: nestedOptions, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        expect(react_1.screen.getByText('Â≠êÈÄâÈ°π1')).toBeInTheDocument();
        expect(react_1.screen.getByText('Â≠êÈÄâÈ°π2')).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅhoverËß¶Âèë', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, trigger: "hover", children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u60AC\u505C" }) }) }));
        const trigger = react_1.screen.getByText('ÊÇ¨ÂÅú');
        react_1.fireEvent.mouseEnter(trigger);
        expect(react_1.screen.getByText('ÈÄâÈ°π1')).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅÂèóÊéßvisible', () => {
        const { rerender } = (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, visible: false, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        expect(react_1.screen.queryByText('ÈÄâÈ°π1')).not.toBeInTheDocument();
        rerender((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, visible: true, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        expect(react_1.screen.getByText('ÈÄâÈ°π1')).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅÁ¶ÅÁî®Áä∂ÊÄÅ', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, disabled: true, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        expect(react_1.screen.queryByText('ÈÄâÈ°π1')).not.toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅ‰∏çÂêåplacement', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, placement: "topLeft", children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        expect(react_1.screen.getByText('ÈÄâÈ°π1')).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅÈîÆÁõòÂØºËà™', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        react_1.fireEvent.keyDown(trigger, { key: 'ArrowDown' });
        expect(react_1.screen.getByText('ÈÄâÈ°π1')).toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅESCÈîÆÂÖ≥Èó≠', () => {
        (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        const trigger = react_1.screen.getByText('ÁÇπÂáª');
        react_1.fireEvent.click(trigger);
        expect(react_1.screen.getByText('ÈÄâÈ°π1')).toBeInTheDocument();
        react_1.fireEvent.keyDown(trigger, { key: 'Escape' });
        expect(react_1.screen.queryByText('ÈÄâÈ°π1')).not.toBeInTheDocument();
    });
    it('Â∫îËØ•ÊîØÊåÅËá™ÂÆö‰πâÁ±ªÂêç', () => {
        const { container } = (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: (0, jsx_runtime_1.jsx)(Dropdown_1.Dropdown, { options: mockOptions, className: "custom-dropdown", children: (0, jsx_runtime_1.jsx)(Button_1.Button, { children: "\u70B9\u51FB" }) }) }));
        expect(container.querySelector('.custom-dropdown')).toBeInTheDocument();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvX190ZXN0c19fL0Ryb3Bkb3duLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7OztBQUFBOzs7Ozs7O0dBT0c7QUFFSCxtREFBbUQ7QUFFbkQsa0RBQW1FO0FBQ25FLDBDQUF1QztBQUN2QyxzQ0FBbUM7QUFDbkMsNkRBQTBEO0FBRTFELFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO0lBQ3hCLE1BQU0sV0FBVyxHQUFHO1FBQ2xCLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO1FBQzFCLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO1FBQzFCLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO0tBQzNCLENBQUM7SUFFRixFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtRQUNsQixJQUFBLGNBQU0sRUFDSix1QkFBQyw2QkFBYSxjQUNaLHVCQUFDLG1CQUFRLElBQUMsT0FBTyxFQUFFLFdBQVcsWUFDNUIsdUJBQUMsZUFBTSwrQkFBWSxHQUNWLEdBQ0csQ0FDakIsQ0FBQztRQUNGLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNyRCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1FBQ3JCLElBQUEsY0FBTSxFQUNKLHVCQUFDLDZCQUFhLGNBQ1osdUJBQUMsbUJBQVEsSUFBQyxPQUFPLEVBQUUsV0FBVyxZQUM1Qix1QkFBQyxlQUFNLCtCQUFZLEdBQ1YsR0FDRyxDQUNqQixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO1FBQzFCLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUM5QixNQUFNLGdCQUFnQixHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDNUUsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxnQkFBZ0IsWUFDakMsdUJBQUMsZUFBTSwrQkFBWSxHQUNWLEdBQ0csQ0FDakIsQ0FBQztRQUNGLE1BQU0sT0FBTyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekIsTUFBTSxNQUFNLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUN6QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBQ2xCLE1BQU0sZUFBZSxHQUFHO1lBQ3RCLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO1lBQzFCLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7U0FDM0MsQ0FBQztRQUNGLElBQUEsY0FBTSxFQUNKLHVCQUFDLDZCQUFhLGNBQ1osdUJBQUMsbUJBQVEsSUFBQyxPQUFPLEVBQUUsZUFBZSxZQUNoQyx1QkFBQyxlQUFNLCtCQUFZLEdBQ1YsR0FDRyxDQUNqQixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QixNQUFNLGNBQWMsR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsZUFBZSxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO1FBQ2pCLE1BQU0sa0JBQWtCLEdBQUc7WUFDekIsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7WUFDMUIsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTtZQUM1QyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtTQUMzQixDQUFDO1FBQ0YsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxrQkFBa0IsWUFDbkMsdUJBQUMsZUFBTSwrQkFBWSxHQUNWLEdBQ0csQ0FDakIsQ0FBQztRQUNGLE1BQU0sT0FBTyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekIsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFhLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUNwRixNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN0QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO1FBQ2hCLE1BQU0sZUFBZSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDakUsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxlQUFlLFlBQ2hDLHVCQUFDLGVBQU0sK0JBQVksR0FDVixHQUNHLENBQ2pCLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLGlCQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNyRCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBQ2xCLE1BQU0sYUFBYSxHQUFHO1lBQ3BCO2dCQUNFLEdBQUcsRUFBRSxHQUFHO2dCQUNSLEtBQUssRUFBRSxLQUFLO2dCQUNaLFFBQVEsRUFBRTtvQkFDUixFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtvQkFDN0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7aUJBQzlCO2FBQ0Y7U0FDRixDQUFDO1FBQ0YsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxhQUFhLFlBQzlCLHVCQUFDLGVBQU0sK0JBQVksR0FDVixHQUNHLENBQ2pCLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLGlCQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUNyRCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDdkQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUNyQixJQUFBLGNBQU0sRUFDSix1QkFBQyw2QkFBYSxjQUNaLHVCQUFDLG1CQUFRLElBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUMsT0FBTyxZQUM3Qyx1QkFBQyxlQUFNLCtCQUFZLEdBQ1YsR0FDRyxDQUNqQixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxpQkFBUyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtRQUN2QixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQ3pCLHVCQUFDLDZCQUFhLGNBQ1osdUJBQUMsbUJBQVEsSUFBQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxLQUFLLFlBQzVDLHVCQUFDLGVBQU0sK0JBQVksR0FDVixHQUNHLENBQ2pCLENBQUM7UUFDRixNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRTFELFFBQVEsQ0FDTix1QkFBQyw2QkFBYSxjQUNaLHVCQUFDLG1CQUFRLElBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsSUFBSSxZQUMzQyx1QkFBQyxlQUFNLCtCQUFZLEdBQ1YsR0FDRyxDQUNqQixDQUFDO1FBQ0YsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3RELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7UUFDbEIsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxrQkFDdEMsdUJBQUMsZUFBTSwrQkFBWSxHQUNWLEdBQ0csQ0FDakIsQ0FBQztRQUNGLE1BQU0sT0FBTyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM1RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7UUFDekIsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFDLFNBQVMsWUFDakQsdUJBQUMsZUFBTSwrQkFBWSxHQUNWLEdBQ0csQ0FDakIsQ0FBQztRQUNGLE1BQU0sT0FBTyxHQUFHLGNBQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsaUJBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3RELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7UUFDbEIsSUFBQSxjQUFNLEVBQ0osdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxXQUFXLFlBQzVCLHVCQUFDLGVBQU0sK0JBQVksR0FDVixHQUNHLENBQ2pCLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRyxjQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLGlCQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pCLGlCQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN0RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLElBQUEsY0FBTSxFQUNKLHVCQUFDLDZCQUFhLGNBQ1osdUJBQUMsbUJBQVEsSUFBQyxPQUFPLEVBQUUsV0FBVyxZQUM1Qix1QkFBQyxlQUFNLCtCQUFZLEdBQ1YsR0FDRyxDQUNqQixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsY0FBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxpQkFBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDcEQsaUJBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM1RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO1FBQ25CLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFBLGNBQU0sRUFDMUIsdUJBQUMsNkJBQWEsY0FDWix1QkFBQyxtQkFBUSxJQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFDLGlCQUFpQixZQUN6RCx1QkFBQyxlQUFNLCtCQUFZLEdBQ1YsR0FDRyxDQUNqQixDQUFDO1FBQ0YsTUFBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDMUUsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMveWFueXUvRG93bmxvYWRzL3l5YzMtRGVzaWduLVN5c3RlbS9zcmMvY29tcG9uZW50cy9fX3Rlc3RzX18vRHJvcGRvd24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSDkuIvmi4noj5zljZXnu4Tku7bmtYvor5VcbiAqIEBkZXNjcmlwdGlvbiDmtYvor5VEcm9wZG93bue7hOS7tueahOWQhOmhueWKn+iDvVxuICogQG1vZHVsZSBfX3Rlc3RzX18vY29tcG9uZW50cy9Ecm9wZG93bi50ZXN0XG4gKiBAYXV0aG9yIFlZQ8KzXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGNyZWF0ZWQgMjAyNi0wMi0yM1xuICovXG5cbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwiQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbVwiIC8+XG5cbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50LCBzY3JlZW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSAnLi4vRHJvcGRvd24nO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICcuLi8uLi90aGVtZS9UaGVtZVByb3ZpZGVyJztcblxuZGVzY3JpYmUoJ0Ryb3Bkb3duJywgKCkgPT4ge1xuICBjb25zdCBtb2NrT3B0aW9ucyA9IFtcbiAgICB7IGtleTogJzEnLCBsYWJlbDogJ+mAiemhuTEnIH0sXG4gICAgeyBrZXk6ICcyJywgbGFiZWw6ICfpgInpobkyJyB9LFxuICAgIHsga2V5OiAnMycsIGxhYmVsOiAn6YCJ6aG5MycgfSxcbiAgXTtcblxuICBpdCgn5bqU6K+l5riy5p+T5LiL5ouJ6I+c5Y2VJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17bW9ja09wdGlvbnN9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCfngrnlh7vml7blupTor6XmmL7npLrkuIvmi4noj5zljZUnLCAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxEcm9wZG93biBvcHRpb25zPXttb2NrT3B0aW9uc30+XG4gICAgICAgICAgPEJ1dHRvbj7ngrnlh7s8L0J1dHRvbj5cbiAgICAgICAgPC9Ecm9wZG93bj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICApO1xuICAgIGNvbnN0IHRyaWdnZXIgPSBzY3JlZW4uZ2V0QnlUZXh0KCfngrnlh7snKTtcbiAgICBmaXJlRXZlbnQuY2xpY2sodHJpZ2dlcik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+mAiemhuTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeiwg+eUqOmAiemhueeahG9uQ2xpY2vlm57osIMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja09uQ2xpY2sgPSBqZXN0LmZuKCk7XG4gICAgY29uc3Qgb3B0aW9uc1dpdGhDbGljayA9IFt7IGtleTogJzEnLCBsYWJlbDogJ+mAiemhuTEnLCBvbkNsaWNrOiBtb2NrT25DbGljayB9XTtcbiAgICByZW5kZXIoXG4gICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgPERyb3Bkb3duIG9wdGlvbnM9e29wdGlvbnNXaXRoQ2xpY2t9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHRyaWdnZXIpO1xuICAgIGNvbnN0IG9wdGlvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ+mAiemhuTEnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2sob3B0aW9uKTtcbiAgICBleHBlY3QobW9ja09uQ2xpY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaUr+aMgeemgeeUqOmAiemhuScsICgpID0+IHtcbiAgICBjb25zdCBkaXNhYmxlZE9wdGlvbnMgPSBbXG4gICAgICB7IGtleTogJzEnLCBsYWJlbDogJ+mAiemhuTEnIH0sXG4gICAgICB7IGtleTogJzInLCBsYWJlbDogJ+mAiemhuTInLCBkaXNhYmxlZDogdHJ1ZSB9LFxuICAgIF07XG4gICAgcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxEcm9wZG93biBvcHRpb25zPXtkaXNhYmxlZE9wdGlvbnN9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHRyaWdnZXIpO1xuICAgIGNvbnN0IGRpc2FibGVkT3B0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgn6YCJ6aG5MicpLmNsb3Nlc3QoJ2RpdicpO1xuICAgIGV4cGVjdChkaXNhYmxlZE9wdGlvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaUr+aMgeWIhumalOe6vycsICgpID0+IHtcbiAgICBjb25zdCBvcHRpb25zV2l0aERpdmlkZXIgPSBbXG4gICAgICB7IGtleTogJzEnLCBsYWJlbDogJ+mAiemhuTEnIH0sXG4gICAgICB7IGtleTogJ2RpdmlkZXInLCBsYWJlbDogJycsIGRpdmlkZXI6IHRydWUgfSxcbiAgICAgIHsga2V5OiAnMicsIGxhYmVsOiAn6YCJ6aG5MicgfSxcbiAgICBdO1xuICAgIHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17b3B0aW9uc1dpdGhEaXZpZGVyfT5cbiAgICAgICAgICA8QnV0dG9uPueCueWHuzwvQnV0dG9uPlxuICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICk7XG4gICAgY29uc3QgdHJpZ2dlciA9IHNjcmVlbi5nZXRCeVRleHQoJ+eCueWHuycpO1xuICAgIGZpcmVFdmVudC5jbGljayh0cmlnZ2VyKTtcbiAgICBjb25zdCBkaXZpZGVyID0gc2NyZWVuLmdldEJ5Um9sZSgnbWVudScpLnF1ZXJ5U2VsZWN0b3IoJ2RpdltzdHlsZSo9XCJoZWlnaHQ6IDFweFwiXScpO1xuICAgIGV4cGVjdChkaXZpZGVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyB5Zu+5qCHJywgKCkgPT4ge1xuICAgIGNvbnN0IG9wdGlvbnNXaXRoSWNvbiA9IFt7IGtleTogJzEnLCBsYWJlbDogJ+mAiemhuTEnLCBpY29uOiAn8J+ThCcgfV07XG4gICAgcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxEcm9wZG93biBvcHRpb25zPXtvcHRpb25zV2l0aEljb259PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHRyaWdnZXIpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfwn5OEJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmlK/mjIHlpJrnuqfoj5zljZUnLCAoKSA9PiB7XG4gICAgY29uc3QgbmVzdGVkT3B0aW9ucyA9IFtcbiAgICAgIHtcbiAgICAgICAga2V5OiAnMScsXG4gICAgICAgIGxhYmVsOiAn54i26YCJ6aG5JyxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7IGtleTogJzEtMScsIGxhYmVsOiAn5a2Q6YCJ6aG5MScgfSxcbiAgICAgICAgICB7IGtleTogJzEtMicsIGxhYmVsOiAn5a2Q6YCJ6aG5MicgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXTtcbiAgICByZW5kZXIoXG4gICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgPERyb3Bkb3duIG9wdGlvbnM9e25lc3RlZE9wdGlvbnN9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHRyaWdnZXIpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCflrZDpgInpobkxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+WtkOmAiemhuTInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaUr+aMgWhvdmVy6Kem5Y+RJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17bW9ja09wdGlvbnN9IHRyaWdnZXI9XCJob3ZlclwiPlxuICAgICAgICAgIDxCdXR0b24+5oKs5YGcPC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn5oKs5YGcJyk7XG4gICAgZmlyZUV2ZW50Lm1vdXNlRW50ZXIodHJpZ2dlcik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+mAiemhuTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaUr+aMgeWPl+aOp3Zpc2libGUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxEcm9wZG93biBvcHRpb25zPXttb2NrT3B0aW9uc30gdmlzaWJsZT17ZmFsc2V9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCfpgInpobkxJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgcmVyZW5kZXIoXG4gICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgPERyb3Bkb3duIG9wdGlvbnM9e21vY2tPcHRpb25zfSB2aXNpYmxlPXt0cnVlfT5cbiAgICAgICAgICA8QnV0dG9uPueCueWHuzwvQnV0dG9uPlxuICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+mAiemhuTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaUr+aMgeemgeeUqOeKtuaAgScsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgPERyb3Bkb3duIG9wdGlvbnM9e21vY2tPcHRpb25zfSBkaXNhYmxlZD5cbiAgICAgICAgICA8QnV0dG9uPueCueWHuzwvQnV0dG9uPlxuICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICk7XG4gICAgY29uc3QgdHJpZ2dlciA9IHNjcmVlbi5nZXRCeVRleHQoJ+eCueWHuycpO1xuICAgIGZpcmVFdmVudC5jbGljayh0cmlnZ2VyKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCfpgInpobkxJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyB5LiN5ZCMcGxhY2VtZW50JywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17bW9ja09wdGlvbnN9IHBsYWNlbWVudD1cInRvcExlZnRcIj5cbiAgICAgICAgICA8QnV0dG9uPueCueWHuzwvQnV0dG9uPlxuICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICk7XG4gICAgY29uc3QgdHJpZ2dlciA9IHNjcmVlbi5nZXRCeVRleHQoJ+eCueWHuycpO1xuICAgIGZpcmVFdmVudC5jbGljayh0cmlnZ2VyKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn6YCJ6aG5MScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyB6ZSu55uY5a+86IiqJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17bW9ja09wdGlvbnN9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHRyaWdnZXIpO1xuICAgIGZpcmVFdmVudC5rZXlEb3duKHRyaWdnZXIsIHsga2V5OiAnQXJyb3dEb3duJyB9KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn6YCJ6aG5MScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyBRVND6ZSu5YWz6ZetJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17bW9ja09wdGlvbnN9PlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5VGV4dCgn54K55Ye7Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHRyaWdnZXIpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfpgInpobkxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZmlyZUV2ZW50LmtleURvd24odHJpZ2dlciwgeyBrZXk6ICdFc2NhcGUnIH0pO1xuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ+mAiemhuTEnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmlK/mjIHoh6rlrprkuYnnsbvlkI0nLCAoKSA9PiB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihcbiAgICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgICA8RHJvcGRvd24gb3B0aW9ucz17bW9ja09wdGlvbnN9IGNsYXNzTmFtZT1cImN1c3RvbS1kcm9wZG93blwiPlxuICAgICAgICAgIDxCdXR0b24+54K55Ye7PC9CdXR0b24+XG4gICAgICAgIDwvRHJvcGRvd24+XG4gICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgKTtcbiAgICBleHBlY3QoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXN0b20tZHJvcGRvd24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==