{"version":3,"names":["cov_22v6ik8jq8","actualCoverage","s","test_1","require","test","describe","f","beforeEach","page","goto","waitForLoadState","html","locator","expect","toHaveAttribute","cyberBtn","click","businessBtn","keyboard","press","modeBtn","isDark","evaluate","el","classList","contains","toBe","reload","futurePrimary","getComputedStyle","document","documentElement","getPropertyValue","trim","waitForTimeout","cyberPrimary","not"],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/tests/e2e/theme-switching.spec.ts"],"sourcesContent":["/**\n * YYC³ Design System — Theme Switching E2E Tests (Playwright)\n *\n * Verifies: visual theme cycling, light/dark toggle, keyboard shortcuts,\n * persistence across page reloads, all three theme color palettes.\n */\nimport { test, expect } from '@playwright/test';\n\ntest.describe('Theme Switching', () => {\n  test.beforeEach(async ({ page }) => {\n    await page.goto('/');\n    await page.waitForLoadState('networkidle');\n  });\n\n  test('default theme is future', async ({ page }) => {\n    const html = page.locator('html');\n    await expect(html).toHaveAttribute('data-theme', 'future');\n  });\n\n  test('click theme toggle cycles to cyber', async ({ page }) => {\n    // Find the cyber theme button in ThemeToggle\n    const cyberBtn = page.locator(\"button[title*='Cyber'], button[title*='赛博']\");\n    await cyberBtn.click();\n    const html = page.locator('html');\n    await expect(html).toHaveAttribute('data-theme', 'cyber');\n  });\n\n  test('click theme toggle cycles to business', async ({ page }) => {\n    const businessBtn = page.locator(\"button[title*='Business'], button[title*='商务']\");\n    await businessBtn.click();\n    const html = page.locator('html');\n    await expect(html).toHaveAttribute('data-theme', 'business');\n  });\n\n  test('Ctrl+Alt+T cycles theme via keyboard', async ({ page }) => {\n    await page.keyboard.press('Control+Alt+t');\n    const html = page.locator('html');\n    await expect(html).toHaveAttribute('data-theme', 'cyber');\n    await page.keyboard.press('Control+Alt+t');\n    await expect(html).toHaveAttribute('data-theme', 'business');\n    await page.keyboard.press('Control+Alt+t');\n    await expect(html).toHaveAttribute('data-theme', 'future');\n  });\n\n  test('light/dark toggle works', async ({ page }) => {\n    const modeBtn = page.locator(\"button[aria-label*='mode'], button[aria-label*='模式']\");\n    await modeBtn.click();\n    // Check that dark class is toggled\n    const html = page.locator('html');\n    const isDark = await html.evaluate((el) => el.classList.contains('dark'));\n    expect(typeof isDark).toBe('boolean');\n  });\n\n  test('theme persists after page reload', async ({ page }) => {\n    const cyberBtn = page.locator(\"button[title*='Cyber'], button[title*='赛博']\");\n    await cyberBtn.click();\n    await page.reload();\n    await page.waitForLoadState('networkidle');\n    const html = page.locator('html');\n    await expect(html).toHaveAttribute('data-theme', 'cyber');\n  });\n\n  test('primary color changes with theme', async ({ page }) => {\n    const futurePrimary = await page.evaluate(() =>\n      getComputedStyle(document.documentElement).getPropertyValue('--primary').trim()\n    );\n\n    const cyberBtn = page.locator(\"button[title*='Cyber'], button[title*='赛博']\");\n    await cyberBtn.click();\n    await page.waitForTimeout(200);\n\n    const cyberPrimary = await page.evaluate(() =>\n      getComputedStyle(document.documentElement).getPropertyValue('--primary').trim()\n    );\n\n    expect(futurePrimary).not.toBe(cyberPrimary);\n  });\n});\n"],"mappings":"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","ignoreList":[]}