e2a611f181df5daf8b189beb21f21806
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("@testing-library/react");
const dom_1 = require("@testing-library/dom");
const Checkbox_1 = require("./Checkbox");
const ThemeProvider_1 = require("../theme/ThemeProvider");
describe('Checkbox 组件', () => {
    const renderWithTheme = (component) => {
        return (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: component }));
    };
    it('应该正确渲染未选中的 Checkbox', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
        expect(checkbox).not.toBeChecked();
    });
    it('应该正确渲染选中的 Checkbox', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
        expect(checkbox).toBeChecked();
    });
    it('应该在点击时切换状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在选中状态下点击时切换为 false', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: true, onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledWith(false);
    });
    it('应该在禁用状态下不响应点击', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true, onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalled();
    });
    it('应该应用自定义 className', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { className: "custom-checkbox" }));
        const label = container.querySelector('.custom-checkbox');
        expect(label).toBeInTheDocument();
    });
    it('应该正确渲染 children', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { children: "Label Text" }));
        expect(dom_1.screen.getByText('Label Text')).toBeInTheDocument();
    });
    it('应该在未选中时隐藏勾选标记', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const checkmark = checkbox.parentElement?.querySelector('span');
        expect(checkmark).toHaveStyle({ display: 'none' });
    });
    it('应该在选中时显示勾选标记', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const checkmark = checkbox.parentElement?.querySelector('span');
        expect(checkmark).toHaveStyle({ display: 'block' });
    });
    it('应该在禁用时设置正确的属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeDisabled();
    });
    it('应该在未禁用时设置正确的属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).not.toBeDisabled();
    });
    it('应该在非受控模式下维护内部状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).not.toBeChecked();
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在受控模式下不维护内部状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: false, onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).not.toBeChecked();
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在多次点击时正确切换状态', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledTimes(1);
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledTimes(2);
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledTimes(3);
    });
    it('应该在禁用时正确处理样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true, checked: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const container = checkbox.parentElement;
        expect(container).toBeInTheDocument();
    });
    it('应该在未禁用时正确处理样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const container = checkbox.parentElement;
        expect(container).toBeInTheDocument();
    });
    it('应该在选中时应用正确的背景色', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const container = checkbox.parentElement;
        expect(container).toBeInTheDocument();
    });
    it('应该在未选中时应用正确的背景色', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: false }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const container = checkbox.parentElement;
        expect(container).toBeInTheDocument();
    });
    it('应该在禁用时应用正确的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const container = checkbox.parentElement;
        expect(container).toBeInTheDocument();
    });
    it('应该在未禁用时应用正确的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const container = checkbox.parentElement;
        expect(container).toBeInTheDocument();
    });
    it('应该正确设置 role 属性', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
    });
    it('应该正确处理没有 children 的情况', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
        const label = checkbox.parentElement;
        const labelSpan = label?.querySelectorAll('span');
        expect(labelSpan).toHaveLength(1);
    });
    it('应该正确处理有 children 的情况', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { children: "Label Text" }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const label = checkbox.parentElement;
        const labelSpan = label?.querySelectorAll('span');
        expect(labelSpan).toHaveLength(2);
    });
    it('应该在点击时正确处理 onChange 回调', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: false, onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        react_1.fireEvent.click(checkbox);
        expect(handleChange).toHaveBeenCalledTimes(1);
        expect(handleChange).toHaveBeenCalledWith(true);
    });
    it('应该在禁用时禁用点击事件', () => {
        const handleChange = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true, onChange: handleChange }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
    });
    it('应该在未禁用时启用点击事件', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
    });
    it('应该正确设置勾选标记的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { checked: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const checkmark = checkbox.parentElement?.querySelector('span');
        expect(checkmark).toBeInTheDocument();
    });
    it('应该正确设置 label 的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { children: "Label Text" }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const label = checkbox.parentElement;
        const labelSpan = label?.querySelector('span:last-child');
        expect(labelSpan).toBeInTheDocument();
    });
    it('应该在禁用时正确设置 label 样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true, children: "Label Text" }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        const label = checkbox.parentElement;
        const labelSpan = label?.querySelector('span:last-child');
        expect(labelSpan).toBeInTheDocument();
    });
    it('应该正确处理输入框的样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toHaveStyle({
            position: 'absolute',
            opacity: 0,
        });
    });
    it('应该在禁用时正确设置输入框样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, { disabled: true }));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
    });
    it('应该在未禁用时正确设置输入框样式', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(Checkbox_1.Checkbox, {}));
        const checkbox = dom_1.screen.getByRole('checkbox');
        expect(checkbox).toBeInTheDocument();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvQ2hlY2tib3gudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7O0FBVUEsa0RBQTJEO0FBQzNELDhDQUE4QztBQUU5Qyx5Q0FBc0M7QUFDdEMsMERBQXVEO0FBRXZELFFBQVEsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO0lBQzNCLE1BQU0sZUFBZSxHQUFHLENBQUMsU0FBNkIsRUFBRSxFQUFFO1FBQ3hELE9BQU8sSUFBQSxjQUFNLEVBQUMsdUJBQUMsNkJBQWEsY0FBRSxTQUFTLEdBQWlCLENBQUMsQ0FBQztJQUM1RCxDQUFDLENBQUM7SUFFRixFQUFFLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBQzdCLGVBQWUsQ0FBQyx1QkFBQyxtQkFBUSxLQUFHLENBQUMsQ0FBQztRQUU5QixNQUFNLFFBQVEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQzVCLGVBQWUsQ0FBQyx1QkFBQyxtQkFBUSxJQUFDLE9BQU8sU0FBRyxDQUFDLENBQUM7UUFFdEMsTUFBTSxRQUFRLEdBQUcsWUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUNyQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtRQUNwQixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsRUFB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Q0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRTtRQUN6QixlQUFlLENBQUMsdUJBQUMsbUJBQVEsSUFBQyxRQUFRLFNBQUcsQ0FBQyxDQUFDO1FBRXZDLE1BQU0sUUFBUSxHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO1FBQzFCLGVBQWUsQ0FBQyx1QkFBQyxtQkFBUSxLQUFHLENBQUMsQ0FBQztRQUU5QixNQUFNLFFBQVEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvQ2hlY2tib3gudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBDaGVja2JveCDnu4Tku7bmtYvor5VcbiAqIEBkZXNjcmlwdGlvbiDmtYvor5UgQ2hlY2tib3gg57uE5Lu255qE5ZCE6aG55Yqf6IO9XG4gKiBAbW9kdWxlIF9fdGVzdHNfXy9jb21wb25lbnRzL0NoZWNrYm94LnRlc3RcbiAqIEBhdXRob3IgWVlDwrNcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiBAY3JlYXRlZCAyMDI2LTAyLTE4XG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvZG9tJztcblxuaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICcuL0NoZWNrYm94JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICcuLi90aGVtZS9UaGVtZVByb3ZpZGVyJztcblxuZGVzY3JpYmUoJ0NoZWNrYm94IOe7hOS7ticsICgpID0+IHtcbiAgY29uc3QgcmVuZGVyV2l0aFRoZW1lID0gKGNvbXBvbmVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIHJlbmRlcig8VGhlbWVQcm92aWRlcj57Y29tcG9uZW50fTwvVGhlbWVQcm92aWRlcj4pO1xuICB9O1xuXG4gIGl0KCflupTor6XmraPnoa7muLLmn5PmnKrpgInkuK3nmoQgQ2hlY2tib3gnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZXhwZWN0KGNoZWNrYm94KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChjaGVja2JveCkubm90LnRvQmVDaGVja2VkKCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7muLLmn5PpgInkuK3nmoQgQ2hlY2tib3gnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBjaGVja2VkIC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBleHBlY3QoY2hlY2tib3gpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KGNoZWNrYm94KS50b0JlQ2hlY2tlZCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo54K55Ye75pe25YiH5o2i54q25oCBJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soY2hlY2tib3gpO1xuXG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgodHJ1ZSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjpgInkuK3nirbmgIHkuIvngrnlh7vml7bliIfmjaLkuLogZmFsc2UnLCAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggY2hlY2tlZCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGNoZWNrYm94KTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGZhbHNlKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOemgeeUqOeKtuaAgeS4i+S4jeWTjeW6lOeCueWHuycsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBkaXNhYmxlZCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGNoZWNrYm94KTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeW6lOeUqOiHquWumuS5iSBjbGFzc05hbWUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggY2xhc3NOYW1lPVwiY3VzdG9tLWNoZWNrYm94XCIgLz4pO1xuXG4gICAgY29uc3QgbGFiZWwgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmN1c3RvbS1jaGVja2JveCcpO1xuICAgIGV4cGVjdChsYWJlbCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehrua4suafkyBjaGlsZHJlbicsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94PkxhYmVsIFRleHQ8L0NoZWNrYm94Pik7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGFiZWwgVGV4dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5pyq6YCJ5Lit5pe26ZqQ6JeP5Yu+6YCJ5qCH6K6wJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGNvbnN0IGNoZWNrbWFyayA9IGNoZWNrYm94LnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcbiAgICBleHBlY3QoY2hlY2ttYXJrKS50b0hhdmVTdHlsZSh7IGRpc3BsYXk6ICdub25lJyB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOmAieS4reaXtuaYvuekuuWLvumAieagh+iusCcsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IGNoZWNrZWQgLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGNvbnN0IGNoZWNrbWFyayA9IGNoZWNrYm94LnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcbiAgICBleHBlY3QoY2hlY2ttYXJrKS50b0hhdmVTdHlsZSh7IGRpc3BsYXk6ICdibG9jaycgfSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjnpoHnlKjml7borr7nva7mraPnoa7nmoTlsZ7mgKcnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBkaXNhYmxlZCAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZXhwZWN0KGNoZWNrYm94KS50b0JlRGlzYWJsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOacquemgeeUqOaXtuiuvue9ruato+ehrueahOWxnuaApycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBleHBlY3QoY2hlY2tib3gpLm5vdC50b0JlRGlzYWJsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOmdnuWPl+aOp+aooeW8j+S4i+e7tOaKpOWGhemDqOeKtuaAgScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZXhwZWN0KGNoZWNrYm94KS5ub3QudG9CZUNoZWNrZWQoKTtcblxuICAgIGZpcmVFdmVudC5jbGljayhjaGVja2JveCk7XG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgodHJ1ZSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjlj5fmjqfmqKHlvI/kuIvkuI3nu7TmiqTlhoXpg6jnirbmgIEnLCAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggY2hlY2tlZD17ZmFsc2V9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBleHBlY3QoY2hlY2tib3gpLm5vdC50b0JlQ2hlY2tlZCgpO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKGNoZWNrYm94KTtcbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOWkmuasoeeCueWHu+aXtuato+ehruWIh+aNoueKtuaAgScsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soY2hlY2tib3gpO1xuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcblxuICAgIGZpcmVFdmVudC5jbGljayhjaGVja2JveCk7XG4gICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKGNoZWNrYm94KTtcbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjnpoHnlKjml7bmraPnoa7lpITnkIbmoLflvI8nLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBkaXNhYmxlZCBjaGVja2VkIC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBjaGVja2JveC5wYXJlbnRFbGVtZW50O1xuICAgIGV4cGVjdChjb250YWluZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjmnKrnpoHnlKjml7bmraPnoa7lpITnkIbmoLflvI8nLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgY29udGFpbmVyID0gY2hlY2tib3gucGFyZW50RWxlbWVudDtcbiAgICBleHBlY3QoY29udGFpbmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo6YCJ5Lit5pe25bqU55So5q2j56Gu55qE6IOM5pmv6ImyJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggY2hlY2tlZCAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgY29udGFpbmVyID0gY2hlY2tib3gucGFyZW50RWxlbWVudDtcbiAgICBleHBlY3QoY29udGFpbmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5pyq6YCJ5Lit5pe25bqU55So5q2j56Gu55qE6IOM5pmv6ImyJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggY2hlY2tlZD17ZmFsc2V9IC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBjaGVja2JveC5wYXJlbnRFbGVtZW50O1xuICAgIGV4cGVjdChjb250YWluZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjnpoHnlKjml7blupTnlKjmraPnoa7nmoTmoLflvI8nLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBkaXNhYmxlZCAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgY29udGFpbmVyID0gY2hlY2tib3gucGFyZW50RWxlbWVudDtcbiAgICBleHBlY3QoY29udGFpbmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5pyq56aB55So5pe25bqU55So5q2j56Gu55qE5qC35byPJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNoZWNrYm94LnBhcmVudEVsZW1lbnQ7XG4gICAgZXhwZWN0KGNvbnRhaW5lcikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruiuvue9riByb2xlIOWxnuaApycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBleHBlY3QoY2hlY2tib3gpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7lpITnkIbmsqHmnIkgY2hpbGRyZW4g55qE5oOF5Ya1JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGV4cGVjdChjaGVja2JveCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBjb25zdCBsYWJlbCA9IGNoZWNrYm94LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgbGFiZWxTcGFuID0gbGFiZWw/LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKTtcbiAgICBleHBlY3QobGFiZWxTcGFuKS50b0hhdmVMZW5ndGgoMSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7lpITnkIbmnIkgY2hpbGRyZW4g55qE5oOF5Ya1JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3g+TGFiZWwgVGV4dDwvQ2hlY2tib3g+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBjb25zdCBsYWJlbCA9IGNoZWNrYm94LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgbGFiZWxTcGFuID0gbGFiZWw/LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKTtcbiAgICBleHBlY3QobGFiZWxTcGFuKS50b0hhdmVMZW5ndGgoMik7XG4gIH0pO1xuXG4gIGl0KCflupTor6XlnKjngrnlh7vml7bmraPnoa7lpITnkIYgb25DaGFuZ2Ug5Zue6LCDJywgKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IGNoZWNrZWQ9e2ZhbHNlfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGNoZWNrYm94KTtcblxuICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOemgeeUqOaXtuemgeeUqOeCueWHu+S6i+S7ticsICgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxDaGVja2JveCBkaXNhYmxlZCBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgZXhwZWN0KGNoZWNrYm94KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo5pyq56aB55So5pe25ZCv55So54K55Ye75LqL5Lu2JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGV4cGVjdChjaGVja2JveCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruiuvue9ruWLvumAieagh+iusOeahOagt+W8jycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IGNoZWNrZWQgLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGNvbnN0IGNoZWNrbWFyayA9IGNoZWNrYm94LnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcbiAgICBleHBlY3QoY2hlY2ttYXJrKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5q2j56Gu6K6+572uIGxhYmVsIOeahOagt+W8jycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94PkxhYmVsIFRleHQ8L0NoZWNrYm94Pik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgbGFiZWwgPSBjaGVja2JveC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IGxhYmVsU3BhbiA9IGxhYmVsPy5xdWVyeVNlbGVjdG9yKCdzcGFuOmxhc3QtY2hpbGQnKTtcbiAgICBleHBlY3QobGFiZWxTcGFuKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo56aB55So5pe25q2j56Gu6K6+572uIGxhYmVsIOagt+W8jycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IGRpc2FibGVkPkxhYmVsIFRleHQ8L0NoZWNrYm94Pik7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgbGFiZWwgPSBjaGVja2JveC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IGxhYmVsU3BhbiA9IGxhYmVsPy5xdWVyeVNlbGVjdG9yKCdzcGFuOmxhc3QtY2hpbGQnKTtcbiAgICBleHBlY3QobGFiZWxTcGFuKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5q2j56Gu5aSE55CG6L6T5YWl5qGG55qE5qC35byPJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGV4cGVjdChjaGVja2JveCkudG9IYXZlU3R5bGUoe1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5Zyo56aB55So5pe25q2j56Gu6K6+572u6L6T5YWl5qGG5qC35byPJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8Q2hlY2tib3ggZGlzYWJsZWQgLz4pO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlSb2xlKCdjaGVja2JveCcpO1xuICAgIGV4cGVjdChjaGVja2JveCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWcqOacquemgeeUqOaXtuato+ehruiuvue9rui+k+WFpeahhuagt+W8jycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPENoZWNrYm94IC8+KTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gc2NyZWVuLmdldEJ5Um9sZSgnY2hlY2tib3gnKTtcbiAgICBleHBlY3QoY2hlY2tib3gpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=