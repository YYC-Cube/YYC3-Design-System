{"file":"/Users/yanyu/Downloads/yyc3-Design-System/src/theme/__tests__/ThemeProvider.test.tsx","mappings":";;;AACA,kDAAgE;AAChE,8CAA8C;AAC9C,qCAAmC;AACnC,oDAA2D;AAE3D,QAAQ,CAAC,kBAAkB,EAAE,GAAG,EAAE;IAChC,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE;QACpB,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;YAC7B,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,2DAAa,GACC,CACjB,CAAC;YACF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE;YACpB,MAAM,aAAa,GAAG,GAAG,EAAE;gBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;gBAC5B,OAAO,0EAAY,IAAI,IAAO,CAAC;YACjC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE;YACpB,EAAE,CAAC,eAAe,EAAE,GAAG,EAAE;gBACvB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,0EAAY,IAAI,IAAO,CAAC;gBACjC,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC9D,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE;gBACpB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,0EAAY,IAAI,IAAO,CAAC;gBACjC,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,IAAC,OAAO,EAAC,MAAM,YAC3B,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC7D,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,UAAU,EAAE,GAAG,EAAE;gBAClB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBACrC,OAAO,CACL,4CACE,0EAAY,IAAI,IAAO,EACvB,mCAAQ,OAAO,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,+CAAgB,IAClD,CACP,CAAC;gBACJ,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;gBAE5D,IAAA,WAAG,EAAC,GAAG,EAAE;oBACP,YAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;gBACpC,CAAC,CAAC,CAAC;gBAEH,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC7D,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE;gBACxB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBACrC,OAAO,CACL,4CACE,0EAAY,IAAI,IAAO,EACvB,mCAAQ,OAAO,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,+CAAgB,IACnD,CACP,CAAC;gBACJ,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,IAAC,OAAO,EAAC,MAAM,YAC3B,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;gBAE3D,IAAA,WAAG,EAAC,GAAG,EAAE;oBACP,YAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;gBACpC,CAAC,CAAC,CAAC;gBAEH,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC9D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;YAC7B,EAAE,CAAC,UAAU,EAAE,GAAG,EAAE;gBAClB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,8DAAU,IAAI,IAAO,CAAC;gBAC/B,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC5D,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE;gBACxB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC/B,OAAO,mCAAQ,OAAO,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,yCAAe,CAAC;gBAC/D,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,MAAM,GAAG,YAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAC1C,MAAM,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,CAAC;gBACnC,MAAM,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,0BAA0B,EAAE,GAAG,EAAE;gBAClC,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,8DAAU,IAAI,IAAO,CAAC;gBAC/B,CAAC,CAAC;gBAEF,MAAM,CAAC,GAAG,EAAE;oBACV,IAAA,cAAM,EAAC,uBAAC,aAAa,KAAG,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC,OAAO,CAAC,8CAA8C,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE;YACrB,UAAU,CAAC,GAAG,EAAE;gBACd,YAAY,CAAC,KAAK,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,wBAAwB,EAAE,GAAG,EAAE;gBAChC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;gBAEtC,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,8DAAU,IAAI,IAAO,CAAC;gBAC/B,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC3D,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE;gBAC9B,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBACrC,OAAO,CACL,4CACE,8DAAU,IAAI,IAAO,EACrB,mCAAQ,OAAO,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,6BAAa,IAC/C,CACP,CAAC;gBACJ,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,IAAA,WAAG,EAAC,GAAG,EAAE;oBACP,YAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;gBACjC,CAAC,CAAC,CAAC;gBAEH,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE;YACpB,EAAE,CAAC,UAAU,EAAE,GAAG,EAAE;gBAClB,MAAM,aAAa,GAAG,GAAG,EAAE;oBACzB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,8DAAU,IAAI,IAAO,CAAC;gBAC/B,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,aAAa,KAAG,GACH,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC5D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE;YACpB,EAAE,CAAC,cAAc,EAAE,GAAG,EAAE;gBACtB,MAAM,cAAc,GAAG,GAAG,EAAE;oBAC1B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,0EAAY,IAAI,IAAO,CAAC;gBACjC,CAAC,CAAC;gBAEF,MAAM,cAAc,GAAG,GAAG,EAAE;oBAC1B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wBAAQ,GAAE,CAAC;oBAC5B,OAAO,CACL,4CACE,0EAAY,IAAI,IAAO,EACvB,uBAAC,cAAc,KAAG,IACd,CACP,CAAC;gBACJ,CAAC,CAAC;gBAEF,IAAA,cAAM,EACJ,uBAAC,6BAAa,cACZ,uBAAC,cAAc,KAAG,GACJ,CACjB,CAAC;gBAEF,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;gBAC5D,MAAM,CAAC,YAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC9D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/yanyu/Downloads/yyc3-Design-System/src/theme/__tests__/ThemeProvider.test.tsx"],"sourcesContent":["import * as React from 'react';\nimport { render, fireEvent, act } from '@testing-library/react';\nimport { screen } from '@testing-library/dom';\nimport '@testing-library/jest-dom';\nimport { ThemeProvider, useTheme } from '../ThemeProvider';\n\ndescribe('ThemeProvider 组件', () => {\n  describe('基础渲染', () => {\n    it('应该正确渲染ThemeProvider', () => {\n      render(\n        <ThemeProvider>\n          <div>内容</div>\n        </ThemeProvider>\n      );\n      expect(screen.getByText('内容')).toBeInTheDocument();\n    });\n\n    it('应该支持设置初始主题', () => {\n      const TestComponent = () => {\n        const { mode } = useTheme();\n        return <div>当前主题: {mode}</div>;\n      };\n    });\n\n    describe('主题切换', () => {\n      it('应该默认使用light主题', () => {\n        const TestComponent = () => {\n          const { mode } = useTheme();\n          return <div>当前主题: {mode}</div>;\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('当前主题: light')).toBeInTheDocument();\n      });\n\n      it('应该支持设置初始主题', () => {\n        const TestComponent = () => {\n          const { mode } = useTheme();\n          return <div>当前主题: {mode}</div>;\n        };\n\n        render(\n          <ThemeProvider initial=\"dark\">\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('当前主题: dark')).toBeInTheDocument();\n      });\n\n      it('应该支持切换主题', () => {\n        const TestComponent = () => {\n          const { mode, setMode } = useTheme();\n          return (\n            <div>\n              <div>当前主题: {mode}</div>\n              <button onClick={() => setMode('dark')}>切换到深色</button>\n            </div>\n          );\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('当前主题: light')).toBeInTheDocument();\n\n        act(() => {\n          screen.getByText('切换到深色').click();\n        });\n\n        expect(screen.getByText('当前主题: dark')).toBeInTheDocument();\n      });\n\n      it('应该支持切换到light主题', () => {\n        const TestComponent = () => {\n          const { mode, setMode } = useTheme();\n          return (\n            <div>\n              <div>当前主题: {mode}</div>\n              <button onClick={() => setMode('light')}>切换到浅色</button>\n            </div>\n          );\n        };\n\n        render(\n          <ThemeProvider initial=\"dark\">\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('当前主题: dark')).toBeInTheDocument();\n\n        act(() => {\n          screen.getByText('切换到浅色').click();\n        });\n\n        expect(screen.getByText('当前主题: light')).toBeInTheDocument();\n      });\n    });\n\n    describe('useTheme Hook', () => {\n      it('应该返回当前主题', () => {\n        const TestComponent = () => {\n          const { mode } = useTheme();\n          return <div>主题: {mode}</div>;\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('主题: light')).toBeInTheDocument();\n      });\n\n      it('应该返回setTheme函数', () => {\n        const TestComponent = () => {\n          const { setMode } = useTheme();\n          return <button onClick={() => setMode('dark')}>切换主题</button>;\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        const button = screen.getByRole('button');\n        expect(button).toBeInTheDocument();\n        expect(button).toHaveTextContent('切换主题');\n      });\n\n      it('应该在ThemeProvider外使用时抛出错误', () => {\n        const TestComponent = () => {\n          const { mode } = useTheme();\n          return <div>主题: {mode}</div>;\n        };\n\n        expect(() => {\n          render(<TestComponent />);\n        }).toThrow('useTheme must be used within a ThemeProvider');\n      });\n    });\n\n    describe('主题持久化', () => {\n      beforeEach(() => {\n        localStorage.clear();\n      });\n\n      it('应该从localStorage读取保存的主题', () => {\n        localStorage.setItem('theme', 'dark');\n\n        const TestComponent = () => {\n          const { mode } = useTheme();\n          return <div>主题: {mode}</div>;\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('主题: dark')).toBeInTheDocument();\n      });\n\n      it('应该将主题保存到localStorage', () => {\n        const TestComponent = () => {\n          const { mode, setMode } = useTheme();\n          return (\n            <div>\n              <div>主题: {mode}</div>\n              <button onClick={() => setMode('dark')}>切换</button>\n            </div>\n          );\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        act(() => {\n          screen.getByText('切换').click();\n        });\n\n        expect(localStorage.getItem('theme')).toBe('dark');\n      });\n    });\n\n    describe('主题属性', () => {\n      it('应该提供主题颜色', () => {\n        const TestComponent = () => {\n          const { mode } = useTheme();\n          return <div>主题: {mode}</div>;\n        };\n\n        render(\n          <ThemeProvider>\n            <TestComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('主题: light')).toBeInTheDocument();\n      });\n    });\n\n    describe('嵌套组件', () => {\n      it('应该支持嵌套组件使用主题', () => {\n        const InnerComponent = () => {\n          const { mode } = useTheme();\n          return <div>内部主题: {mode}</div>;\n        };\n\n        const OuterComponent = () => {\n          const { mode } = useTheme();\n          return (\n            <div>\n              <div>外部主题: {mode}</div>\n              <InnerComponent />\n            </div>\n          );\n        };\n\n        render(\n          <ThemeProvider>\n            <OuterComponent />\n          </ThemeProvider>\n        );\n\n        expect(screen.getByText('外部主题: light')).toBeInTheDocument();\n        expect(screen.getByText('内部主题: light')).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"version":3}