d38d57100fbcce7dce1f87580e1a7dbe
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("@testing-library/react");
const dom_1 = require("@testing-library/dom");
require("@testing-library/jest-dom");
const AIColorRecommender_1 = require("./AIColorRecommender");
const ThemeProvider_1 = require("../theme/ThemeProvider");
const renderWithTheme = (component) => {
    return (0, react_1.render)((0, jsx_runtime_1.jsx)(ThemeProvider_1.ThemeProvider, { children: component }));
};
describe('AIColorRecommender', () => {
    it('应该渲染组件', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        expect(dom_1.screen.getByText('AI 配色方案推荐')).toBeInTheDocument();
    });
    it('应该显示基础颜色输入', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        expect(dom_1.screen.getByText('基础颜色')).toBeInTheDocument();
    });
    it('应该显示用途选项', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        expect(dom_1.screen.getByText('品牌')).toBeInTheDocument();
        expect(dom_1.screen.getByText('UI 界面')).toBeInTheDocument();
        expect(dom_1.screen.getByText('数据可视化')).toBeInTheDocument();
        expect(dom_1.screen.getByText('营销活动')).toBeInTheDocument();
    });
    it('应该显示情绪选项', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        expect(dom_1.screen.getByText('专业')).toBeInTheDocument();
        expect(dom_1.screen.getByText('活泼')).toBeInTheDocument();
        expect(dom_1.screen.getByText('平静')).toBeInTheDocument();
        expect(dom_1.screen.getByText('活力')).toBeInTheDocument();
        expect(dom_1.screen.getByText('高端')).toBeInTheDocument();
    });
    it('应该显示可访问性标准选项', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        expect(dom_1.screen.getByText('AA (4.5:1)')).toBeInTheDocument();
        expect(dom_1.screen.getByText('AAA (7:1)')).toBeInTheDocument();
    });
    it('应该显示生成配色方案按钮', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        expect(dom_1.screen.getByText('生成配色方案')).toBeInTheDocument();
    });
    it('应该支持自定义类名', () => {
        const { container } = renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, { className: "custom-class" }));
        expect(container.querySelector('.custom-class')).toBeInTheDocument();
    });
    it('应该调用 onSelectScheme 回调', () => {
        const onSelectScheme = jest.fn();
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, { onSelectScheme: onSelectScheme }));
        const generateButton = dom_1.screen.getByText('生成配色方案');
        react_1.fireEvent.click(generateButton);
        // 等待生成方案后点击方案
        setTimeout(() => {
            const schemes = dom_1.screen.queryAllByText(/推荐方案/);
            if (schemes.length > 0) {
                const firstScheme = dom_1.screen.queryAllByText(/推荐方案/)[0];
                if (firstScheme) {
                    react_1.fireEvent.click(firstScheme);
                }
            }
        }, 100);
    });
    it('应该支持选择用途', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        const purposeButton = dom_1.screen.getByText('品牌');
        react_1.fireEvent.click(purposeButton);
    });
    it('应该支持选择情绪', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        const moodButton = dom_1.screen.getByText('活泼');
        react_1.fireEvent.click(moodButton);
    });
    it('应该支持选择可访问性标准', () => {
        renderWithTheme((0, jsx_runtime_1.jsx)(AIColorRecommender_1.AIColorRecommender, {}));
        const accessibilityButton = dom_1.screen.getByText('AAA (7:1)');
        react_1.fireEvent.click(accessibilityButton);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3lhbnl1L0Rvd25sb2Fkcy95eWMzLURlc2lnbi1TeXN0ZW0vc3JjL2NvbXBvbmVudHMvQUlDb2xvclJlY29tbWVuZGVyLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7OztBQVVBLGtEQUEyRDtBQUMzRCw4Q0FBOEM7QUFFOUMscUNBQW1DO0FBQ25DLDZEQUEwRDtBQUMxRCwwREFBdUQ7QUFFdkQsTUFBTSxlQUFlLEdBQUcsQ0FBQyxTQUE2QixFQUFFLEVBQUU7SUFDeEQsT0FBTyxJQUFBLGNBQU0sRUFBQyx1QkFBQyw2QkFBYSxjQUFFLFNBQVMsR0FBaUIsQ0FBQyxDQUFDO0FBQzVELENBQUMsQ0FBQztBQUVGLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7SUFDbEMsRUFBRSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7UUFDaEIsZUFBZSxDQUFDLHVCQUFDLHVDQUFrQixLQUFHLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsWUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDNUQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtRQUNwQixlQUFlLENBQUMsdUJBQUMsdUNBQWtCLEtBQUcsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN2RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBQ2xCLGVBQWUsQ0FBQyx1QkFBQyx1Q0FBa0IsS0FBRyxDQUFDLENBQUM7UUFDeEMsTUFBTSxDQUFDLFlBQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxZQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUs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QUMvQixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNWLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7UUFDbEIsZUFBZSxDQUFDLHVCQUFDLHVDQUFrQixLQUFHLENBQUMsQ0FBQztRQUV4QyxNQUFNLGFBQWEsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLGlCQUFTLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7UUFDbEIsZUFBZSxDQUFDLHVCQUFDLHVDQUFrQixLQUFHLENBQUMsQ0FBQztRQUV4QyxNQUFNLFVBQVUsR0FBRyxZQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLGlCQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzlCLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUU7UUFDdEIsZUFBZSxDQUFDLHVCQUFDLHVDQUFrQixLQUFHLENBQUMsQ0FBQztRQUV4QyxNQUFNLG1CQUFtQixHQUFHLFlBQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUQsaUJBQVMsQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUN2QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW55dS9Eb3dubG9hZHMveXljMy1EZXNpZ24tU3lzdGVtL3NyYy9jb21wb25lbnRzL0FJQ29sb3JSZWNvbW1lbmRlci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIOmFjeiJsuaWueahiOaOqOiNkOe7hOS7tua1i+ivlVxuICogQGRlc2NyaXB0aW9uIOa1i+ivlSBBSUNvbG9yUmVjb21tZW5kZXIg57uE5Lu255qE5ZCE6aG55Yqf6IO9XG4gKiBAbW9kdWxlIF9fdGVzdHNfXy9jb21wb25lbnRzL0FJQ29sb3JSZWNvbW1lbmRlci50ZXN0XG4gKiBAYXV0aG9yIFlZQ8KzXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGNyZWF0ZWQgMjAyNi0wMi0yMVxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBzY3JlZW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L2RvbSc7XG5cbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQgeyBBSUNvbG9yUmVjb21tZW5kZXIgfSBmcm9tICcuL0FJQ29sb3JSZWNvbW1lbmRlcic7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSAnLi4vdGhlbWUvVGhlbWVQcm92aWRlcic7XG5cbmNvbnN0IHJlbmRlcldpdGhUaGVtZSA9IChjb21wb25lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkgPT4ge1xuICByZXR1cm4gcmVuZGVyKDxUaGVtZVByb3ZpZGVyPntjb21wb25lbnR9PC9UaGVtZVByb3ZpZGVyPik7XG59O1xuXG5kZXNjcmliZSgnQUlDb2xvclJlY29tbWVuZGVyJywgKCkgPT4ge1xuICBpdCgn5bqU6K+l5riy5p+T57uE5Lu2JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8QUlDb2xvclJlY29tbWVuZGVyIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQUkg6YWN6Imy5pa55qGI5o6o6I2QJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmmL7npLrln7rnoYDpopzoibLovpPlhaUnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxBSUNvbG9yUmVjb21tZW5kZXIgLz4pO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfln7rnoYDpopzoibInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaYvuekuueUqOmAlOmAiemhuScsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPEFJQ29sb3JSZWNvbW1lbmRlciAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+WTgeeJjCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdVSSDnlYzpnaInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn5pWw5o2u5Y+v6KeG5YyWJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+iQpemUgOa0u+WKqCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pi+56S65oOF57uq6YCJ6aG5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8QUlDb2xvclJlY29tbWVuZGVyIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn5LiT5LiaJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+a0u+azvCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCflubPpnZknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn5rS75YqbJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+mrmOerrycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pi+56S65Y+v6K6/6Zeu5oCn5qCH5YeG6YCJ6aG5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8QUlDb2xvclJlY29tbWVuZGVyIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQUEgKDQuNToxKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBQUEgKDc6MSknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaYvuekuueUn+aIkOmFjeiJsuaWueahiOaMiemSricsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPEFJQ29sb3JSZWNvbW1lbmRlciAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+eUn+aIkOmFjeiJsuaWueahiCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyB6Ieq5a6a5LmJ57G75ZCNJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJXaXRoVGhlbWUoPEFJQ29sb3JSZWNvbW1lbmRlciBjbGFzc05hbWU9XCJjdXN0b20tY2xhc3NcIiAvPik7XG4gICAgZXhwZWN0KGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLWNsYXNzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XosIPnlKggb25TZWxlY3RTY2hlbWUg5Zue6LCDJywgKCkgPT4ge1xuICAgIGNvbnN0IG9uU2VsZWN0U2NoZW1lID0gamVzdC5mbigpO1xuICAgIHJlbmRlcldpdGhUaGVtZSg8QUlDb2xvclJlY29tbWVuZGVyIG9uU2VsZWN0U2NoZW1lPXtvblNlbGVjdFNjaGVtZX0gLz4pO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCfnlJ/miJDphY3oibLmlrnmoYgnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soZ2VuZXJhdGVCdXR0b24pO1xuXG4gICAgLy8g562J5b6F55Sf5oiQ5pa55qGI5ZCO54K55Ye75pa55qGIXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBzY2hlbWVzID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KC/mjqjojZDmlrnmoYgvKTtcbiAgICAgIGlmIChzY2hlbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmlyc3RTY2hlbWUgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoL+aOqOiNkOaWueahiC8pWzBdO1xuICAgICAgICBpZiAoZmlyc3RTY2hlbWUpIHtcbiAgICAgICAgICBmaXJlRXZlbnQuY2xpY2soZmlyc3RTY2hlbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaUr+aMgemAieaLqeeUqOmAlCcsICgpID0+IHtcbiAgICByZW5kZXJXaXRoVGhlbWUoPEFJQ29sb3JSZWNvbW1lbmRlciAvPik7XG5cbiAgICBjb25zdCBwdXJwb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgn5ZOB54mMJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHB1cnBvc2VCdXR0b24pO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5pSv5oyB6YCJ5oup5oOF57uqJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhUaGVtZSg8QUlDb2xvclJlY29tbWVuZGVyIC8+KTtcblxuICAgIGNvbnN0IG1vb2RCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCfmtLvms7wnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2sobW9vZEJ1dHRvbik7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmlK/mjIHpgInmi6nlj6/orr/pl67mgKfmoIflh4YnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFRoZW1lKDxBSUNvbG9yUmVjb21tZW5kZXIgLz4pO1xuXG4gICAgY29uc3QgYWNjZXNzaWJpbGl0eUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0FBQSAoNzoxKScpO1xuICAgIGZpcmVFdmVudC5jbGljayhhY2Nlc3NpYmlsaXR5QnV0dG9uKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==