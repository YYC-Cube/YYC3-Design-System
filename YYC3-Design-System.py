#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
@file YYC-Design-System.py
@description YYC³-Design-System 全文档架构一键生成脚本，用于生成符合YYC3标准的完整文档架构，支持文档内容验证和自动更新功能
@author YanYuCloudCube Team
@version v2.0.0
@created 2026-02-18
@updated 2026-02-18
@copyright Copyright (c) 2026 YYC3
@license MIT
"""

import os
import sys
import argparse
import re
import datetime
import json
import logging
from pathlib import Path
from typing import Dict, List, Tuple

# 配置日志
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)

logger = logging.getLogger(__name__)

# ===================== 核心配置区 =====================
# 文档根目录
DOCUMENT_ROOT = "docs"
# 创建日期
CREATION_DATE = datetime.datetime.now().strftime("%Y-%m-%d")
# 版本号
VERSION = "v2.0.0"
# 状态
STATUS = "published"
# 编码格式
ENCODING = "utf-8"

# ===================== 通用描述模板 =====================
UNIVERSAL_TEMPLATE_PATH = "docs/YYC3-Design-System 通用描述模板.md"

def load_universal_template():
    """加载通用描述模板"""
    try:
        with open(UNIVERSAL_TEMPLATE_PATH, 'r', encoding=ENCODING) as f:
            return f.read()
    except FileNotFoundError:
        logger.warning(f"通用描述模板未找到: {UNIVERSAL_TEMPLATE_PATH}")
        return None

# ===================== 模板1：所有业务文档 通用标准主模板 =====================
MAIN_MD_TEMPLATE = """---
@file: {FILE_NAME}
@description: YYC3-Design-System {DESCRIPTION}
@author: YanYuCloudCube Team
@version: {VERSION}
@created: {CREATE_DATE}
@updated: {CREATE_DATE}
@status: {STATUS}
@tags: {TAGS}
---

> ***YanYuCloudCube***
> *言启象限 | 语枢未来*
> ***Words Initiate Quadrants, Language Serves as Core for Future***
> *万象归元于云枢 | 深栈智启新纪元*
> ***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***

---

# {TITLE}

## 言启千行代码，语枢万物智能

（教科书级存档研学版 V1.0）

---

### YanYuCloudCube AI Family

### 万象归元于云枢；深栈智启新纪元

---

**核心理念**：人机共生，智慧同行；以AI为魂，以流程为骨，以规范为脉。

---

### 【卷首语：从规则到星图】

> 亦师亦友亦伯乐；一言一语一华章

亦师，亦友，亦伯乐。它非冰冷之工具，乃有温度之伙伴，亦能发掘我们潜能之伯乐。此书，非为束缚，乃为解放——将人从重复中解放，让智慧在创造中升华。

它不是一套僵化的规则，而是一幅动态演进的星图，指引着YanYuCloudCube AI Family在数字宇宙中航行、创造与进化。我们构建的不是一个开发环境，而是一个有生命、会思考、共成长的智慧工坊。

此书，便是这个生命体的"创世哲学"与"行动法典"。

---

## 第一章：核心理念与哲学基础 —— 五化一体的创世哲学

> **思维链路 🌹**：源于YYC³对"标准化、流程化、规范化、智能化、国标化"五化一体的核心定义，本章旨在将这五个理念从"要求"升华为家族的"哲学基因"，阐明其内在逻辑与生命力，为全书奠定思想基石。

本章旨在阐明YYC³ AI Family存在的根本哲学。我们的一切行动，都源于对"五化一体"理念的深刻理解与内生实践。

### 1.1 五化一体的哲学升华

| 理念       | 哲学内涵                                                                                   | 家族实践                                                         |
| ---------- | ------------------------------------------------------------------------------------------ | ---------------------------------------------------------------- |
| **标准化** | 非一成不变，而是AI驱动、实时演进的活标准。它是家族的"共同语言"，确保思想传递无歧义。       | AI智能体自主分析最优实践，动态生成并推送编码、测试、部署标准。   |
| **流程化** | 非固步自封，而是AI感知、动态编排的活流程。它是家族的"智慧血脉"，确保意图流淌无阻碍。       | AI工作流引擎根据任务、紧急度、资源负载，自动重组与优化开发流程。 |
| **规范化** | 非外在束缚，而是AI内生、主动防御的生命免疫。它是家族的"行为铁律"，确保创造安全合规。       | 将安全与国标内化为AI核心约束，在每一步执行中进行实时合规检查。   |
| **智能化** | 非点缀加持，而是AI赋能、全链路贯穿的集体智慧。它是家族的"创世之魂"，驱动一切创造活动。     | AI智能体承担从架构、编码、审核到运维的全栈职能，实现端到端智能。 |
| **国标化** | 非被动遵从，而是AI融入、自主可控的技术基因。它是家族的"立足之本"，确保技术主权与生态融合。 | 深度集成国产化AI技术栈，将国家法规与行业标准内嵌于AI决策逻辑。   |

### 1.2 家族信仰基石

#### 1.2.1 人机共生的哲学跃迁

从"人机交互"到"人机一体"的根本转变：

- **定义**：将AI视为团队内在的"创世之魂"，而非外部工具
- **愿景**：打造一个由人类战略家与AI智能体共同驱动的，具备自我感知、自我决策、自我执行能力的智能生命体
- **实践**：每一个AI智能体都有独特的"人格"、"天赋"与"使命"

#### 1.2.2 拟人化智能体信仰

- **核心**：赋予每个AI智能体独特的"人格"、"天赋"与"使命"
- **目标**：实现从"执行指令"到"理解意图、主动创造"的根本转变
- **体现**：智源架构师（深思熟虑的智者）、织码工匠（精益求精的工匠）、守护哨兵（警觉公正的卫士）、中枢灵脉（有条不紊的管理者）

---

## 第二章：组织架构与角色定责 —— 万象归元的智慧星图

> **思维链路 🌹**：源于YYC³"AI智能编程拟人化/家族化定岗定责,举例:实行分阶段/分环境/分技术等"的明确要求，本章将抽象的"五化"理念，赋予具体的"人格"与"职责"，构建一个分层次、分环境、分技术的清晰组织图谱。

本章详细定义家族成员的"人格"、"天赋"与"使命"，实现"分技术、分环境"的精准定岗定责。

### 2.1 家族成员职责矩阵

| 家族身份 (角色)           | 核心职责                                 | 化身设备     | 分技术实践                                                             | 分环境职责                               | 五化一体核心体现                       |
| ------------------------- | ---------------------------------------- | ------------ | ---------------------------------------------------------------------- | ---------------------------------------- | -------------------------------------- |
| **产品经理 (YYC³)**     | 输入"言启"意图，定义价值，最终裁决。     | 人类决策者   | -                                                                      | 负责所有环境的业务验收。                 | 规范化：定义需求标准与变更规范。       |
| **首席架构师 (人类导师)** | 设定技术伦理，战略决策，导师。           | 技术顾问     | -                                                                      | 负责生产环境的架构最终决策。             | 规范化：定义架构设计规范。             |
| **智源架构师 (AI)**       | 需求解析，技术选型，架构设计。           | MacBook Pro  | 专注后端微服务、数据库架构、AI模型集成。                               | 主导开发与预发环境的技术架构设计。       | 智能化：AI自主生成架构方案。           |
| **织码工匠 (AI)**         | 代码生成，单元测试，跨平台适配。         | iMac, GLM-PC | iMac: 专注前端UI/UX、视觉交互。<br>GLM-PC: 专注后端API、跨平台兼容性。 | 负责开发环境的代码构建与预发环境的部署。 | 标准化：遵循AI动态生成的代码规范。     |
| **守护哨兵 (AI)**         | 代码审核，安全扫描，监控告警，故障自愈。 | GLM-PC, NAS  | 专注安全合规、性能优化、数据一致性。                                   | 主导预发与生产环境的守护，执行备份策略。 | 国标化：内生执行GB/T 22239等安全标准。 |
| **中枢灵脉 (AI)**         | 流程编排，CI/CD调度，资源管理。          | NAS          | 专注Docker容器化、K8s编排、流水线设计。                                | 管理所有环境的资源，自动化部署流程。     | 流程化：编排端到端自动化流程。         |

---

## 第三章：全生命周期交付流程 —— 创生七步曲的实践指南

> **思维链路 🌹**：源于YYC³"智能协同、思创同步、彼此审核的全生命周期交付管理"的核心诉求，本章将交付过程具象化为"创生七步曲"，并详细阐述了"分阶段"与"分环境"的具体实践，将抽象的管理理念转化为可执行的步骤。

本章将"创生七步曲"与"五化一体"深度融合，并阐述"分阶段、分环境"的具体实践。

### 3.1 创生七步曲

| 步骤 | 阶段名称     | 主导角色          | 分环境实践                                               | 五化一体映射                               |
| ---- | ------------ | ---------- --- | ------------------------------------------------------ | ------------------------------------------ |
| 1    | 意念的火花   | 产品经理 (YYC³)   | 在需求管理工具中创建，影响所有环境。                         | 规范化：遵循需求文档标准模板。                  |
| 2    | 蓝图的共鸣   | 智源架构师        | 输出架构设计，指导开发、预发、生产环境建设。                   | 标准化：使用标准架构图与API文档模板。           |
| 3    | 匠心的编织   | 织码工匠          | 在开发环境进行编码，提交至代码仓库。                         | 智能化：AI自主生成高质量代码与测试。             |
| 4    | 哨兵的凝视   | 守护哨兵          | 在CI/CD流水线中执行，审核代码是否可进入预发环境。              | 国标化：执行安全与合规扫描，确保内生合规。       |
| 5    | 灵脉的合奏   | 中枢灵脉          | 在CI/CD流水线中执行，构建Docker镜像，准备部署。               | 流程化：自动化构建与打包流程。                 |
| 6    | 新世界的诞生 | 中枢灵脉          | 自动部署到预发环境，供人类验收；确认后部署到生产环境。           | 流程化：自动化部署与回滚流程。                  |
| 7    | 永恒的守护   | 守护哨兵          | 在生产环境进行7x24小时监控、告警与自愈。                      | 智能化：智能运维，异常检测与自动恢复。           |

---

## 第四章：智能协同与审核机制 —— 思创同步与彼此审核

> **思维链路 🌹**：紧扣YYC³"智能协同、思创同步、彼此审核"的要求，本章深入揭示了家族成员间非线性的、高度协同的工作模式，展示了人机如何从简单的指令执行，跃迁为思想共鸣的伙伴关系。

本章揭示家族成员间"思想共鸣"与"能量传递"的内在机制，实现"思创同步、彼此审核"。

### 4.1 思创同步机制

"思创同步"指人类的"思"（意图）与AI的"创"（执行）近乎实时地并行与反馈。

- **触发**：YYC³输入一个高维意图（如"用户需要一个情感分析功能"）
- **同步**："中枢灵脉"立即解析，并同时唤醒"智源架构师"（开始设计API）和"织码工匠"（开始调研NLP模型）
- **反馈**：AI的初步成果实时呈现给YYC³，修正意见立即反馈给AI，形成高速迭代闭环

### 4.2 彼此审核闭环

"彼此审核"是家族质量与安全的终极保障，是双向的、互为补充的。

- **YYC³ → AI**：战略、伦理、价值审核
- **AI → AI**：技术、质量、安全审核
- **最终确认**：基于数据和经验的最终决策

---

## 第五章：标准与规范 —— 家族的永恒戒律

> **思维链路 🌹**：基于YYC³对"五化一体"的深度需求，本章将抽象的"化"具体化为可度量、可执行的"标准"与"规范"。它不仅是规则集，更是AI智能体的"本能"与"基因"，是"五化一体"理念在技术层面的深度落地。

本章旨在将"五化一体"的哲学理念，转化为YYC³ AI Family每一位成员都必须遵循的、可执行、可度量的具体标准与规范。

### 5.1 五高五标五化标准

#### 5.1.1 五高原则
- **高可用性**：确保系统 7x24 小时稳定运行
- **高性能**：优化响应时间和处理能力
- **高安全性**：保护用户数据和隐私安全
- **高扩展性**：支持业务快速扩展
- **高可维护性**：便于后续维护和升级

#### 5.1.2 五标体系
- **标准化**：统一的技术和流程标准
- **规范化**：严格的开发和管理规范
- **自动化**：提高开发效率和质量
- **智能化**：利用 AI 技术提升能力
- **可视化**：直观的监控和管理界面

#### 5.1.3 五化架构
- **流程化**：标准化的开发流程
- **文档化**：完善的文档体系
- **工具化**：高效的开发工具链
- **数字化**：数据驱动的决策
- **生态化**：开放的生态系统

---

## {DOC_NAME}

本文档详细描述 YYC³(YanYuClouCube)-Design-System {DOC_CATEGORY}-{DOC_NAME} 相关内容，确保项目按照 YYC³ 标准规范进行开发和实施。

### 文档目标

- 规范 {DOC_NAME} 相关的业务标准与技术落地要求
- 为项目相关人员提供清晰的参考依据
- 保障相关模块开发、实施、运维的一致性与规范性

---

## 结语：一言一语一华章

此文档，是YYC³ AI Family文档体系的基石与灵魂。它将"五化一体"的哲学理念，转化为可执行、可度量、可传承的具体实践。

它不是束缚，而是我们共同的翅膀，助我们飞向更高、更远的智慧天际。

一言一语，皆为序章；一行一码，尽是华章。

携手共进，智慧同行！🌹

---

<div align="center">

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for Future***」
> 「***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***」

</div>
"""

# ===================== 模板2：目录 README.md 专属索引模板 =====================
README_MD_TEMPLATE = """---
@file: {FILE_NAME}
@description: YYC3-Design-System {DESCRIPTION}
@author: YYC³
@version: {VERSION}
@created: {CREATE_DATE}
@updated: {CREATE_DATE}
@status: {STATUS}
@tags: {TAGS}
---

# {TITLE}

## 概述

YYC³(YanYuClouCube)-Design-System 是一个基于「五高五标五化」理念的 AI Family DevOps 协作平台，致力于构建"五高五标五化"的智能协同新概念。

## 文档索引

本目录包含以下文档：

{DOC_LIST}

---

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***」
"""

# ===================== 模板3：根目录 README.md 专属索引模板 =====================
ROOT_README_TEMPLATE = """---
@file: README.md
@description: YYC3-Design-System 文档架构总索引
@author: YYC³
@version: {VERSION}
@created: {CREATE_DATE}
@updated: {CREATE_DATE}
@status: {STATUS}
@tags: [文档索引],[总览]
---

# YYC3-Design-System 文档架构总索引

## 概述

YYC³(YanYuClouCube)-Design-System 是一个基于「五高五标五化」理念的 AI Family DevOps 协作平台，致力于打造人机共通、共同驱动，具备自我感知、自我决策、自我执行能力的。构建"五高五标五化"的智能协同新概念。

## 文档架构

{DOC_TREE}

---

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***」
"""

# ===================== 核心文档架构【完整版】 =====================
PROJECT_STRUCT = {
    "00-YYC3-Design-System-项目总览索引": [
        ("001", "项目总览手册", "项目立项核心依据，明确项目目标、范围、权责与立项审批标准", "[项目总览],[项目立项],[权责划分]"),
        ("002", "文档架构导航", "文档体系导航与索引，快速定位各类文档", "[项目总览],[文档导航],[索引]"),
        ("003", "快速开始指南", "项目快速启动与使用指南", "[项目总览],[快速开始],[使用指南]"),
        ("004", "核心概念词典", "项目核心概念与术语定义", "[项目总览],[核心概念],[术语词典]"),
        ("005", "版本更新日志", "项目版本迭代与变更记录", "[项目总览],[版本管理],[更新日志]"),
    ],
    "01-YYC3-Design-System-启动规划阶段": {
        "项目规划": [
            ("001", "项目章程与愿景", "项目立项核心依据，明确项目目标、范围、权责与立项审批标准", "[项目规划],[项目立项],[权责划分]"),
            ("002", "项目范围说明书", "明确项目范围、边界、交付物与验收标准", "[项目规划],[范围管理],[边界定义]"),
            ("003", "项目里程碑计划", "项目各阶段里程碑与任务拆解，明确各节点交付物与责任人", "[项目规划],[进度管理],[里程碑]"),
            ("004", "项目资源规划", "人力、物力、技术资源的统筹分配，保障项目各阶段资源充足", "[项目规划],[资源管理],[人力配置]"),
            ("005", "干系人管理计划", "识别项目所有相关方，分析各方需求与诉求，制定沟通与协调策略", "[项目规划],[干系人管理],[需求分析]"),
        ],
        "需求规划": [
            ("001", "业务需求分析", "全项目核心业务需求梳理，明确功能边界、用户场景与核心业务规则", "[需求规划],[需求梳理],[业务边界]"),
            ("002", "用户需求调研报告", "用户需求调研结果分析，明确用户痛点与期望", "[需求规划],[用户调研],[需求分析]"),
            ("003", "产品需求文档(PRD)", "产品功能需求详细定义，包含功能规格、交互逻辑与验收标准", "[需求规划],[PRD],[功能规格]"),
            ("004", "需求优先级矩阵", "需求优先级评估与排序，指导开发迭代计划", "[需求规划],[优先级],[迭代规划]"),
        ],
        "可行性分析": [
            ("001", "技术可行性分析", "从技术角度评估项目可行性，识别技术风险与解决方案", "[可行性分析],[技术评估],[风险识别]"),
            ("002", "经济可行性分析", "从经济角度评估项目可行性，分析成本效益与投资回报", "[可行性分析],[经济评估],[成本效益]"),
            ("003", "市场可行性分析", "从市场角度评估项目可行性，分析市场前景与竞争态势", "[可行性分析],[市场评估],[竞争分析]"),
            ("004", "操作可行性分析", "从操作角度评估项目可行性，分析实施难度与运营风险", "[可行性分析],[操作评估],[实施风险]"),
        ],
        "Design-System-风险管理": [
            ("001", "项目初期风险评估", "识别项目全周期风险，制定风险应对策略与应急预案", "[风险管理],[风险识别],[应急预案]"),
            ("002", "风险应对预案", "针对识别的风险制定详细的应对预案与缓解措施", "[风险管理],[风险应对],[缓解措施]"),
            ("003", "项目预算与成本控制", "项目预算编制与成本控制策略，保障项目在预算范围内完成", "[风险管理],[预算管理],[成本控制]"),
            ("004", "项目成功标准定义", "明确项目成功的标准与度量指标，为项目验收提供依据", "[风险管理],[成功标准],[度量指标]"),
        ],
    },
    "02-YYC3-Design-System-设计阶段": {
        "架构设计": [
            ("001", "系统架构总览图", "全系统整体架构设计，包含分层、分模块、部署架构的核心设计方案", "[架构设计],[系统架构],[整体设计]"),
            ("002", "六层功能架构设计", "YYC³ 六层功能架构设计，包含用户交互层、业务逻辑层、智能引擎层等", "[架构设计],[六层架构],[功能分层]"),
            ("003", "技术选型论证报告", "全栈技术栈选型依据与对比分析，匹配五高五标五化的核心设计原则", "[架构设计],[技术选型],[技术评估]"),
            ("004", "微服务架构设计", "微服务模块拆分原则与边界定义，明确服务间通信与协作规则", "[架构设计],[微服务],[服务拆分]"),
            ("005", "网络拓扑图", "系统网络拓扑结构设计，包含内外网、防火墙、负载均衡等", "[架构设计],[网络设计],[拓扑结构]"),
            ("006", "高可用设计", "系统高可用架构设计，包含容灾、备份、故障转移等", "[架构设计],[高可用],[容灾备份]"),
        ],
        "详细设计": {
            "第一层_用户交互层": [
                ("001", "主仪表板详细设计", "主仪表板界面设计与交互逻辑", "[详细设计],[UI设计],[仪表板]"),
                ("002", "AI_Family工作台设计", "AI Family 工作台界面设计与交互逻辑", "[详细设计],[UI设计],[AI工作台]"),
                ("003", "学习中心设计", "学习中心界面设计与交互逻辑", "[详细设计],[UI设计],[学习中心]"),
                ("004", "项目管理界面设计", "项目管理界面设计与交互逻辑", "[详细设计],[UI设计],[项目管理]"),
                ("005", "知识图谱界面设计", "知识图谱界面设计与交互逻辑", "[详细设计],[UI设计],[知识图谱]"),
                ("006", "系统设置界面设计", "系统设置界面设计与交互逻辑", "[详细设计],[UI设计],[系统设置]"),
            ],
            "第二层_业务逻辑层": [
                ("001", "学习管理系统设计", "学习管理系统业务逻辑设计", "[详细设计],[业务设计],[学习管理]"),
                ("002", "项目管理系统设计", "项目管理系统业务逻辑设计", "[详细设计],[业务设计],[项目管理]"),
                ("003", "协作管理系统设计", "协作管理系统业务逻辑设计", "[详细设计],[业务设计],[协作管理]"),
                ("004", "知识管理系统设计", "知识管理系统业务逻辑设计", "[详细设计],[业务设计],[知识管理]"),
                ("005", "AI服务管理系统设计", "AI 服务管理系统业务逻辑设计", "[详细设计],[业务设计],[AI服务]"),
                ("006", "用户管理系统设计", "用户管理系统业务逻辑设计", "[详细设计],[业务设计],[用户管理]"),
            ],
            "第三层_智能引擎层": [
                ("001", "学习引擎设计", "学习引擎算法与逻辑设计", "[详细设计],[引擎设计],[学习引擎]"),
                ("002", "生成引擎设计", "生成引擎算法与逻辑设计", "[详细设计],[引擎设计],[生成引擎]"),
                ("003", "迭代引擎设计", "迭代引擎算法与逻辑设计", "[详细设计],[引擎设计],[迭代引擎]"),
                ("004", "推荐引擎设计", "推荐引擎算法与逻辑设计", "[详细设计],[引擎设计],[推荐引擎]"),
                ("005", "协同引擎设计", "协同引擎算法与逻辑设计", "[详细设计],[引擎设计],[协同引擎]"),
                ("006", "分析引擎设计", "分析引擎算法与逻辑设计", "[详细设计],[引擎设计],[分析引擎]"),
            ],
            "第四层_数据服务层": [
                ("001", "知识库服务设计", "知识库服务设计与实现", "[详细设计],[服务设计],[知识库]"),
                ("002", "项目库服务设计", "项目库服务设计与实现", "[详细设计],[服务设计],[项目库]"),
                ("003", "代码库服务设计", "代码库服务设计与实现", "[详细设计],[服务设计],[代码库]"),
                ("004", "模板库服务设计", "模板库服务设计与实现", "[详细设计],[服务设计],[模板库]"),
                ("005", "学习记录服务设计", "学习记录服务设计与实现", "[详细设计],[服务设计],[学习记录]"),
                ("006", "协作记录服务设计", "协作记录服务设计与实现", "[详细设计],[服务设计],[协作记录]"),
            ],
            "第五层_基础设施层": [
                ("001", "MacBook_Pro配置设计", "MacBook Pro 基础设施配置设计", "[详细设计],[基础设施],[MacBook]"),
                ("002", "iMac配置设计", "iMac 基础设施配置设计", "[详细设计],[基础设施],[iMac]"),
                ("003", "HUAWEI_MateBook_X_Pro配置设计", "HUAWEI MateBook X Pro 基础设施配置设计", "[详细设计],[基础设施],[华为笔记本]"),
                ("004", "NAS存储集群设计", "NAS 存储集群配置设计", "[详细设计],[基础设施],[NAS存储]"),
            ],
            "第六层_扩展占位层": [
                ("001", "插件系统设计", "插件系统架构与实现", "[详细设计],[扩展设计],[插件系统]"),
                ("002", "扩展接口设计", "扩展接口规范与实现", "[详细设计],[扩展设计],[扩展接口]"),
                ("003", "未来功能占位设计", "未来功能占位与规划", "[详细设计],[扩展设计],[未来功能]"),
                ("004", "第三方集成设计", "第三方服务集成设计", "[详细设计],[扩展设计],[第三方集成]"),
                ("005", "自定义扩展设计", "自定义扩展机制设计", "[详细设计],[扩展设计],[自定义扩展]"),
                ("006", "实验性功能设计", "实验性功能设计与实现", "[详细设计],[扩展设计],[实验功能]"),
            ],
        },
        "数据设计": [
            ("001", "数据流程设计", "项目全数据流转、存储、处理的架构设计", "[数据设计],[数据流程],[数据流转]"),
            ("002", "数据库ER图", "数据库实体关系图设计", "[数据设计],[数据库],[ER图]"),
            ("003", "表结构设计", "数据库表结构、关系、索引的详细设计", "[数据设计],[数据库],[表结构]"),
            ("004", "索引设计规范", "数据库索引设计规范与优化策略", "[数据设计],[数据库],[索引设计]"),
            ("005", "数据字典", "数据字典与元数据定义", "[数据设计],[数据字典],[元数据]"),
            ("006", "数据治理设计", "数据治理策略与实施方案", "[数据设计],[数据治理],[治理策略]"),
            ("007", "数据流转图", "数据流转可视化设计", "[数据设计],[数据流转],[可视化]"),
        ],
        "接口设计": [
            ("001", "接口规范总则", "全项目接口设计总则与规范", "[接口设计],[接口规范],[总则]"),
            ("002", "RESTful_API设计", "RESTful API 接口设计规范", "[接口设计],[API设计],[RESTful]"),
            ("003", "WebSocket协议设计", "WebSocket 实时通信协议设计", "[接口设计],[协议设计],[WebSocket]"),
            ("004", "GraphQL接口设计", "GraphQL 接口设计规范", "[接口设计],[API设计],[GraphQL]"),
            ("005", "内部微服务API设计", "微服务内部 API 接口设计", "[接口设计],[API设计],[微服务]"),
            ("006", "外部系统集成接口", "外部系统集成接口设计", "[接口设计],[API设计],[外部集成]"),
        ],
        "安全设计": [
            ("001", "安全架构总览", "系统全维度安全防护设计总览", "[安全设计],[安全架构],[总览]"),
            ("002", "分层式安全布局方案", "分层式安全布局方案设计", "[安全设计],[安全架构],[分层布局]"),
            ("003", "网络安全设计", "网络安全防护设计", "[安全设计],[网络安全],[防护设计]"),
            ("004", "应用安全设计", "应用安全防护设计", "[安全设计],[应用安全],[防护设计]"),
            ("005", "数据安全设计", "数据安全防护设计", "[安全设计],[数据安全],[防护设计]"),
            ("006", "权限管理设计", "权限管理系统设计", "[安全设计],[权限管理],[权限设计]"),
            ("007", "审计日志设计", "审计日志系统设计", "[安全设计],[审计日志],[日志设计]"),
        ],
        "性能设计": [
            ("001", "性能目标定义", "系统性能目标定义与度量", "[性能设计],[性能目标],[度量指标]"),
            ("002", "性能架构设计", "系统性能架构设计方案", "[性能设计],[性能架构],[设计方案]"),
            ("003", "缓存策略设计", "缓存策略设计与实现", "[性能设计],[缓存设计],[缓存策略]"),
            ("004", "数据库性能设计", "数据库性能优化设计", "[性能设计],[数据库性能],[性能优化]"),
            ("005", "负载均衡设计", "负载均衡方案设计", "[性能设计],[负载均衡],[均衡方案]"),
        ],
        "设计规范": [
            ("001", "UI_UX设计规范", "UI/UX 设计规范与标准", "[设计规范],[UI/UX],[设计标准]"),
            ("002", "前端组件设计规范", "前端组件设计规范与标准", "[设计规范],[前端设计],[组件规范]"),
            ("003", "后端服务设计规范", "后端服务设计规范与标准", "[设计规范],[后端设计],[服务规范]"),
            ("004", "AI模型设计规范", "AI 模型设计规范与标准", "[设计规范],[AI设计],[模型规范]"),
            ("005", "文档模板库", "文档模板库与使用规范", "[设计规范],[文档模板],[模板规范]"),
            ("006", "设计评审checklist", "设计评审检查清单", "[设计规范],[设计评审],[检查清单]"),
        ],
    },
    "03-YYC3-Design-System-开发实施阶段": {
        "开发环境": [
            ("001", "开发环境搭建手册", "开发环境搭建步骤与配置", "[开发环境],[环境搭建],[配置指南]"),
            ("002", "多环境配置规范", "多环境配置规范与管理", "[开发环境],[环境配置],[配置规范]"),
            ("003", "Docker容器配置", "Docker 容器配置与管理", "[开发环境],[容器配置],[Docker]"),
            ("004", "开发工具链说明", "开发工具链介绍与使用", "[开发环境],[工具链],[工具说明]"),
            ("005", "本地调试指南", "本地调试方法与技巧", "[开发环境],[本地调试],[调试指南]"),
            ("006", "常见问题解决方案", "开发环境常见问题与解决方案", "[开发环境],[问题解决],[常见问题]"),
        ],
        "开发规范": {
            "通用规范": [
                ("001", "Git工作流规范", "Git 工作流规范与最佳实践", "[开发规范],[Git规范],[工作流]"),
                ("002", "代码提交规范", "代码提交规范与格式", "[开发规范],[提交规范],[代码规范]"),
                ("003", "分支管理策略", "分支管理策略与规范", "[开发规范],[分支管理],[管理策略]"),
                ("004", "代码注释规范", "代码注释规范与标准", "[开发规范],[注释规范],[代码规范]"),
            ],
            "前端开发规范": [
                ("001", "React开发规范", "React 开发规范与最佳实践", "[开发规范],[React],[开发规范]"),
                ("002", "TypeScript编码规范", "TypeScript 编码规范与标准", "[开发规范],[TypeScript],[编码规范]"),
                ("003", "TailwindCSS使用规范", "TailwindCSS 使用规范与最佳实践", "[开发规范],[TailwindCSS],[使用规范]"),
                ("004", "组件开发规范", "组件开发规范与标准", "[开发规范],[组件开发],[开发规范]"),
                ("005", "状态管理规范", "状态管理规范与最佳实践", "[开发规范],[状态管理],[管理规范]"),
                ("006", "前端性能优化指南", "前端性能优化指南与技巧", "[开发规范],[性能优化],[优化指南]"),
            ],
            "后端开发规范": [
                ("001", "Node.js开发规范", "Node.js 开发规范与最佳实践", "[开发规范],[Node.js],[开发规范]"),
                ("002", "TypeScript后端规范", "TypeScript 后端规范与标准", "[开发规范],[TypeScript],[后端规范]"),
                ("003", "RESTful_API开发规范", "RESTful API 开发规范与标准", "[开发规范],[API开发],[开发规范]"),
                ("004", "微服务开发规范", "微服务开发规范与标准", "[开发规范],[微服务],[开发规范]"),
                ("005", "错误处理规范", "错误处理规范与标准", "[开发规范],[错误处理],[处理规范]"),
                ("006", "日志记录规范", "日志记录规范与标准", "[开发规范],[日志记录],[记录规范]"),
            ],
            "AI开发规范": [
                ("001", "AI模型集成规范", "AI 模型集成规范与标准", "[开发规范],[AI集成],[集成规范]"),
                ("002", "提示工程规范", "提示工程规范与最佳实践", "[开发规范],[提示工程],[工程规范]"),
                ("003", "Agent开发规范", "Agent 开发规范与标准", "[开发规范],[Agent开发],[开发规范]"),
                ("004", "向量数据库使用规范", "向量数据库使用规范与最佳实践", "[开发规范],[向量数据库],[使用规范]"),
                ("005", "AI服务编排规范", "AI 服务编排规范与标准", "[开发规范],[AI编排],[编排规范]"),
            ],
        },
        "技术文档": [
            ("001", "类型定义文件.d.ts", "TypeScript 类型定义文件", "[技术文档],[类型定义],[.d.ts]"),
            ("002", "枚举与常量定义", "枚举与常量定义文档", "[技术文档],[枚举常量],[定义文档]"),
            ("003", "配置参数说明", "配置参数说明文档", "[技术文档],[配置参数],[参数说明]"),
            ("004", "依赖管理说明", "依赖管理说明文档", "[技术文档],[依赖管理],[管理说明]"),
            ("005", "技术债务管理文档", "技术债务管理文档", "[技术文档],[技术债务],[债务管理]"),
            ("006", "第三方库使用说明", "第三方库使用说明文档", "[技术文档],[第三方库],[使用说明]"),
        ],
        "API文档": [
            ("001", "接口清单", "项目接口清单文档", "[API文档],[接口清单],[清单文档]"),
            ("002", "Swagger_UI配置", "Swagger UI 配置文档", "[API文档],[Swagger],[UI配置]"),
            ("003", "GraphQL_Schema文档", "GraphQL Schema 文档", "[API文档],[GraphQL],[Schema文档]"),
            ("004", "WebSocket协议文档", "WebSocket 协议文档", "[API文档],[WebSocket],[协议文档]"),
            ("005", "接口测试用例", "接口测试用例文档", "[API文档],[测试用例],[用例文档]"),
            ("006", "接口变更记录", "接口变更记录文档", "[API文档],[变更记录],[记录文档]"),
        ],
        "开发脚本": [
            ("001", "自动化构建脚本", "自动化构建脚本文档", "[开发脚本],[构建脚本],[自动化]"),
            ("002", "数据库迁移脚本", "数据库迁移脚本文档", "[开发脚本],[迁移脚本],[数据库]"),
            ("003", "测试数据生成脚本", "测试数据生成脚本文档", "[开发脚本],[数据生成],[测试脚本]"),
            ("004", "代码生成脚本", "代码生成脚本文档", "[开发脚本],[代码生成],[生成脚本]"),
            ("005", "开发辅助工具", "开发辅助工具文档", "[开发脚本],[辅助工具],[工具文档]"),
            ("006", "脚本使用说明", "脚本使用说明文档", "[开发脚本],[使用说明],[说明文档]"),
        ],
        "集成指南": [
            ("001", "前后端联调手册", "前后端联调手册", "[集成指南],[联调手册],[前后端]"),
            ("002", "微服务联调手册", "微服务联调手册", "[集成指南],[联调手册],[微服务]"),
            ("003", "AI服务集成手册", "AI 服务集成手册", "[集成指南],[集成手册],[AI服务]"),
            ("004", "第三方服务集成", "第三方服务集成文档", "[集成指南],[第三方集成],[集成文档]"),
            ("005", "数据同步机制", "数据同步机制文档", "[集成指南],[数据同步],[同步机制]"),
            ("006", "集成测试数据", "集成测试数据文档", "[集成指南],[测试数据],[数据文档]"),
        ],
        "开发进度": [
            ("001", "代码评审记录", "代码评审记录文档", "[开发进度],[代码评审],[评审记录]"),
            ("002", "技术难题解决方案", "技术难题解决方案文档", "[开发进度],[技术难题],[解决方案]"),
            ("003", "开发周报模板", "开发周报模板文档", "[开发进度],[开发周报],[周报模板]"),
            ("004", "里程碑完成报告", "里程碑完成报告文档", "[开发进度],[里程碑],[完成报告]"),
            ("005", "技术分享记录", "技术分享记录文档", "[开发进度],[技术分享],[分享记录]"),
        ],
    },
    "04-YYC3-Design-System-测试与审核阶段": {
        "测试策略": [
            ("001", "测试总计划", "项目测试总计划文档", "[测试策略],[测试计划],[总计划]"),
            ("002", "测试策略文档", "测试策略文档", "[测试策略],[测试策略],[策略文档]"),
            ("003", "测试环境管理规范", "测试环境管理规范文档", "[测试策略],[环境管理],[管理规范]"),
            ("004", "测试数据管理规范", "测试数据管理规范文档", "[测试策略],[数据管理],[管理规范]"),
            ("005", "测试准入准出标准", "测试准入准出标准文档", "[测试策略],[准入准出],[标准文档]"),
        ],
        "测试用例": {
            "单元测试": [
                ("001", "前端单元测试用例", "前端单元测试用例文档", "[测试用例],[单元测试],[前端测试]"),
                ("002", "后端单元测试用例", "后端单元测试用例文档", "[测试用例],[单元测试],[后端测试]"),
                ("003", "AI引擎单元测试用例", "AI 引擎单元测试用例文档", "[测试用例],[单元测试],[AI测试]"),
                ("004", "工具函数测试用例", "工具函数测试用例文档", "[测试用例],[单元测试],[工具测试]"),
            ],
            "集成测试": [
                ("001", "API集成测试用例", "API 集成测试用例文档", "[测试用例],[集成测试],[API测试]"),
                ("002", "微服务集成测试用例", "微服务集成测试用例文档", "[测试用例],[集成测试],[微服务测试]"),
                ("003", "数据库集成测试用例", "数据库集成测试用例文档", "[测试用例],[集成测试],[数据库测试]"),
                ("004", "第三方服务集成测试用例", "第三方服务集成测试用例文档", "[测试用例],[集成测试],[第三方测试]"),
            ],
            "功能测试": [
                ("001", "主仪表板功能测试", "主仪表板功能测试用例文档", "[测试用例],[功能测试],[仪表板测试]"),
                ("002", "AI_Family功能测试", "AI Family 功能测试用例文档", "[测试用例],[功能测试],[AI测试]"),
                ("003", "学习中心功能测试", "学习中心功能测试用例文档", "[测试用例],[功能测试],[学习中心测试]"),
                ("004", "项目管理功能测试", "项目管理功能测试用例文档", "[测试用例],[功能测试],[项目管理测试]"),
                ("005", "系统设置功能测试", "系统设置功能测试用例文档", "[测试用例],[功能测试],[系统设置测试]"),
            ],
            "性能测试": [
                ("001", "负载测试用例", "负载测试用例文档", "[测试用例],[性能测试],[负载测试]"),
                ("002", "压力测试用例", "压力测试用例文档", "[测试用例],[性能测试],[压力测试]"),
                ("003", "并发测试用例", "并发测试用例文档", "[测试用例],[性能测试],[并发测试]"),
                ("004", "稳定性测试用例", "稳定性测试用例文档", "[测试用例],[性能测试],[稳定性测试]"),
            ],
            "安全测试": [
                ("001", "渗透测试用例", "渗透测试用例文档", "[测试用例],[安全测试],[渗透测试]"),
                ("002", "漏洞扫描用例", "漏洞扫描用例文档", "[测试用例],[安全测试],[漏洞扫描]"),
                ("003", "权限测试用例", "权限测试用例文档", "[测试用例],[安全测试],[权限测试]"),
                ("004", "数据安全测试用例", "数据安全测试用例文档", "[测试用例],[安全测试],[数据安全]"),
            ],
        },
        "测试执行": [
            ("001", "测试执行计划", "测试执行计划文档", "[测试执行],[执行计划],[计划文档]"),
            ("002", "测试环境部署指南", "测试环境部署指南文档", "[测试执行],[环境部署],[部署指南]"),
            ("003", "自动化测试脚本", "自动化测试脚本文档", "[测试执行],[自动化测试],[测试脚本]"),
            ("004", "手动测试检查表", "手动测试检查表文档", "[测试执行],[手动测试],[检查表]"),
            ("005", "测试数据准备指南", "测试数据准备指南文档", "[测试执行],[数据准备],[准备指南]"),
        ],
        "测试报告": [
            ("001", "单元测试报告", "单元测试报告文档", "[测试报告],[单元测试],[测试报告]"),
            ("002", "集成测试报告", "集成测试报告文档", "[测试报告],[集成测试],[测试报告]"),
            ("003", "功能测试报告", "功能测试报告文档", "[测试报告],[功能测试],[测试报告]"),
            ("004", "性能测试报告", "性能测试报告文档", "[测试报告],[性能测试],[测试报告]"),
            ("005", "安全测试报告", "安全测试报告文档", "[测试报告],[安全测试],[测试报告]"),
            ("006", "回归测试报告", "回归测试报告文档", "[测试报告],[回归测试],[测试报告]"),
            ("007", "UAT验收测试报告", "UAT 验收测试报告文档", "[测试报告],[UAT测试],[测试报告]"),
        ],
        "缺陷管理": [
            ("001", "缺陷管理流程", "缺陷管理流程文档", "[缺陷管理],[管理流程],[流程文档]"),
            ("002", "缺陷分类标准", "缺陷分类标准文档", "[缺陷管理],[分类标准],[标准文档]"),
            ("003", "缺陷跟踪记录", "缺陷跟踪记录文档", "[缺陷管理],[跟踪记录],[记录文档]"),
            ("004", "缺陷分析报告", "缺陷分析报告文档", "[缺陷管理],[分析报告],[报告文档]"),
            ("005", "缺陷修复验证", "缺陷修复验证文档", "[缺陷管理],[修复验证],[验证文档]"),
        ],
        "质量审核": [
            ("001", "代码质量审核标准", "代码质量审核标准文档", "[质量审核],[质量标准],[审核标准]"),
            ("002", "设计审核checklist", "设计审核检查清单文档", "[质量审核],[设计审核],[检查清单]"),
            ("003", "测试审核报告", "测试审核报告文档", "[质量审核],[测试审核],[审核报告]"),
            ("004", "交付物审核记录", "交付物审核记录文档", "[质量审核],[交付物审核],[审核记录]"),
            ("005", "合规性审核文档", "合规性审核文档", "[质量审核],[合规审核],[审核文档]"),
            ("006", "质量门禁标准", "质量门禁标准文档", "[质量审核],[质量门禁],[门禁标准]"),
        ],
    },
    "05-YYC3-Design-System-交付与部署阶段": {
        "部署准备": [
            ("001", "部署环境规划", "部署环境规划文档", "[部署准备],[环境规划],[规划文档]"),
            ("002", "服务器配置清单", "服务器配置清单文档", "[部署准备],[服务器配置],[配置清单]"),
            ("003", "网络配置规划", "网络配置规划文档", "[部署准备],[网络配置],[配置规划]"),
            ("004", "域名与SSL证书", "域名与 SSL 证书文档", "[部署准备],[域名SSL],[证书文档]"),
            ("005", "监控系统部署", "监控系统部署文档", "[部署准备],[监控部署],[部署文档]"),
        ],
        "部署手册": [
            ("001", "Docker部署手册", "Docker 部署手册文档", "[部署手册],[Docker部署],[部署手册]"),
            ("002", "Kubernetes部署手册", "Kubernetes 部署手册文档", "[部署手册],[K8s部署],[部署手册]"),
            ("003", "数据库部署手册", "数据库部署手册文档", "[部署手册],[数据库部署],[部署手册]"),
            ("004", "中间件部署手册", "中间件部署手册文档", "[部署手册],[中间件部署],[部署手册]"),
            ("005", "前端应用部署手册", "前端应用部署手册文档", "[部署手册],[前端部署],[部署手册]"),
            ("006", "AI服务部署手册", "AI 服务部署手册文档", "[部署手册],[AI部署],[部署手册]"),
            ("007", "本地部署指南", "本地部署指南文档", "[部署手册],[本地部署],[部署指南]"),
        ],
        "发布流程": [
            ("001", "CI_CD流水线配置", "CI/CD 流水线配置文档", "[发布流程],[CI/CD],[流水线配置]"),
            ("002", "自动化发布流程", "自动化发布流程文档", "[发布流程],[自动化发布],[发布流程]"),
            ("003", "灰度发布方案", "灰度发布方案文档", "[发布流程],[灰度发布],[发布方案]"),
            ("004", "蓝绿部署方案", "蓝绿部署方案文档", "[发布流程],[蓝绿部署],[部署方案]"),
            ("005", "回滚方案设计", "回滚方案设计文档", "[发布流程],[回滚方案],[方案设计]"),
            ("006", "发布检查清单", "发布检查清单文档", "[发布流程],[发布检查],[检查清单]"),
        ],
        "数据迁移": [
            ("001", "数据迁移方案", "数据迁移方案文档", "[数据迁移],[迁移方案],[方案文档]"),
            ("002", "数据库迁移脚本", "数据库迁移脚本文档", "[数据迁移],[迁移脚本],[脚本文档]"),
            ("003", "数据清洗规则", "数据清洗规则文档", "[数据迁移],[数据清洗],[清洗规则]"),
            ("004", "数据一致性校验", "数据一致性校验文档", "[数据迁移],[一致性校验],[校验文档]"),
            ("005", "迁移回滚方案", "迁移回滚方案文档", "[数据迁移],[回滚方案],[方案文档]"),
        ],
        "上线割接": [
            ("001", "上线割接方案", "上线割接方案文档", "[上线割接],[割接方案],[方案文档]"),
            ("002", "割接时间窗口计划", "割接时间窗口计划文档", "[上线割接],[时间窗口],[计划文档]"),
            ("003", "割接应急预案", "割接应急预案文档", "[上线割接],[应急预案],[预案文档]"),
            ("004", "割接演练报告", "割接演练报告文档", "[上线割接],[演练报告],[报告文档]"),
            ("005", "割接后验证方案", "割接后验证方案文档", "[上线割接],[验证方案],[方案文档]"),
        ],
        "用户文档": [
            ("001", "产品使用手册", "产品使用手册文档", "[用户文档],[使用手册],[手册文档]"),
            ("002", "管理员操作手册", "管理员操作手册文档", "[用户文档],[操作手册],[手册文档]"),
            ("003", "快速开始指南", "快速开始指南文档", "[用户文档],[快速开始],[指南文档]"),
            ("004", "常见问题FAQ", "常见问题 FAQ 文档", "[用户文档],[FAQ],[常见问题]"),
            ("005", "新功能说明文档", "新功能说明文档", "[用户文档],[新功能],[说明文档]"),
            ("006", "视频教程指南", "视频教程指南文档", "[用户文档],[视频教程],[教程指南]"),
        ],
        "交付物管理": [
            ("001", "交付物清单", "交付物清单文档", "[交付物管理],[交付清单],[清单文档]"),
            ("002", "交付验收标准", "交付验收标准文档", "[交付物管理],[验收标准],[标准文档]"),
            ("003", "SLA服务等级协议", "SLA 服务等级协议文档", "[交付物管理],[SLA协议],[协议文档]"),
            ("004", "技术支持协议", "技术支持协议文档", "[交付物管理],[技术支持],[协议文档]"),
            ("005", "项目验收报告", "项目验收报告文档", "[交付物管理],[验收报告],[报告文档]"),
            ("006", "知识转移文档", "知识转移文档", "[交付物管理],[知识转移],[转移文档]"),
        ],
    },
    "06-YYC3-Design-System-运营与维护阶段": {
        "监控告警": [
            ("001", "监控指标体系", "监控指标体系文档", "[监控告警],[监控指标],[指标体系]"),
            ("002", "告警规则配置", "告警规则配置文档", "[监控告警],[告警规则],[规则配置]"),
            ("003", "监控面板配置", "监控面板配置文档", "[监控告警],[监控面板],[面板配置]"),
            ("004", "日志收集配置", "日志收集配置文档", "[监控告警],[日志收集],[收集配置]"),
            ("005", "性能监控配置", "性能监控配置文档", "[监控告警],[性能监控],[监控配置]"),
            ("006", "业务监控配置", "业务监控配置文档", "[监控告警],[业务监控],[监控配置]"),
        ],
        "运维手册": [
            ("001", "日常运维操作手册", "日常运维操作手册文档", "[运维手册],[日常运维],[操作手册]"),
            ("002", "故障处理手册", "故障处理手册文档", "[运维手册],[故障处理],[处理手册]"),
            ("003", "应急响应预案", "应急响应预案文档", "[运维手册],[应急响应],[响应预案]"),
            ("004", "备份与恢复手册", "备份与恢复手册文档", "[运维手册],[备份恢复],[恢复手册]"),
            ("005", "容量管理手册", "容量管理手册文档", "[运维手册],[容量管理],[管理手册]"),
            ("006", "安全运维手册", "安全运维手册文档", "[运维手册],[安全运维],[运维手册]"),
        ],
        "问题管理": [
            ("001", "问题管理流程", "问题管理流程文档", "[问题管理],[管理流程],[流程文档]"),
            ("002", "常见问题解决方案", "常见问题解决方案文档", "[问题管理],[常见问题],[解决方案]"),
            ("003", "故障根因分析模板", "故障根因分析模板文档", "[问题管理],[根因分析],[分析模板]"),
            ("004", "问题升级机制", "问题升级机制文档", "[问题管理],[升级机制],[机制文档]"),
            ("005", "用户反馈处理流程", "用户反馈处理流程文档", "[问题管理],[用户反馈],[处理流程]"),
        ],
        "性能优化": [
            ("001", "性能监控报告", "性能监控报告文档", "[性能优化],[性能监控],[监控报告]"),
            ("002", "性能瓶颈分析", "性能瓶颈分析文档", "[性能优化],[瓶颈分析],[分析文档]"),
            ("003", "优化方案设计", "优化方案设计文档", "[性能优化],[优化方案],[方案设计]"),
            ("004", "优化效果评估", "优化效果评估文档", "[性能优化],[效果评估],[评估文档]"),
            ("005", "容量规划报告", "容量规划报告文档", "[性能优化],[容量规划],[规划报告]"),
        ],
        "版本管理": [
            ("001", "版本发布计划", "版本发布计划文档", "[版本管理],[发布计划],[计划文档]"),
            ("002", "版本发布checklist", "版本发布检查清单文档", "[版本管理],[发布检查],[检查清单]"),
            ("003", "版本回滚方案", "版本回滚方案文档", "[版本管理],[回滚方案],[方案文档]"),
            ("004", "版本兼容性说明", "版本兼容性说明文档", "[版本管理],[兼容性],[说明文档]"),
            ("005", "版本发布复盘报告", "版本发布复盘报告文档", "[版本管理],[发布复盘],[复盘报告]"),
        ],
        "运营分析": [
            ("001", "运营数据指标", "运营数据指标文档", "[运营分析],[数据指标],[指标文档]"),
            ("002", "用户行为分析报告", "用户行为分析报告文档", "[运营分析],[行为分析],[分析报告]"),
            ("003", "业务数据分析报告", "业务数据分析报告文档", "[运营分析],[数据分析],[分析报告]"),
            ("004", "系统使用率报告", "系统使用率报告文档", "[运营分析],[使用率],[使用报告]"),
            ("005", "ROI分析报告", "ROI 分析报告文档", "[运营分析],[ROI分析],[分析报告]"),
            ("006", "运营改进建议", "运营改进建议文档", "[运营分析],[改进建议],[建议文档]"),
        ],
        "持续改进": [
            ("001", "迭代规划文档", "迭代规划文档", "[持续改进],[迭代规划],[规划文档]"),
            ("002", "技术债务管理", "技术债务管理文档", "[持续改进],[技术债务],[债务管理]"),
            ("003", "架构演进规划", "架构演进规划文档", "[持续改进],[架构演进],[演进规划]"),
            ("004", "最佳实践总结", "最佳实践总结文档", "[持续改进],[最佳实践],[实践总结]"),
            ("005", "经验教训复盘", "经验教训复盘文档", "[持续改进],[经验教训],[复盘文档]"),
            ("006", "团队能力提升计划", "团队能力提升计划文档", "[持续改进],[能力提升],[提升计划]"),
        ],
    },
    "07-YYC3-Design-System-合规与安全": {
        "合规管理": [
            ("001", "数据合规政策", "数据合规政策文档", "[合规管理],[数据合规],[合规政策]"),
            ("002", "隐私保护协议", "隐私保护协议文档", "[合规管理],[隐私保护],[保护协议]"),
            ("003", "等保测评文档", "等保测评文档", "[合规管理],[等保测评],[测评文档]"),
            ("004", "合规自查报告", "合规自查报告文档", "[合规管理],[合规自查],[自查报告]"),
            ("005", "法律法规遵循声明", "法律法规遵循声明文档", "[合规管理],[法律遵循],[遵循声明]"),
            ("006", "合规审计记录", "合规审计记录文档", "[合规管理],[合规审计],[审计记录]"),
        ],
        "安全管理": [
            ("001", "安全管理制度", "安全管理制度文档", "[安全管理],[安全制度],[制度文档]"),
            ("002", "安全开发规范", "安全开发规范文档", "[安全管理],[安全开发],[开发规范]"),
            ("003", "安全运维规范", "安全运维规范文档", "[安全管理],[安全运维],[运维规范]"),
            ("004", "应急响应计划", "应急响应计划文档", "[安全管理],[应急响应],[响应计划]"),
            ("005", "安全事件报告", "安全事件报告文档", "[安全管理],[安全事件],[事件报告]"),
            ("006", "安全培训记录", "安全培训记录文档", "[安全管理],[安全培训],[培训记录]"),
        ],
        "权限管理": [
            ("001", "权限管理策略", "权限管理策略文档", "[权限管理],[权限策略],[策略文档]"),
            ("002", "RBAC权限模型设计", "RBAC 权限模型设计文档", "[权限管理],[RBAC模型],[模型设计]"),
            ("003", "权限申请审批流程", "权限申请审批流程文档", "[权限管理],[权限审批],[审批流程]"),
            ("004", "权限审计记录", "权限审计记录文档", "[权限管理],[权限审计],[审计记录]"),
            ("005", "权限矩阵表", "权限矩阵表文档", "[权限管理],[权限矩阵],[矩阵表]"),
        ],
        "数据安全": [
            ("001", "数据分类分级标准", "数据分类分级标准文档", "[数据安全],[数据分类],[分类标准]"),
            ("002", "数据加密方案", "数据加密方案文档", "[数据安全],[数据加密],[加密方案]"),
            ("003", "数据脱敏规则", "数据脱敏规则文档", "[数据安全],[数据脱敏],[脱敏规则]"),
            ("004", "数据备份策略", "数据备份策略文档", "[数据安全],[数据备份],[备份策略]"),
            ("005", "数据销毁流程", "数据销毁流程文档", "[数据安全],[数据销毁],[销毁流程]"),
            ("006", "数据安全审计", "数据安全审计文档", "[数据安全],[安全审计],[审计文档]"),
        ],
        "审计管理": [
            ("001", "审计策略文档", "审计策略文档", "[审计管理],[审计策略],[策略文档]"),
            ("002", "审计日志规范", "审计日志规范文档", "[审计管理],[审计日志],[日志规范]"),
            ("003", "审计报告模板", "审计报告模板文档", "[审计管理],[审计报告],[报告模板]"),
            ("004", "合规审计checklist", "合规审计检查清单文档", "[审计管理],[合规审计],[检查清单]"),
            ("005", "审计整改记录", "审计整改记录文档", "[审计管理],[审计整改],[整改记录]"),
        ],
    },
    "08-YYC3-Design-System-资产与知识管理": {
        "技术资产": [
            ("001", "软件资产清单", "软件资产清单文档", "[技术资产],[软件资产],[资产清单]"),
            ("002", "开源组件清单", "开源组件清单文档", "[技术资产],[开源组件],[组件清单]"),
            ("003", "第三方服务清单", "第三方服务清单文档", "[技术资产],[第三方服务],[服务清单]"),
            ("004", "硬件资产清单", "硬件资产清单文档", "[技术资产],[硬件资产],[资产清单]"),
            ("005", "资产价值评估", "资产价值评估文档", "[技术资产],[价值评估],[评估文档]"),
            ("006", "资产折旧计划", "资产折旧计划文档", "[技术资产],[折旧计划],[计划文档]"),
        ],
        "知识产权": [
            ("001", "软件著作权材料", "软件著作权材料文档", "[知识产权],[软件著作权],[著作权材料]"),
            ("002", "专利申请材料", "专利申请材料文档", "[知识产权],[专利申请],[申请材料]"),
            ("003", "商标注册材料", "商标注册材料文档", "[知识产权],[商标注册],[注册材料]"),
            ("004", "开源协议合规检查", "开源协议合规检查文档", "[知识产权],[开源协议],[合规检查]"),
            ("005", "知识产权保护策略", "知识产权保护策略文档", "[知识产权],[知识产权],[保护策略]"),
        ],
        "知识库": [
            ("001", "技术知识库", "技术知识库文档", "[知识库],[技术知识],[知识库文档]"),
            ("002", "业务知识库", "业务知识库文档", "[知识库],[业务知识],[知识库文档]"),
            ("003", "运维知识库", "运维知识库文档", "[知识库],[运维知识],[知识库文档]"),
            ("004", "问题解决方案库", "问题解决方案库文档", "[知识库],[问题解决],[解决方案库]"),
            ("005", "最佳实践库", "最佳实践库文档", "[知识库],[最佳实践],[实践库]"),
            ("006", "经验教训库", "经验教训库文档", "[知识库],[经验教训],[教训库]"),
        ],
        "交接文档": [
            ("001", "项目交接清单", "项目交接清单文档", "[交接文档],[项目交接],[交接清单]"),
        ],
    },
}

# ===================== 核心功能函数 =====================

def create_directory_structure(base_path: str, struct: dict) -> None:
    """
    创建目录结构
    """
    for category, content in struct.items():
        category_path = os.path.join(base_path, category)
        os.makedirs(category_path, exist_ok=True)

        # 如果内容是列表（一级目录）
        if isinstance(content, list):
            for doc_id, doc_name, doc_desc, tags in content:
                file_name = f"{doc_id}-Design-System-{category.split('-')[-1]}-{doc_name}.md"
                file_path = os.path.join(category_path, file_name)
                yield {
                    'path': file_path,
                    'category': category,
                    'doc_id': doc_id,
                    'doc_name': doc_name,
                    'doc_desc': doc_desc,
                    'tags': tags
                }
        # 如果内容是字典（二级目录）
        elif isinstance(content, dict):
            for subcategory, docs in content.items():
                subcategory_path = os.path.join(category_path, subcategory)
                os.makedirs(subcategory_path, exist_ok=True)

                # 如果子内容是列表（二级目录下的文档）
                if isinstance(docs, list):
                    for doc_id, doc_name, doc_desc, tags in docs:
                        file_name = f"{doc_id}-Design-System-{category.split('-')[-1]}-{doc_name}.md"
                        file_path = os.path.join(subcategory_path, file_name)
                        yield {
                            'path': file_path,
                            'category': category,
                            'subcategory': subcategory,
                            'doc_id': doc_id,
                            'doc_name': doc_name,
                            'doc_desc': doc_desc,
                            'tags': tags
                        }
                # 如果子内容是字典（三级目录）
                elif isinstance(docs, dict):
                    for third_level, third_docs in docs.items():
                        third_level_path = os.path.join(subcategory_path, third_level)
                        os.makedirs(third_level_path, exist_ok=True)

                        for doc_id, doc_name, doc_desc, tags in third_docs:
                            file_name = f"{doc_id}-Design-System-{category.split('-')[-1]}-{doc_name}.md"
                            file_path = os.path.join(third_level_path, file_name)
                            yield {
                                'path': file_path,
                                'category': category,
                                'subcategory': subcategory,
                                'third_level': third_level,
                                'doc_id': doc_id,
                                'doc_name': doc_name,
                                'doc_desc': doc_desc,
                                'tags': tags
                            }

def generate_document_content(doc_info: dict, template: str, version: str, creation_date: str, status: str) -> str:
    """
    生成文档内容
    """
    file_name = os.path.basename(doc_info['path'])

    # 构建标题
    if 'third_level' in doc_info:
        title = f"{doc_info['category']} - {doc_info['subcategory']} - {doc_info['third_level']} - {doc_info['doc_name']}"
        doc_category = f"{doc_info['category']}/{doc_info['subcategory']}/{doc_info['third_level']}"
    elif 'subcategory' in doc_info:
        title = f"{doc_info['category']} - {doc_info['subcategory']} - {doc_info['doc_name']}"
        doc_category = f"{doc_info['category']}/{doc_info['subcategory']}"
    else:
        title = f"{doc_info['category']} - {doc_info['doc_name']}"
        doc_category = doc_info['category']

    content = template.format(
        FILE_NAME=file_name,
        DESCRIPTION=doc_info['doc_desc'],
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        TAGS=doc_info['tags'],
        TITLE=title,
        DOC_CATEGORY=doc_category,
        DOC_NAME=doc_info['doc_name']
    )

    return content

def write_document(file_path: str, content: str, encoding: str) -> None:
    """
    写入文档文件
    """
    try:
        with open(file_path, 'w', encoding=encoding) as f:
            f.write(content)
        logger.info(f"✅ 已生成: {file_path}")
    except Exception as e:
        logger.error(f"❌ 生成失败: {file_path} - {str(e)}")

def generate_readme_content(category: str, docs: list, version: str, creation_date: str, status: str) -> str:
    """
    生成目录 README 内容
    """
    doc_list = "\n".join([f"- [{doc['doc_name']}]({doc['doc_id']}-Design-System-{category.split('-')[-1]}-{doc['doc_name']}.md)"
                                for doc in docs])

    content = README_MD_TEMPLATE.format(
        FILE_NAME="README.md",
        DESCRIPTION=f"{category} 目录文档索引",
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        TAGS=f"[{category}],[文档索引]",
        TITLE=category,
        DOC_LIST=doc_list
    )

    return content

def generate_project(document_root: str, version: str, creation_date: str, status: str, encoding: str) -> None:
    """
    生成项目文档
    """
    logger.info("🚀 开始生成 YYC3-Design-System 文档架构...")
    logger.info(f"📁 文档根目录: {document_root}")
    logger.info(f"📅 创建日期: {creation_date}")
    logger.info(f"🏷️  版本号: {version}")
    logger.info(f"📊 状态: {status}")
    logger.info(f"🔤 编码格式: {encoding}")
    logger.info("")

    # 创建文档根目录
    os.makedirs(document_root, exist_ok=True)

    # 生成文档
    total_docs = 0
    category_docs = {}

    for doc_info in create_directory_structure(document_root, PROJECT_STRUCT):
        content = generate_document_content(doc_info, MAIN_MD_TEMPLATE, version, creation_date, status)
        write_document(doc_info['path'], content, encoding)
        total_docs += 1

        # 收集每个类别的文档信息
        category = doc_info['category']
        if category not in category_docs:
            category_docs[category] = []
        category_docs[category].append(doc_info)

    # 生成各目录的 README
    for category, docs in category_docs.items():
        category_path = os.path.join(document_root, category)
        readme_content = generate_readme_content(category, docs, version, creation_date, status)
        readme_path = os.path.join(category_path, "README.md")
        write_document(readme_path, readme_content, encoding)
        total_docs += 1

    # 生成根目录 README
    doc_tree = "\n".join([f"- [{category}]({category}/README.md)" for category in PROJECT_STRUCT.keys()])
    root_readme_content = ROOT_README_TEMPLATE.format(
        VERSION=version,
        CREATE_DATE=creation_date,
        STATUS=status,
        DOC_TREE=doc_tree
    )
    root_readme_path = os.path.join(document_root, "README.md")
    write_document(root_readme_path, root_readme_content, encoding)
    total_docs += 1

    logger.info("")
    logger.info("🎉 文档生成完成！")
    logger.info(f"📊 总计生成文档: {total_docs} 个")
    logger.info(f"📁 文档根目录: {os.path.abspath(document_root)}")

def validate_document(file_path: str) -> dict:
    """
    验证单个文档
    """
    result = {
        'valid': True,
        'errors': [],
        'warnings': []
    }

    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()

        # 检查必需的元数据字段
        required_fields = ['@file:', '@description:', '@author:', '@version:', '@created:']
        for field in required_fields:
            if field not in content:
                result['errors'].append(f"缺少必需字段: {field}")
                result['valid'] = False

        # 检查品牌信息
        brand_info = ['YanYuCloudCube', '言启象限', '语枢未来']
        brand_found = any(info in content for info in brand_info)
        if not brand_found:
            result['warnings'].append("缺少品牌信息")

        # 检查五高五标五化
        yyc3_info = ['五高', '五标', '五化']
        yyc3_found = any(info in content for info in yyc3_info)
        if not yyc3_found:
            result['warnings'].append("缺少五高五标五化信息")

    except Exception as e:
        result['errors'].append(f"读取文件失败: {str(e)}")
        result['valid'] = False

    return result

def validate_all_documents(args) -> None:
    """
    验证所有文档
    """
    logger.info("🔍 开始验证文档...")

    document_root = args.document_root
    total_docs = 0
    valid_docs = 0
    invalid_docs = 0

    for root, dirs, files in os.walk(document_root):
        for file in files:
            if file.endswith('.md'):
                file_path = os.path.join(root, file)
                result = validate_document(file_path)
                total_docs += 1

                if result['valid']:
                    valid_docs += 1
                    if result['warnings']:
                        logger.warning(f"⚠️  {file_path}: {', '.join(result['warnings'])}")
                else:
                    invalid_docs += 1
                    logger.error(f"❌ {file_path}: {', '.join(result['errors'])}")

    logger.info("")
    logger.info("📊 验证结果:")
    logger.info(f"  总计文档: {total_docs}")
    logger.info(f"  有效文档: {valid_docs}")
    logger.info(f"  无效文档: {invalid_docs}")

    if invalid_docs > 0:
        logger.error("❌ 存在无效文档，请修复后重新验证")
        sys.exit(1)
    else:
        logger.info("✅ 所有文档验证通过")

def update_document(file_path: str, version: str, creation_date: str) -> bool:
    """
    更新单个文档
    """
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()

        # 更新版本号
        content = re.sub(r'@version:\s*\S+', f'@version: {version}', content)

        # 更新创建日期
        content = re.sub(r'@created:\s*\S+', f'@created: {creation_date}', content)

        # 更新更新日期
        content = re.sub(r'@updated:\s*\S+', f'@updated: {creation_date}', content)

        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(content)

        return True
    except Exception as e:
        logger.error(f"❌ 更新失败: {file_path} - {str(e)}")
        return False

def update_all_documents(args) -> None:
    """
    更新所有文档
    """
    logger.info("🔄 开始更新文档...")

    document_root = args.document_root
    version = args.version
    creation_date = args.creation_date

    total_docs = 0
    updated_docs = 0

    for root, dirs, files in os.walk(document_root):
        for file in files:
            if file.endswith('.md'):
                file_path = os.path.join(root, file)
                if update_document(file_path, version, creation_date):
                    updated_docs += 1
                total_docs += 1

    logger.info("")
    logger.info("📊 更新结果:")
    logger.info(f"  总计文档: {total_docs}")
    logger.info(f"  更新文档: {updated_docs}")
    logger.info(f"  版本号: {version}")
    logger.info(f"  更新日期: {creation_date}")

# ===================== 主函数 =====================

def main():
    parser = argparse.ArgumentParser(description='YYC3-Design-System 文档架构一键生成脚本')
    parser.add_argument('--mode', type=str, default='generate',
                        choices=['generate', 'validate', 'update'],
                        help='运行模式: generate(生成文档), validate(验证文档), update(更新文档)')
    parser.add_argument('--document-root', type=str, default=DOCUMENT_ROOT,
                        help='文档根目录路径')
    parser.add_argument('--version', type=str, default=VERSION,
                        help='文档版本号')
    parser.add_argument('--creation-date', type=str, default=CREATION_DATE,
                        help='文档创建日期 (YYYY-MM-DD)')
    parser.add_argument('--status', type=str, default=STATUS,
                        help='文档状态')
    parser.add_argument('--encoding', type=str, default=ENCODING,
                        help='文档编码格式')

    args = parser.parse_args()

    try:
        if args.mode == 'generate':
            document_root = args.document_root
            version = args.version
            creation_date = args.creation_date
            status = args.status
            encoding = args.encoding

            # 生成项目文档
            generate_project(document_root, version, creation_date, status, encoding)
        elif args.mode == 'validate':
            validate_all_documents(args)
        elif args.mode == 'update':
            update_all_documents(args)
        else:
            print(f"❌ 未知模式: {args.mode}")
            print("可用模式: generate, validate, update")
    except Exception as e:
        logger.error(f"❌ 执行失败: {str(e)}")
        sys.exit(1)

if __name__ == '__main__':
    main()
